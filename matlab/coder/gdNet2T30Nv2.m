function [y1] = gdNet2T30Nv2(x1)
%GDNET2T30NV2 neural network simulation function.
%
% Auto-generated by MATLAB, 30-Aug-2021 21:36:35.
% 
% [y1] = gdNet2T30Nv2(x1) takes these arguments:
%   x = 14xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0.014469;0.014929;0.016612;0.019995;0.027617;0.033129;0.040462;0.032248;0.027814;0.019981;0.016227;0.014616;0.014469;0.001797];
x1_step1.gain = [2.02936285109246;2.03031050553716;2.03378524041375;2.04080591425554;2.05680272073864;2.06852827316157;2.08433642023557;2.06664517355686;2.05721950326378;2.04077676045056;2.03298931765763;2.02966559229701;2.02936285109246;2.00496228164708];
x1_step1.ymin = -1;

% Layer 1
b1 = [1.0694358606273908219;4.6883288258981670182;6.7982745762874587925;-0.17092507438356127625;-2.106912146543826303;2.4719663190108049911;-1.1690003911471489317;-2.9414684497133163354;1.8409483373181139143;-7.7720559001624032192;-2.5517342951951467178;0.7738215511802530866;2.2934452708528945131;0.54254333548848698854;0.37335437631411177994;11.347490095129627363;-12.409221400883620134;-16.942425476430233999;-8.0698665982815303011;4.9342698021263160513;-0.16324092828408520717;-6.4014432451772194099;-3.1377520813318362514;-0.54756227682021119119;-1.8660529884167980086;-0.81301132187384195227;-3.9597341904864289397;-13.444531312738936535;-15.902898130995680503;3.2263578728992476918];
IW1_1 = [-0.38331202941057046507 -0.62221968247203474078 3.7037617364849761969 0.038927063283745358402 0.2630180302407974513 -0.050037711297070838756 -0.015489743529225271507 0.99341607535542053586 -0.56312418164486521821 -0.030811129454739610151 0.17150212431784758738 -1.3063231181247305646 0.56218004366568130603 0.00010201105202021359952;1.2459528815707758831 -0.26425661566221830823 -0.080653905289513022625 -0.3120848663789015931 -0.11553451032400728626 -0.29062046532937757526 -0.15025213704510639867 -0.13634370956890071169 -0.22063252909157476944 -0.17195601883189678971 0.33973496338607328537 0.88875416803391138476 2.5907840240717834313 0.037530476505985663205;2.7581365637741033225 -4.3396527603578398669 0.23895655920688080309 -0.39026274681558653645 -0.76649245610090299685 -0.79239271472960071119 0.78505345258414482856 5.5965535831527057908 0.30812930437487440205 1.1530613529749393908 -1.7466456487622397109 1.7740376432462396927 2.5260981376081295124 0.076676177066902939661;5.6752594321295033453 -7.3939253259294916987 -5.5973748754247241166 0.95547023914362694264 -0.24739770300554647653 0.55868758421131503589 0.77400412907053750544 0.088287887781449872482 -0.086497995224357193678 2.3625229453735854257 -2.0950398951992550423 -0.40629821118353565135 6.2780843178170639973 -0.032485748465930483486;0.67969054643990878262 0.28714202728811411003 0.58423991188776225325 -2.8907622408126405489 -0.96283913086480388266 -0.13108112572315000488 1.1372194904716022013 0.38415369893996248463 0.37740773904305141562 -0.49838199974987840157 0.11737993687017392319 -0.4926403040014483703 0.42651791778409536837 0.093078109541264358873;0.21158264845832272516 0.56778118403822241955 -6.0869506980321652634 1.5840728117556135413 11.41864769135249702 0.73301611962285595503 0.44179838733665238726 0.76895675703256771705 0.91225062968495840288 1.8663208665903874284 0.58805025438775471169 -3.2335483578896098145 -0.79892967541564752221 -0.36825883997462505182;0.58837021129139643882 0.1884033915530578529 0.010127002984199870439 -1.9430651054993539617 -0.49878531711033968765 -0.57339215140488775102 1.2332473568366564276 0.37681811030926432027 0.30269441995431217718 0.568443086039466694 0.26733023103333741766 -0.91621390979227246287 0.41859000539651242123 0.047323770431380723922;-0.39121984001807819098 2.1362067449651824802 -0.36736233480321311973 -1.0405246164277168752 -0.18404004349565547538 0.58362345986208263859 -0.06193059751461997553 0.60239743959492453307 0.039516101056231447974 -1.3629378485373637719 -4.4117329432552825352 2.2368660703953726632 -0.08567278150099445766 0.18088107441405287812;0.06548815689569421894 -2.3069004135193664773 1.037734592579946602 0.59529909954932203053 0.59744638305932240563 0.040536575606079448819 -0.062103651798161768616 0.31971266376545010024 -0.11178583937531431924 -0.81427768868649785805 0.10610483223267896946 1.8554717963621620846 0.60714381042821763401 -0.079714354604383572123;-1.6534689778254143544 -6.6191979817907053985 5.797919612506316156 0.75178794278103555637 -1.9025357780942155905 0.77562669822630958549 0.54230225690116107273 2.6439098325969356829 -1.9705941755654032832 -4.7066685168748776391 0.28522189792314778245 -0.90160557279471509329 -2.4075306566536087693 -0.173179044719546954;0.14072805218979625441 -0.26352754866087263474 0.44479071033288936077 0.36659899245371330156 -0.1359805142302493719 0.96271563218135325357 -1.8841867555110687338 -1.0148565745306907804 -0.26470664362972728956 -0.13313996943994976796 -0.19920175014905028288 -1.1780017565874798535 -1.2059446431464342364 -0.1545211635401364525;1.3840687809614278247 -0.97404534901332517904 -0.31724963670352934741 2.1619903742272854608 -3.3948721120883820213 -3.7813137202385478375 6.5861349767152415069 -2.03460576233755841 -0.59081799263778334019 -1.532743980649384774 -0.12876793180772796998 -3.3113219219408334126 1.2612203940173225547 -4.0852840532876566471;-1.4791439981943017568 1.150163610408253545 1.906753771791505736 -1.1372913989296227211 2.1852296924594170058 -0.48750356784619952588 -0.63594978834738491447 -1.4686663978788672136 1.6184741223877328054 0.56922526337044077049 0.69569825039677313239 0.50573413319741966632 -0.87156980415922491456 -0.17406622627148482518;-0.22675414351514672218 -0.00050104012124253674912 0.08850845308807797629 -0.054981024906031343569 -0.011126756359166786389 0.18400313716389501972 -0.10102607575849670285 -0.07943076980956564892 0.020568068240832081822 -0.16197509027061349207 -0.016984090887748805321 0.061693530162667285788 0.10761412366401268415 -1.3766893452196076186;-2.6335449769887890881 6.7524612903517988727 -2.1098271366612202371 -0.38698630549792245592 3.5982449824245459347 -1.1656136609531848602 -4.7214769502086415542 1.4994183888827963269 -0.46501608790852627662 1.1570334616671673622 0.23700763966678189965 0.014506968747599813946 -2.6743854803917463947 -0.3274852284458462659;4.3025343409245673243 1.4737145002090472623 -3.8010348247133625144 3.5956836320816800701 3.7412065496453985602 -1.2054421742741845414 3.4450423666560707758 -4.6619794295102678916 10.212478557767161291 3.3048281478398933153 2.7309539704772758384 2.4047171115885848103 5.3286122607999120149 0.31140043098215275386;0.00024443618764603824989 2.8417441176057947061 3.2309700553992266592 1.5300311861016104853 -6.5884175948021042046 -8.8342626625056883682 1.0213782111164195765 2.0724784231324346884 2.0624604286437993039 -1.5887169730304160353 -3.7528661219267007709 -2.3396108097564103367 -0.031857510246119567776 -5.7824058187679732157;-1.1131878545505944356 -0.96111535595794561626 -0.15322526756473145437 -0.25066151768952754653 -2.6178473408290257041 -0.55167768704575237404 -2.4391379151573704398 -1.3865219329569204998 0.92866249253486521376 -2.5120644250762302896 -0.43179169307029319214 -9.7968097135068958892 -2.3790534048327467431 -3.0989321030495742271;-1.3404436825153316359 -2.6962335965846730979 -2.1296254668454044356 -0.094725525365871018901 -0.24120431255965713024 -0.64159285098480867138 1.6303291194713493972 2.1496217535201473936 -2.2524190343527124014 -7.4383726625253281384 -0.91995910339054887128 3.5819752443541306164 -1.4041974601523676824 -0.2679279706673332595;0.81713967522013120082 0.47982037838630270388 -0.50324160900045666889 -0.80104545788568037867 0.085147939283598012006 -1.270134818880059413 2.9908651592972654853 0.48195647735609692397 0.47370289397248649399 2.8808439006038981667 0.75811375032559458198 0.25079782077222234626 1.2056662315972612731 0.095965550175628869245;-1.435342787740863546 5.3944530090538078682 -0.67632056014591712678 2.7745312994706088361 -6.3022778090547495466 0.27195648140604433696 0.58155984614623912332 3.8595972982378192739 2.5638671770805254724 -5.0937475389205788545 0.72731647575400182326 0.22662932843317962206 -0.58614902874554231094 -0.30370313369238993717;-2.7184622742270785345 4.2183750345663613146 -0.3960531455065854356 0.41156412704156303262 0.70921889770977419865 0.76356740599243932976 -0.91305730940337714863 -5.5056849017998210627 -0.0049174194872869548406 -0.80394422192707160058 1.2557923968555924077 -1.4617808813427413117 -2.4672792143871467019 -0.095189399259299450895;-2.9339661828526115706 -0.17560196283381729332 -0.39972363706896518742 0.086300827288517151237 -0.075651420171128760939 -0.43536985888196333416 0.49871669778111876736 0.071958342156510660126 -0.3005101068450355406 -0.40297586811728908218 1.1272633864663090808 1.5147104244230717995 -2.6659812069011254998 -0.19720942375879230157;-1.0967431382755934433 0.55313256887428541297 0.027913566546466303531 1.4876090438043694242 0.68315437371950127332 0.46928457192406058951 -0.12800438359675034294 2.3270189444945206247 0.01040402070753326802 -0.39239401533314255399 -2.2908321136072551383 2.1379905754618984126 0.15283935061791734111 -0.13221904136424236786;0.24637882006690053904 -2.2351262098451867288 -0.17947750256899813737 -0.24895888247456518516 0.46241413782606805016 -0.14936331056539725592 -0.28693471374593831902 0.14872936419744034464 0.23170046487368309296 1.3967056932493746579 -0.86164601795404915929 -1.2403657575652595746 0.86503836407205292325 0.01431974021264513508;-0.92632613996857326999 0.79108043486506218755 0.16084534903953318086 1.3133156044911302729 0.52425723784173416941 0.50562176173666584234 -0.25148716765592565858 2.2920031306122861103 -0.079828217959025893347 -0.30301313375819932672 -2.5556780531625129527 2.2905573303740975888 -0.32322041988477040464 -0.051803577461043921748;-3.095711618280627242 3.134805613885121911 -1.2539995903784910691 -1.8270158521354911141 2.3506339237589704005 2.2161337905904932022 -0.3179548265669372431 -2.0446788558960875548 -3.0612173300263041398 -6.6559706364177939619 5.8683373302639436631 1.0532400489908781971 -2.9432429902413597134 0.084156276850889985552;2.8796596881470550855 5.253835901746152004 -4.8844930349069750619 -8.4958043811053194361 -8.0246250674786026025 -1.7788247726014061456 -2.3209824973863368847 1.5691862354578893779 -6.5573624399545149544 0.30914685844719586028 0.15047827108813247032 -6.4375920664465686727 3.4412582757776659648 0.43085834808103351534;-1.9037988628178752482 -5.0353390493959633289 -1.0850937659411556968 -2.5107823379588656287 2.2710388845125071278 1.0214365556800140133 0.54574030993263056288 -1.4286852854532896551 -0.53639634521936729872 1.7960826366230999707 -9.1486273682917165218 -1.6380394883377662474 -1.994947475734017095 -0.058045642831626519109;-0.49783671887154712365 3.9945668901681230523 1.3569461720257973703 0.026927806502840368613 -0.94330387146176408741 -0.034893961661490717485 0.86111126356193623543 -0.22484765474005299901 -0.47464449371749278805 -0.38042461160458035385 0.11131215990485847367 1.2134753006026524069 -1.3099542126408816323 0.0044619618289908720074];

% Layer 2
b2 = [4.6320477035017724177;1.3259789789980029884];
LW2_1 = [-0.55345001930427462078 -6.2768158741956812108 -4.5962730093150181432 -0.52372335003610803739 -1.83344853235897709 -0.23271843981034281978 2.0916266881925857923 0.84013386239445964065 1.5339568739413540488 -0.56287251368629398485 1.7912893130970950484 -0.078413966842603682883 -0.49371371087055337945 -0.018239662850787451143 0.31387125775562235708 0.13179988678685700121 0.14758156386490997591 -0.022398050251529584564 0.3837715699967881311 1.1110495360039938095 0.27817096948985636784 -5.0812538413507457591 -0.35590690166811522754 3.5373201706974231051 1.4941412654433878782 -3.9582802685964546541 0.3245460152135066223 -0.094994064103093273088 -0.27247956877517093277 1.5471093150852670561;-0.069359389539036336858 -0.47153658650205726444 -0.33003343872050161512 -0.030374605042904817553 -0.014929517030495744606 -0.014918529498926124191 0.051319482967957165409 0.11576762557390389563 0.12251507063212305204 -0.0040487738952992916031 0.24088683524451887097 -0.038748252558260712353 -0.04357597130810446362 -1.076899037313459262 -0.0059820683087302966435 0.0060746168365239392242 -0.29640591176542063767 0.85989840650127746802 0.0082131367783173109959 0.12048766590980136693 0.009630023778466141951 -0.34177099671408250892 -0.051988057398667061881 -0.26523950191789091857 0.025641416816631758951 0.20954040675821625217 0.010733658296248995909 -0.014180267686112062869 0.008459244100209940484 0.04653689259601238859];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;2];
y1_step1.xoffset = [-1;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
