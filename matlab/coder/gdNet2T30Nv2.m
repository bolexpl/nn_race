function [y1] = gdNet2T30Nv2(x1)
%GDNET2T30NV2 neural network simulation function.
%
% Auto-generated by MATLAB, 18-Aug-2021 15:36:30.
% 
% [y1] = gdNet2T30Nv2(x1) takes these arguments:
%   x = 14xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0.014469;0.014929;0.016612;0.019995;0.027617;0.033129;0.040462;0.032248;0.027814;0.019981;0.016227;0.014616;0.014469;0.001797];
x1_step1.gain = [2.02936285109246;2.03031050553716;2.03378524041375;2.04080591425554;2.05680272073864;2.06852827316157;2.08433642023557;2.06664517355686;2.05721950326378;2.04077676045056;2.03298931765763;2.02966559229701;2.02936285109246;2.00496228164708];
x1_step1.ymin = -1;

% Layer 1
b1 = [-9.3315667809220190776;-31.057127640455828299;-9.6406839132528023839;-2.5434716571364051063;-1.0156897466086680648;5.387979333637392898;4.0236306099581913287;-1.1768508425668040562;6.408677373127985355;3.84023759493970962;7.7532178711009924754;-2.4055512550614888134;3.6704041550109054448;1.5176049546181396011;1.4756854783194006675;-6.3012500419168846477;-2.5659034937428661927;-36.53717803527404584;4.3045991262304070801;6.8794277023723866549;-3.9980645130354335315;-0.11019538976968291932;-1.671746780089485851;-4.0868452887792452444;-2.398578694125824029;5.880504671080255541;-4.6336444678982831036;1.9564806875747524639;13.503147180448079823;0.79174654038010516821];
IW1_1 = [2.930032479967910497 -0.12890364424208042293 -4.9052134580773554262 -1.1368202753043310516 -2.3530518781484350832 6.3599349400826792333 -6.0250638390884692086 -4.5841538662683714023 -1.4102386096358561218 0.11617164398336848885 -0.15129258613884294382 -6.9555786400120105384 1.9215481312252447044 -0.11353256548522791536;-0.68590404070796295866 -4.8091569230614883423 -0.80454663524843794686 -0.74899185885215169289 -4.8207538801347569191 1.3437910023841466156 -5.2838799274979226794 -4.1554381215570277419 2.1677240112518534332 -5.2563046287447647842 0.11156106171942253846 -19.968431494347157695 -0.47521228012610144953 -6.327638585622571199;1.0792569045918427584 -7.6357231635774756029 -2.0692701048567703204 11.991691094754793667 -11.422524186024986648 -5.0394906067533442595 -2.8614652173163253046 0.170068863207181592 -1.380338528315367963 6.7542462812916523873 -7.3536072637854044132 -1.0216544295917160401 1.5234939565103400305 1.0365388893640012924;0.1654076489831934893 -1.7014403289052346668 -1.7935014749645570298 -2.8203435641896437147 -2.1462566946650598609 -2.1146710491761329109 -0.44661351499747492522 -1.8814398701363834743 -0.61225546589831192357 2.3379657164425129423 -1.3939861595541651607 -1.5823879716356479275 0.52926696569980258289 0.49330265906084375116;0.7227834094597462844 -2.1671369480615818581 -1.1602677208441536383 -3.753792863967673199 1.3842448615957827496 -0.54382338302407462471 4.4997741553978229945 -2.2350110183557370114 4.2954337001390259232 -0.88164464492034955168 0.56518017624836036639 0.86526598673195609379 0.43122823654118375147 -0.49311091782248084314;-1.0865828570899946914 0.99806060973764865185 -0.50010302012821072903 -0.39410263500500203326 -2.6983870361235271496 -0.014581013110019129531 -1.4159271257516132803 -0.24562630670378521325 0.2779695151870088532 0.2269542695819608269 8.4783204753911487472 -1.555218801261933681 -0.0027231503848671304892 -1.8984099503996052505;-1.64763544732706535 0.3116483598768940988 -1.6165702805007240439 4.5018898583895694543 0.49699765899029407779 -1.6917414823017846714 5.1564922273892443982 2.5589309163701030592 -0.56560805218233656255 -1.1454976023582874589 0.62695600762982028886 -1.0517823043253262671 -1.2922293298375815418 0.20566595094743495009;8.5980577020601494098 -10.291882249456062226 -3.0986322998578077481 -4.7435719965894014294 -0.64154333173279032287 0.12783252004695269677 1.0649810591679409466 -0.48072141770725917986 0.64278685264673351973 2.462014951243883587 -1.989633362084472834 -0.64066876946141748661 8.3739706504385758024 0.28709591433642966951;0.83055315335528734355 -2.5690508466319879055 -0.20585139107670363812 0.15183500726012510995 -1.5497812976134095475 -0.28297171079042787722 10.02211153137202615 0.10812308411266970121 1.3016749745576547959 0.70148712840521287859 0.54804245389463068783 0.36758093815867226573 0.37003257983806220333 0.058657948491809192015;-1.8431823938038340849 6.3741541965359536093 4.3968221141126528906 -0.8239935784574107247 -0.57828417807814036511 -0.33179139056016893061 -0.28704047613622957202 -0.14889403752862295782 -0.4595291619604329747 -0.079689367154272050531 -0.30426897875072722588 1.1196749908190086753 -2.6960329946167433945 0.26724639436929065184;4.7576320696967497881 7.3164920859187327906 0.086865382540417340751 2.6224292931604766821 -8.0673677365372693515 -5.7072864979507009764 0.78100346230712980322 6.951222191568833253 13.37338748024723678 3.0644140688237637704 1.7107317502966443712 -3.4134418136911670594 4.8210841033219713481 -0.39074093566271156375;-1.5559420447333738302 0.33445424268283868718 -0.76172026344391274844 -1.0248183770036840556 0.3638554762332539827 -1.7189948650572344224 -0.78131007562474386052 -0.33135967967188584282 -0.80399037620093338763 -0.26809150267325421169 -0.43151778763825399121 2.0801236534101539277 -0.29325291219602495074 -0.2130083616567562399;1.9524160613196577252 1.3503260546921587171 0.97518922175703748323 -1.8896231961639524677 -0.17720090818353717577 -1.6352522435144014601 4.1742211023499713463 -1.6890682824215992319 -7.9391412111413757202 13.053555710371602672 -4.9989404786524271884 0.25968676143262048317 1.2204168209030707981 0.23747767087378257589;2.0387651025294291074 -0.66494966447839209955 -0.74054798168368696221 -0.37981560662757191116 -0.48871518308673556064 3.7271397305627846919 1.1199431654785787504 -0.38945197744457638045 -3.2080832764030544624 1.3712290126912258792 -0.23324465320793119627 -1.1588428508947150597 2.5298683549434892726 0.094047167467371406424;-0.40671275284870245237 0.38347080556274926177 0.2313986175226729336 -0.060805948278211618963 0.47449107809480334241 0.39696364856100885277 0.035679110589295993938 -0.1973758206442880192 -0.045285341708844954745 -0.14270967817282628753 0.36500226964475496194 0.37874316976103966637 0.25203357133431530945 -2.7655254126703607831;8.2764211723314815572 -26.064865198127964874 1.4528870544764187489 5.6391460752097577469 1.995365094863850608 0.97546442551461587378 -5.2591423342210612546 0.55764673339783421557 -0.41977600953980082066 -3.334935063485281681 -0.45555054132570360625 -0.70823769392175917048 9.0776425403114728852 0.23091501804226721717;-0.057472814368981155198 0.39342992494053924402 0.058137634367634735688 0.053292012648404177289 0.033780436308045273808 0.0090922353970130133372 0.04260026818990198666 0.24447884644812745147 0.33670078141422132845 -0.12573921089080794533 0.26785975765292124873 0.17091066017793310472 -0.050727468498677721898 4.0049615001810963122;2.3473403333163096462 -1.0321406716128740388 -24.31584534893296734 -4.1558522867355849328 -1.5900609740212052756 0.11874340778987055312 0.30959381781435263425 -1.3873732402837544164 0.11385272911367336213 -5.4712948488920938317 0.33619937727845961017 -18.997998661659874386 3.3929465488899794856 -0.75139819724845346993;4.7928872480620965391 -7.6452910755775116414 0.98617532439240862541 2.578507287305709994 -0.79300413754319309945 -0.51421627569654593248 -9.8918269906111202516 6.7871857257455756596 13.901507262534121168 -8.0867492656468371592 1.0298224058130691638 0.82870881907602633731 4.6048472296143518889 0.58143008982026533893;10.681785123152085504 -7.283935302559500613 -3.1338863353273711532 -5.1768263633658992973 -5.2654110493542889415 -6.4564038873386673245 6.5659669802128908245 -0.91792820193553525954 0.37227553569068350114 -0.49134835886690853002 -1.1955192417594933119 9.3678849072392207376 10.243634943270725657 0.97627398135637843968;-2.5219640415507251774 1.7054548271823455341 -1.5685253961063911898 2.0110165522559948492 -0.77827464512762323245 1.5476154208599635087 0.14754834096935998122 0.58041949297605266445 0.22928188007261254833 -0.69482159876723115222 0.18100767001668482958 -2.700957740759916792 -2.1388901929580463879 0.17875611239498270799;2.484141944756522502 -0.53079056183929462787 6.4143291448510932895 -7.858107384473728807 -0.048788617295756911418 0.054937523407793259489 -1.0764968894191468962 -0.15903944275132053665 -0.68072502648894306354 -2.5045416592388551891 -1.3490784160457589547 -0.51784783799529776616 3.3358991023798774123 -0.34555252436336009181;0.0040287928500370162599 0.22406596827057062571 -1.0828775230775173899 0.32120787238105219519 -0.28433537183462354037 0.17158165236516037533 -0.03175478525235524152 0.92805525790177512135 -0.15697518439143676172 -0.39841056453588180597 1.00746253880170622 -1.3028168822342307553 -0.34625162770584394512 0.069168276151662058671;-2.395392381811008331 -2.0211371596276301865 -0.85538416559428120944 0.91968905088611097032 1.867748311855509602 -2.4725667112220768296 -1.9779646706027762537 1.8972462646098986472 1.4870763028693521068 -0.61438387944782668626 0.35176734168325646257 -0.53457019829025331781 -2.8184600585511421222 -0.91901153075038810591;-0.95662576101177654309 0.060835705435550918585 1.9701236001321733582 -1.2462731685785388702 0.41560666326491696454 0.61028566088690272551 -3.0010979612252164372 0.21007074169118736262 7.7327970285286351526 -10.643586860942537697 4.1852578964627404901 -0.73253880513814317865 -0.79857185355394799675 -0.12897115443491624642;1.2478741990002633067 2.3433795251408735538 0.46881489394942621463 -0.32643781546804157001 -2.8539492811263778016 2.9243570230193260961 6.0011629577201324182 0.41068429538003148327 0.54278489075946134701 0.50613941542432894227 0.40319595666895907682 -0.82362873828965743606 0.88696139564910392306 -0.014804057817415981063;-2.5281016942104770351 1.1190197088307354267 0.053388135350667165202 0.047638945684534472758 -0.028358959873601832791 0.10106651821454255835 0.4327263182332530822 -0.49077648696917997029 0.29698944632908735874 0.34130888164630390769 -1.4197432844415298625 -0.55415024256994960261 -2.6149930382629738013 -0.17165601963121920881;1.6198482197299348684 -0.90275265765550127828 -5.9685638748142935128 -1.159517280639913217 0.8693998645241765022 -0.71456034317699590463 0.1176445329563488712 -0.42480616122675152191 0.47891213016299605254 1.1846688483573095674 4.9364720750302995 -0.71491684623183793246 1.1345763968154576329 -0.98587219667723346994;4.0147048693575024814 9.865861176936819632 -9.3465827844064914842 0.73037235919470711032 0.48035264812326894379 -0.23671744447276779622 -0.73693835745068292375 2.3770989332886425238 0.091853488151214371382 -2.0960677814743906566 6.4780842153434949893 1.6891485504851864174 2.8093990314117585072 0.068647658895079274877;1.6330707373248327663 -4.7599253617158021612 -0.51050053772437009592 1.2780132255388605422 0.050458349807515887053 0.80140866962642720583 -0.45607754687589174836 -0.19266842272355108601 -0.017688718426224034341 0.18201516837871417609 -0.71057321810186879762 1.5723205208441723979 0.35341635986892439014 -0.37107723957874061416];

% Layer 2
b2 = [0.22373960905148176925;1.0974885797072084781];
LW2_1 = [0.17733937915096889548 -0.025086672665019023321 0.12176184255745418905 -0.31139962210230509587 0.16722113441078287344 -0.18050513344760843459 -0.2272486023331354299 -0.26419141540549739844 0.2367788943020659731 0.63231014074154312521 0.13419159523023385661 -0.49344927613778055697 -0.33846992130496522666 -0.35930760828832447595 0.0033437402787631527457 -0.36257616074540161 0.014069947694031449681 -0.17206810256565185924 -0.23124221659609897617 0.1315728572394737339 -0.57073904312283740836 0.18663950028374809431 0.99546219855349515893 -0.25380772272796880973 -0.28698050541981628969 -0.28365981958303182475 1.196169411324118359 0.26358132353369334577 0.42912542912927587047 0.81104728203079101689;0.033454183915260636561 0.71712555420560164521 0.0093540214639671881436 -0.058718233663297210445 -0.011781517808511783596 -0.057619116303244011235 -0.0074070458428281511429 -0.011504490414173526233 -0.0014230052091053742649 -0.00054854242310200238865 0.0017371937324179985863 -0.0023775143062343320061 -0.013573609214542481372 -0.032811771082482531214 -0.58090339497107312816 -0.022403107592600564335 0.30685549783055521278 0.024989367611420586213 -0.013776084845060473927 -0.00070719261169781819955 -0.018192077070999481542 0.009822540056759226923 0.027738063553682065776 -0.033588364842470706806 -0.016450873816104605307 -0.016440360553399209487 0.036443568452067275076 0.03339509034991196279 -0.0261940536095329711 0.027123387389927068603];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;2];
y1_step1.xoffset = [-1;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
