function [y1] = old_gdNet3T40N_working(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 15-Aug-2021 21:31:36.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx14 matrix, input #1
% and returns:
%   y = Qx2 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0.014469;0.014929;0.016612;0.019995;0.027617;0.033082;0.040625;0.032347;0.027544;0.019775;0.016141;0.014448;0.014469;0.001797];
x1_step1.gain = [2.02936285109246;2.03031050553716;2.03378524041375;2.04080591425554;2.05680272073864;2.06842772603261;2.08469055374593;2.0668566107892;2.05664832136364;2.04034787931342;2.03281161223305;2.02931960972125;2.02936285109246;2.00451617494214];
x1_step1.ymin = -1;

% Layer 1
b1 = [21.551193242780279036;6.7228733407750436157;-0.41166617038196584577;7.7030709085716759787;0.19735187474021395615;3.8193887162383641787;-5.5711213874705212135;-1.5991010564782774939;1.3463420041798488391;-6.6674083615921722057;-0.58917553833294955545;-4.2873261513106752929;-6.625398926679403111;7.3887717447539147386;9.0214809495063708056;4.1899864716391395092;1.3171129695077343769;-1.5165720716409349933;1.5529396286964871621;-0.93509384633381564811;-0.91912111216520564483;1.5181758343649822685;-0.10331448653502263435;-0.1298872556507500442;4.5798941442477580921;-2.1857109682670281536;5.2545371760758712298;-21.084858044181228109;-9.0778766715593306458;-1.2927932235612724643;-2.5529344925871311212;-5.8027015218488910975;7.3551855875688607611;-3.1810942934622357114;-2.239441110754621711;6.4004378998945323787;-3.9405916197624786257;2.0424124415581488279;-15.28871544345517286;-2.722485074127226401];
IW1_1 = [2.7878829715414288337 5.4172372843776486206 -1.2165629450401933553 0.12680366929793374098 1.4792842189165260613 0.97598185894857114597 -1.0145775180577916164 -0.1429896041120152228 0.24784133863529783648 1.8535752382724104415 7.5998292125273598785 3.8122405910094956383 4.1078954248166761332 -0.20598433669808713375;-0.1548898512574695685 0.0080442282972047474132 -2.5675879716395373364 0.37926687057401525793 2.3132796698191211426 1.8144115293325884242 -0.30951483206694191397 -1.8069205836039501367 -0.22025843690301968869 1.8366758809811796205 -1.8041961777381503307 5.6468820416720957311 0.90905034019909980447 -0.45855335013474007866;0.91948316944290708896 4.3286055934234628495 -1.7313305156329739098 -0.4605293970006755222 -5.3045135237997698141 4.1074857900551018375 -2.986770507946816533 0.12322296585507389044 2.0701385564740557577 0.35478519082851556199 1.3950992724944348833 -0.22604917516729072791 0.37321813614198989795 -0.65773690776019544391;-0.17008644304895706445 4.4386255469004538554 0.072056644205391970348 -0.18952786079673081265 -0.40940445162287691927 0.86070980953759723686 -0.057388346679454291244 4.8667225931094018065 -0.92362615007015569368 0.35836946821271281616 1.45500071392466368 -0.61521099977403048698 0.86416384970844895008 0.046117485684189482575;0.19721907250214995577 0.57699753205361303809 0.44100459232231370432 0.78550699267301804518 -0.44743085915329522395 0.8515356450646451858 0.26958708152492683041 -0.054147363485363787794 0.075400553261910294167 -0.91219438406887565218 0.56773090246213808729 0.64597042261356474313 0.22269908871779886539 0.082727259756937926438;-0.50309267220072673155 0.58064793076214038514 -0.090302988140968348807 1.0215117351378650845 -0.84177812229593640403 0.21112975198611338978 0.092699136323930536596 6.5496352913067221735 -0.053214036934331354622 -1.8625225293661873405 0.037993159608184258469 -0.68041871904509010349 -0.79034706699900403315 -0.21790024825031101274;-0.4524330126025821186 -0.37395904672787927403 0.96830227897915144286 -1.2218148769091610184 0.12681632356448577226 -0.49945856377728886644 1.0510938590504133039 -1.4959581767688965304 -1.1953621408325587616 -0.32483200424237462789 0.50936298333625917856 -3.9736810489872906871 -0.15222458954741574511 0.43384638929011809516;0.54629926632870762226 0.93204684809687410318 -1.4389931758510865478 -2.1739005849162809092 0.48275903989588558884 0.54805703797262372845 -0.064155858734673248955 -0.35671268902228497888 0.40225567465563588643 0.59965836779173098403 0.1126518713568403357 -1.1733097026354137871 0.4080532859348050545 0.24828230960563837937;2.2034295413669768848 -2.502271429457672447 0.28403167905076309729 -0.13789174427431621917 1.8594887130163337829 -2.2900951662429869238 1.2689868227336533746 -0.97555737221564697847 0.19741600245748486264 1.0678809783919946952 -1.8974349354473947216 2.3675701745055253156 2.8520436399463577892 -0.35845720765634420113;-1.6021271386959365923 -2.7689451634404855795 -0.27216295710995219714 1.4015497697597674165 -2.5264594690149935197 2.783221414112017289 0.90711085896442333887 -0.94292846845528444089 -5.5209696000460670717 -7.7458573934654415538 2.081460959321297377 6.8979316707733673297 -2.4430667460312012196 -0.21095442571830719247;0.55441792266291778368 -0.44329972826386621065 -0.69706060717407059002 1.3137283709916827146 -0.043238840439592016174 1.1120622475185497624 1.2220263984082757602 -2.2206303864057646003 1.4629787477279643237 0.91257448070594793244 1.0951557630601285176 -0.51327657093295020463 0.2044109071091564922 -0.15472352892440149885;0.5947951049404920365 4.3524124355564941524 -0.1374435179603377688 -2.2455742993830964949 -5.9685643754293957741 4.1731615460150077723 -2.2150077971701516155 -1.3909000646474838359 0.013552605954449030781 -1.2424061709686262667 3.2094639722925344394 0.5656054717482436045 -0.31220162362363024222 0.84938070659752784586;-0.34996777919396043766 -9.6866655409650785913 -1.1586962084691301289 -2.7970394462869574426 -15.269678321278737698 3.0149590776604870968 22.446798996931892844 -3.2099827859084242299 -2.7441130611220874158 -5.8607164107344607018 1.8822273591348956945 -5.4790842727784649924 -0.68140782710156921897 1.032071566040549282;1.1935481652973498612 3.6532467241032171579 1.1098175322059793402 -0.24797288989903623624 -2.2280211659779252109 3.219378410639140764 0.11691914374395309673 4.4782724548867651748 0.28148119215502481749 0.022039689802359284376 0.22153379619641244691 1.6682456963403828887 1.3548916967399005085 0.30725729548056235352;0.90184939517227924455 0.35838874126686764976 0.12476776706761882885 -0.30603788596135123035 -0.15899931977179926346 -0.6744699878676592153 -1.7850777464860787536 1.3528141536296778291 3.5237229477219633722 -2.5503147719167551521 0.3596961223417685094 6.8967699519028418109 1.6307276080527617346 -0.23112995026811009036;7.0079165167795407498 -7.9690751098920680207 -5.4050027554539692431 1.8363558069035792464 -0.2535440666913985619 1.5074568534030616807 -0.036120360837594282788 0.68492516747640008745 0.64895679696164920713 2.0986439424385801011 0.78993112600891757236 -0.47638210735172448196 7.0642318044558001233 0.3380436557362965222;0.5542838455862000302 2.7397140521176077677 0.17779324007469163305 2.6399942156395423964 -1.2041269658467039783 -0.52512837559005587362 2.2715417338992063279 0.54266218987002412533 -4.3709018102477168455 0.73681769340946179359 3.0065799268200685823 0.34547332677111486365 -0.39416768645444472119 0.7533625923528920465;-0.25553944049484017542 -2.2439586527614032718 1.5814606884443820345 4.180790703273821407 1.187193039580881182 -0.72242024380128755379 0.04850710455071220728 0.47892798609652192932 -0.61719156356871485158 0.34518555550071172711 -5.5875883096428147212 1.1776016329401108873 -0.20178752880991321361 0.55028473682597889294;1.5428617253639047568 0.19283766153139833555 -0.3454555887236718803 -0.078104227567732428805 0.36873451712586319262 -0.19996993208389371444 -0.087580723412686425911 0.17398473421344948231 0.018366165390166715177 -0.59040480203634781997 -0.40120190569164931871 0.012098472372303473513 1.6152454526349133701 0.1832497665317671387;4.8992844128108670176 -4.0725212993589243737 -6.5033504534991477541 -2.6612151035475068994 0.035380027994644916434 -0.0076442196106027027885 1.2661253370475065161 -0.72536417248722817597 -0.07921959362023267559 2.6405254889422100639 -1.6989599064593530198 -0.91810949712822087498 5.430379836134391347 0.44521819952439961599;0.12294123580534747908 -0.4731897672344314576 -0.3626127879827471534 -1.6301861455801256451 1.1461546081265199248 -1.4602491674152189294 0.04283651221420185784 0.21992631356673594811 -0.017074592646772600302 0.37533255258563463785 -0.36540694242147242488 -0.70387789550425294838 -0.56006056159182548981 -1.7917976658152674485;0.13182779310115505522 0.33617288760552782589 0.2184983701492267949 0.31178932412036125532 -0.33379790298582462382 0.59466807219490847025 0.027822834903940302231 0.04867577519415312165 0.16039818740150244003 -0.16008737476965231861 0.15314693617022751004 0.30196754986490659256 0.10230990976036634377 -1.3014606143915086189;0.25565213858296836902 0.61401171927597830713 0.67508070466653991026 0.17774325701238058439 -0.078997563450505417504 -0.037957300195132673282 0.28710684807233644023 -0.39487175010994768343 -0.51843851777394955871 0.00043002610205348113653 0.074588290910116969434 0.04034333012377687433 -0.12407189682609685855 0.28271247656140191529;0.74131686330133672591 1.9391926957522185315 1.8008450405060822952 0.30844927352098050477 0.33228655902480658257 0.70005907401927225386 1.2862786000620758387 1.2364776104261538947 -0.7332188953191223213 1.397554259306828417 -5.8607736720800387431 1.5951805698507122155 -0.34357398522889387449 0.87454313988857013129;-2.4692562080998072815 -4.361885504754519971 12.09170342694119249 -2.3492762605999595316 -0.83012447548958478993 -2.4787326305574044483 0.78556886251167901136 -2.4043372440575736526 0.002306526494708274061 1.3055563237727725312 1.1026011976885063959 3.0750123789044954137 -1.4909321799752370818 -0.52283798030280326241;-0.7532729296725590995 0.013463149743181497889 -0.71763043655496205897 -3.0627336353955190162 6.4241336062311447108 -5.2562622706775563586 6.3432862093070845333 -11.166097038345865755 3.8283062622108308126 -0.32302542945322865187 0.96507737724280195923 -0.1029562531427852673 0.19003859430914674111 0.65046167994828485437;-0.16516894344765190028 2.8384020869537320841 2.2443522867790610675 2.4985356497208259796 3.244031654849006685 2.3495064901478786012 0.80198612153507697897 1.8680930408143114896 -0.1982386418269766748 7.9829591063731539791 0.62563600897319282534 -4.8907148843127261628 -0.075778082753662018289 1.4245305594708503882;-1.1348116285430334127 -3.0749051631672323914 -0.92152548751494833823 -1.3368225655783771977 -3.614610336901108667 0.37795913914807544032 -3.9846026579313149618 -2.7145657435139893821 1.6048149879564925779 -8.9140309808540081349 -8.0459094953800587291 0.38747518356451571275 0.23144738051885249686 -5.0855937567370608221;-4.8303759381497402003 1.3422612750583615693 4.9766402636247990543 -1.088412163731780069 0.014365989426519527178 -0.9976103616736540225 0.89545562932777444942 -1.0210880037273613041 -0.26149215794531793788 -3.1638554123903901427 0.30034015064939578732 -2.9917506765429733306 -4.8921762736760934231 0.13340965123077916377;-1.5407026226384887835 0.1099618073910514221 0.75897151155812003775 -0.032313662720812368068 -0.24831632828297980908 -0.24714324009682078764 -0.038755552183668939836 -0.48589112864655692459 -0.10099354862629414398 0.57849854021462021603 0.4343273658878947785 -0.34538675934801765788 -1.1117388556321481374 -0.098574825071602437121;5.4634269084624715873 -2.0520165035860338243 1.688029445700429676 -10.097078768244561076 -2.4668631514838739172 -1.1846859311034503293 3.1398884932339559128 8.1347082666885430768 -14.363917669757414686 4.964676403499153956 -0.1683515327117034166 -2.4130209641572100132 5.2582100756299725575 0.12717230720199676486;1.4480305226603207291 0.77859689372938412077 -3.9095836896126217042 -3.6399800048186663481 -2.5822639303734495897 -3.2635943083710250434 1.9147209566044560702 -5.1531491917918135215 2.9658581039080464947 -0.15318176496203933512 -0.55728594719604873653 -1.1950819997419819263 2.4781901243420763059 -1.5314043358010436258;4.515910983393477629 1.3378388381228885073 -0.31652566465631604142 -1.270933747331063346 2.5050112507653077287 -5.8790658668664326214 0.71734346334642573595 5.96743959321101336 -11.633220960381699172 17.375787062076003764 -7.0282220586309680499 -0.21966301816588676421 3.8758628495310558648 0.22887780425808953999;-2.6997905342876440393 -1.0891400375559840974 -0.63988256483110206307 1.0481217799148323522 3.2666203797926463004 -0.57144775493898947172 -0.60596533159763887877 -6.9382861274886504788 -0.94742255201979219681 3.9715302250568442766 -0.50102146618745546647 2.1277004083348547425 -1.9908339117470756907 -0.074556189819652216033;-0.59286629233895349333 0.18387998060693783176 -0.52746627388492484112 -0.18780233614825758703 2.9781081289876083495 -2.5945580559974246171 0.66538478132361689177 1.1233046606507239851 0.47995067723764178735 2.7524042707338174374 -4.0062204498163938027 -0.11043121991388477054 -0.54805987128417055221 0.27777125660863549728;2.7673334019415283258 -1.0887147303985031943 2.3702085771723244711 -1.1567588060125291172 -0.27810229971842004293 -0.12952236411707665487 -0.46043675861568955643 1.67689461268969775 0.85192640563665111841 -0.85845557263263017056 0.96438086815628509818 0.81981507105148421211 1.3318990499211849077 -0.053794199907971490537;-1.0771695210347038696 0.20804679389619878949 1.3728060893444991031 -11.1338053216674151 10.587276625955389875 3.37404403212684878 0.95675990117007070346 -0.23265164735146581787 -0.34456113381166569853 0.92362778072607110147 0.54609498001552514435 -4.8772491964771642614 -1.6613609082374256598 0.33711949859098877536;2.7477203824866660575 -0.32964005812694097131 -1.3003990321068268354 -0.48240567407660539523 -0.5442439946429596942 -0.80438088237410299008 -0.28315063244193144909 -0.72450690715202148429 -0.28089541401841888746 -0.64976918432786745505 -1.0495165453403012545 1.159830741030720036 1.8062056957890979536 -0.032704522323794019134;5.0908203801104994213 -14.42207598030868354 -9.1070385328488399068 1.5813923394569529002 0.29651880398530428007 -0.19345843684890592917 -0.12435462758718499043 0.086109837148847567789 -1.8412276925970032515 -0.82855648278705162912 -0.059103835963954770572 -6.9727812364701575731 5.7529173413844025831 -0.31996777994914965548;-1.9273538471491478141 1.3886184199319986377 -2.1732069614764526477 0.30456980606789885169 0.62018700681837546362 -0.90311065845051896606 0.19467453461653475011 0.044751894800702192445 -2.7255786427525836579 1.2968753087977731298 -0.23976198659893865894 2.1271702903302149856 -1.314886016571279681 -0.0018001606132986506647];

% Layer 2
b2 = [-0.11300781802377837804;1.5750050573281091371];
LW2_1 = [-0.43802087270963774301 0.50201856117798882018 0.31084403077980071739 0.63582266754419014543 1.5528927703858879106 -0.63448476291746058742 0.72796458307654088316 -0.72559558785860600594 0.37118367784491668182 0.22892981840951204253 -1.0629021387254720121 -0.3860549635330879914 0.15421206779958507305 0.23267407595984795909 0.32196982515271044267 -0.7057292543119111361 0.29570175882152771596 -0.39609338735153926114 1.8608873158164291883 0.36038394897699271846 -0.14056972564598532727 -0.055090470211946129808 -2.5423041957942191793 0.30364153679167182887 -0.21381811740291287172 0.1518052504354364951 -0.13133059497064461518 -0.083614997283829595176 -0.90450591047848660775 2.3242042364797379506 0.17422412765510522648 -0.16451701389826101085 -0.14910505172818347419 0.28767387107767405929 0.3465137748510820348 -0.89713314999685100926 -0.23156038342222790005 -0.7866879490383488216 -0.29096190528977655676 -0.52753223283353067874;0.013425394797135609473 -0.030264407049506069497 0.051941948598780783575 0.025400901408231715828 0.67609102230864215333 -0.025277076543784585821 0.019200510239895489384 0.062289176737221840785 -0.027820867130617706747 -0.024974166593253067231 -0.078833726510932317089 -0.03811550086167499185 0.010376439101520189279 0.020558014174418742792 0.0036650005911543627295 -0.037864896060834395131 -0.0074816732829970653343 -0.043433353010608563571 0.013694666686861802982 0.01298845652696617968 -0.27716531712063025017 -0.94098188525949699734 -0.13269938353339807979 0.015909190581966391881 0.011537802908247477007 -0.0028625374360687549577 -0.02316898893976135701 0.77000052766102788926 0.0052691239715082658843 -0.011482197573646128405 -0.0051425383230619212821 0.0012605437887294355329 0.00055884033905004759559 0.017966325562606511729 0.055492770114271394721 0.013567667358792761395 -0.0049665924572751957156 -0.042007127129779830987 0.017953154542864013105 0.023215148354605856518];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;2];
y1_step1.xoffset = [-1;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
