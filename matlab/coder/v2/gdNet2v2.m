function [y1] = gdNet2v2(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 28-Jul-2021 20:42:46.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx14 matrix, input #1
% and returns:
%   y = Qx2 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0.041253;0.049749;0.063343;0.07878;0.110229;0.135266;0.135191;0.115127;0.100462;0.078792;0.05694;0.046205;0.041253;0.004303];
x1_step1.gain = [2.08605607110113;2.10470707213147;2.13525335314848;2.17103406352446;2.24776936987157;2.31284996311004;2.31264938269606;2.26021135236356;2.22336354884396;2.17106234422628;2.12075583738044;2.09688664755005;2.08605607110113;2.06261054303379];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.457326382949488075;3.9274658077519903898;-0.28214703693511883342;-0.90997832041707538142;1.9454654608214139166;0.78880963558062189289;1.0829887084401974562;-1.9983168082526931997;0.84361846610353929954;2.1642398997801599592;-1.0779548444958504394;4.0029250175308623838;1.0607588506108984738;-1.6711547011235838855;-4.4326991815061793645;2.6666635222858574572;-4.9606741499231752357;-5.9735903676111794525;3.1490068577684664497;-3.2711315922652808297];
IW1_1 = [0.66456862093234958522 -0.6442966647638177502 0.85906117535869552793 -0.18789857186613070916 0.37535451334225489184 -1.0642983041841940217 2.1468207089763815532 -0.59099267271916811062 -1.5433989741726166223 0.6109459177445214495 -0.42872183897276172626 2.1557139744495308342 0.65253434257071329938 0.038684760869427764485;0.69944973761715467653 -0.41953754139363680364 3.192076966415438033 0.23689173594692247704 -0.41447044938622751298 0.3510691981928033556 0.45161290239314527684 0.18438901005083704887 -0.2244083531852122948 0.93550752475128484686 -0.056196496462146534878 0.28022855684210967731 0.41078081242545438911 1.0023795474862109423;0.1187912544786375868 -0.42806975218456377874 1.1376164460985358495 -0.53620382437750468974 1.4020462592037421512 0.22734103027669738673 0.10758092910816566268 0.84130216906757593343 -0.0493293352732450327 0.18541120304658020856 -0.81386814797111728392 0.65757669972714349882 0.73254441652533186513 0.16667426511725597083;0.38004634044247043168 0.16596684555323285015 -1.2716268526757412705 -0.95971274280045382188 -0.26908993972909378556 0.10953504026584368058 0.58933275773924953533 0.11310812118000290738 -1.8257359809904041281 0.13285993489281777702 0.54156586314501720114 1.8209450303633571977 -0.33635283232262580544 0.91413946900999543121;-0.23071891279683490183 -0.26864852289191404333 -3.2055430658263106558 0.29438577655637609976 -0.41639091522725746319 3.7573526743062291011 0.65803740728808346461 -0.64915391215041740036 0.4007839073675497632 -0.56977737308899167878 0.10823396534012585946 -1.9766638638478875034 0.43538034723781593449 -0.20093992446840208688;0.78842843666507189671 1.2000351321051134779 0.72714164599431396763 -0.2720365495099598685 0.76885244104215089145 -0.047762614335371933461 0.85925559978935861505 0.82534693273646864142 -0.25804585196920937218 0.54243891067788418958 0.097383801072962031253 0.50970878488065851641 0.30591344944677850703 1.3808659195733752334;1.4514348383387671859 -0.4032807787070572525 -0.62756821360195924608 0.16856820637110270233 -0.38690114587549861991 0.35691146996237027578 -0.22428651709184230234 0.47280700246717471957 -0.77725560906015156437 0.093101922351557536706 0.34107868195733587191 0.26268429860448727631 1.5221969110825106508 0.25642413865992297328;-1.8270747935239428639 0.13609416573171623233 0.69322189670784029047 -0.26908040188141718607 -0.17709793804952786433 -0.34534531889290187578 0.63880220648103347436 -0.24376099448850663265 0.23247492449026324612 -0.078297277671428813783 0.22825141119220229702 0.10058342221517628523 -1.6014866663515683332 -0.71897571102925150743;1.0306741248584105897 -3.6880397233705877191 1.483901521487500208 -0.43051557919282396059 0.028298811553764263715 0.89259103678478135535 -0.34979449426031017367 0.33961984921768889611 -0.56940639245567203908 -0.30618436977251012321 1.6854444438665341366 0.014900643773589961061 1.8213994430680138237 0.34995370852204715773;0.84866128307163635203 0.50739577336444197098 1.315071246834531804 -1.2774229268753425348 0.1997229738558068679 -0.085655641108355495827 -0.13408818644012229782 -1.0689042235929060443 1.4294881532067127416 -0.99549145609976852356 0.75833330668124476759 -0.33537546522047195774 1.447927675878071474 0.36463447734012632839;-0.69528144205363406893 0.39401182662981187876 -0.098378886557962563764 0.37210653876586502475 0.5112426865636381379 0.47677971004226293861 -0.83547437240587441032 -1.3552415282688241582 0.39653471553579749953 0.44439799666493623453 0.28098255603976957095 0.052301990288923898287 -0.73247823030379022313 1.129723905517517224;0.078884538386685076894 4.8329753083486641785 -0.79073718037884022092 0.1733991116025731527 -0.92573624680232968753 -1.0650475889843189492 1.5796410621930587759 -2.6146245377872321392 1.6981291087153316255 1.639290823440965772 0.53669856847323260673 -0.33363819862535448735 -0.055560383850251963966 -0.22475592212805778347;0.51247179779320406467 0.22115167833890597704 0.084725375223006035852 -0.70758022411927956608 0.94301978022230348309 0.52226155571854371296 -0.68414254371753813189 -1.4907332136818998158 -0.13017019467956955636 -0.33782157119799460787 0.20016452643935533917 0.1474997678005845192 0.49015963178499577513 0.41312625282812287519;-1.0005187521299085951 0.69987074356329637137 -0.4238888888988905923 0.2851287679856821522 1.000980725152837314 -0.077954993177807810345 -0.0026400814163207581009 -1.0123424769197804096 2.454455145904566038 -0.37769899337300250064 -0.24671772841213412963 0.76211923169096884578 -1.1365907477704420003 -0.74236109834062202761;-2.7075304283813395045 0.80355363161479176348 -1.2912097372122079975 0.23506212371975401809 0.79227314525405800882 -0.075750576516265655247 0.430952899677694512 -0.2807064133564210473 2.4289169431951376232 -0.039019587987491805015 0.0065536956977721647077 0.77807317096462846884 -2.2396047619482484237 -0.67952454262317751876;0.91426307719833332932 -0.24714086139875651726 1.648277746463946869 0.18447575623481354823 -0.44512567925168250449 0.34089639790260611862 0.82913632748152210628 1.4794557230390528169 0.062589748994949317984 -0.33092449589828154544 -0.15433967526088868127 -1.285553071439763384 0.81642941156556680937 -0.64008669837127585289;0.83224528727749080836 -5.5448279608978907618 -1.1357283136392304357 0.24584853767840297856 0.16840742867368793667 -0.49222130231244543008 -0.082716696202449965791 0.11991794992397991626 0.218901107600854683 -0.15694815586579313749 -1.4178446395906321165 -0.39890826199374013195 1.324552461098881917 -1.3309435715512172305;-2.2262260645713185525 0.63929164530358106866 -3.2826947871415446123 -0.51936615863080115574 0.29659795203538696917 -0.70379794389917416098 -0.24744254557162281838 0.86931460428980333877 -0.14783734264178965967 -1.72938862949009442 0.58045476616316804552 -0.36663521002623328249 -1.309722167288115191 -0.6340324923107769628;1.8197725341930355292 -1.9367172081443735365 -3.4571478357891587407 0.78591857103438045318 -0.67256046792322421446 1.3500608114844412366 -1.2748847624194377115 -0.52310374135045156763 -0.72633628748287004662 -0.27101247280315704513 2.1437984880313720737 2.0465071600039261845 2.4561535876439744008 -1.6551865240056597983;-1.6410372155686610007 4.6940454392470494227 -0.42133882115911919231 0.5409367718047320972 -0.32521115177067227986 1.2520493616388983504 0.15809438657939606232 -4.516064196012987253 -1.1054294052237676471 0.32074335953090138407 -2.5782827366735090457 1.2228613166559205716 -0.99078218216589508671 0.25111788136813489869];

% Layer 2
b2 = [0.85890428372558724757;0.37936394668519851647];
LW2_1 = [1.3828270199417436181 -2.8116937485082451609 3.2538181653810482885 0.93711552463492564513 1.1090445429384097054 -2.4501762347294118172 1.9154979415001818221 1.7217756690433685396 -1.9297734801313710662 1.3988484933097267149 2.0753251647245067879 -0.85793011086156945044 -1.7623828166337005552 -3.1648723485475551698 1.653546027659320572 1.4433003368872423522 -1.4384739981135172826 -1.9202350152605063283 0.68985965572010987668 -0.90991334711918558931;0.067489852016585999417 0.28822778453337266624 -0.67655957589420001597 0.45247329377636963388 -0.20556120756844170616 1.0834304078644569902 -1.1066928348481031019 -0.83250960985205735287 0.2179266082542847538 0.14923502107912200998 0.35590534535188805831 0.10177861207219873751 -0.097793175685695718502 -0.12762355577924258676 -0.04914668719491936677 0.19935817119244381157 0.56583470748369812942 0.26549450051656203753 -0.032512047811438765654 -0.13281435460453311359];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;2];
y1_step1.xoffset = [-1;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
