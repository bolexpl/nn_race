function [y1] = gdNet1Doublev2(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 28-Jul-2021 20:45:35.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx14 matrix, input #1
% and returns:
%   y = Qx2 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0.03278;0.037097;0.043548;0.054841;0.075468;0.115881;0.150039;0.129832;0.112429;0.081497;0.065613;0.057361;0.03278;0.006481];
x1_step1.gain = [2.0677818903662;2.07705241337913;2.09106154830561;2.1160460832516;2.16325665309584;2.26213892021323;2.35304913990171;2.29840674444475;2.2533408594918;2.17745614331145;2.14044073815239;2.1217030061349;2.0677818903662;2.01347011506982];
x1_step1.ymin = -1;

% Layer 1
b1 = [-2.5897000097477045344;-1.3346752565427264514;0.65393306813898299801;0.72114232248380172319;-6.2364003942779575596;-2.936815273548464944;1.8240356932503516418;0.35225162954952765615;-1.8227759066808644217;-2.1968704957411597789;-1.4685719359049405064;1.4696883912169000919;-0.71920614231805923833;2.1763274413005304631;0.37350922299437616658;0.15212031955906640812;-2.504823229662533457;-1.4890524560359117423;-2.4907287072157227037;0.84919067714517881829];
IW1_1 = [0.76699681417926746096 -0.90946021579074498575 0.02693294926317205823 -0.37765169901484885173 -0.81186361189480127365 0.79270205821899897281 -0.51316063707787495929 0.45272049404579312037 -1.5570551989357157563 -2.8291741826673870719 2.1212558664820764243 -1.1383438406034871448 0.25634153703234341393 0.92214283406143560118;0.58912632241317686166 0.070083406677644857763 -0.7180610775208677854 0.78601632904922646983 0.11237787809176938425 1.1127623278126350659 -0.54518523053917111731 -0.096411747790100046918 -1.4532018213325836875 -0.46384828949875800408 -0.25195022057034638374 0.57734125248041046063 -0.61336874464764612469 1.037763225542202683;1.7178017554839064562 -3.1482775587311619958 1.3847896158551975532 0.44901474241408617649 0.8030495716936117967 0.15160209966035390061 0.42971397518080906019 1.355122180970322221 0.056178521904450981483 0.012253821791119959284 0.50208870984491671408 1.5641118879822708543 0.9797641584361295175 -0.051455207761798946176;1.4029814823677739799 -3.0170251050089498257 1.2321101123520301623 0.24009894589294347722 0.63420055541767594853 0.075055814890969865805 0.33151629624013267961 1.2145953712724246731 -0.34522492112480951398 0.1879566537651172764 0.30039649842725846263 1.5340963847500634909 1.4946665035729955751 -0.025986177837233906396;0.22507086839107004472 -0.62372992990795772528 -6.3306648375327609912 0.081862929326417366305 -0.045052046269307088888 -0.82199873753463381654 1.7006230449215824496 -0.81339225490861533086 0.37255074007203126119 0.33820560977229563449 0.79415449247266223232 -2.7698788790406836391 -0.21537522856767529755 -1.3072723351024513327;0.72852172509039792025 0.24305815390472518267 0.20159236919953710254 -0.63268491815403882228 -1.1459670037246181273 -1.0684155713265675036 -0.42513767924043965873 0.022928742345563142557 1.0204007720035912499 0.45719291666829425802 -2.8783550565283713141 -2.4299438510675863689 0.83155201002616641048 3.1547816439774245545;0.086613369752098059995 0.12456434189251923417 -0.82711429717782514182 0.069281578928488588009 0.4264026562004511467 0.12514071064188608817 0.98504589772215001009 -0.53895673071824912181 1.3310909992285151482 -0.75786138505209255101 0.099525019582235529914 1.2413678237971590423 1.2632398263638549007 0.24726035561485598668;-0.67819164091973094255 0.24438720592065565906 0.25302648505957531233 -0.61387058805924032967 0.083534778631581860231 0.046385633590762490042 -0.049112719546410714411 0.77881130887547134201 -0.86935072314701122842 -0.89806069940601573887 -0.47880843390898308876 0.20831946320683530915 -1.3822876112405844129 -0.83873078263431311008;1.1376254260164164744 0.226707161488686193 1.1031953925587689724 -1.5202553392393842735 -0.32078518143315315481 -1.5601981506268534083 -0.044555532885447307612 2.4392487892287806339 0.61377720402304258851 0.15996584492436591307 -0.22678842623440054194 0.45886911006884467668 2.1192418593551347605 5.7577862852356211931;-1.1907700788808259773 0.083232527228316061096 0.37632752659378621019 -0.45053998356329605368 0.50129049660550650813 1.8490402350194623526 -1.8254175852584213491 -0.74572565185138839361 -0.514352076401281888 -0.016513404325148126062 0.51983530876015748845 -1.7681428173827202777 -1.0011436481161015699 -0.74437932244760651734;-0.3717843381375947609 -2.4048150520789808304 1.4429738768746576127 -1.2442296675841024722 0.61211932908197375092 3.4120917147951530524 -2.1581038445032909578 -2.0985481011210822544 -0.71436549100699353598 -0.22335682799752176741 -2.0497739398519150278 0.59664969866659423037 -0.84758933823771687166 -3.5111361524484756558;0.45538312229066008063 -0.18008067399935501207 0.63888493884119579302 -0.39592872400699696822 -0.18904740080688833825 -1.6269875274721048442 -0.068786296437164995421 1.6993649115380344838 2.0630949982288946387 -0.094336336049092708866 0.58797398099082198719 -0.33767370110165506603 -0.030358777900001854277 -1.1239447749169828583;-0.024124006204368483863 -0.69828618508298190282 0.21481377843941432126 -0.078307442010354333384 0.20286934853925076006 0.023086196217047421503 -0.91793360747989272141 0.5966131686509752452 -0.10614079204323188799 -0.99959224390446344 1.1122650480490940961 -0.26638771134725347522 -0.33384759523546708726 -0.5391574573909145851;0.83522491915399899032 -2.9474138765107751325 3.0263799496830254832 -2.1487383837999405323 -1.3526603615167116512 -1.5351077825530132781 1.6362518899253906124 -2.4114891197082579666 3.0315241534001708956 0.91241527231088648264 -1.4794439295170622728 4.0624673168105349674 1.5427479196257249949 -3.0785963385965211536;1.0465310097935305311 -2.5075274025408735845 -0.29899207959531054479 0.41295174716971427831 0.89198310281435921887 0.51061674004756241185 -0.30077293870226234906 0.27955886784865502381 0.053004567016245097977 0.24905316108413533271 1.1414835765861259809 0.085232451647703516562 0.41344511818023921279 -1.1883190498913156485;-0.068575407142042327235 0.32181786971133635733 -0.30225181453984828472 0.77429983740657493119 0.33888368325773871037 1.7703271010756653769 0.63801435500071768114 -2.7607076728518671338 -2.6695735419402466526 -0.0053813397862605503313 -0.90603755350274550739 1.6936307891744006859 -0.5446085189222759082 1.0064022573079907108;-0.69363418159391176943 -0.21658104766373861838 -0.68080445335137895757 0.6837242866175562428 0.22426995542152083907 1.2464025249690817709 -1.0133477178184799872 -0.75797314846658225829 -0.54337674142198821858 -1.1227036909568135492 1.4914250315378179135 -1.5143043232092430195 -1.1093220407752359957 -0.37238526094159063451;2.1574831455064216179 -6.807960928577092119 0.63987582614607996234 -0.39246169409354841884 -1.2081511968313238814 1.4247929343924143897 2.197552041660387534 -0.77857594108718453096 -2.9111378166887069696 2.6293326125117428838 -0.41894224096465815244 -0.89553683357996760606 2.8806909714250923393 -0.19305320138114201445;-1.0941698490514106812 0.14015754807416802574 0.55735555949320669811 1.1497906736700342911 1.3537208000414733267 -2.0398384649698426685 0.28929435089175226103 -1.4999968071123375157 0.34774687811322069209 3.0297573659115393241 -0.53574201048552583249 -3.1472366395215449764 -1.2493878184430498024 0.39040558169200417771;-0.2136991916522601731 -0.2191977725939670274 -0.081370326541610221716 -0.22164175460054988398 -0.38195501575473400635 0.5984178741121272127 -0.61692040914888168768 1.3712614200164676692 -0.80118250397978840738 -0.66914866442405140923 -0.69735600825801613567 1.0913624036526234917 -0.54414086723107635279 -0.2624443526259370163];

% Layer 2
b2 = [-0.035003020488608135863;0.90444908848696792258];
LW2_1 = [-0.17936584603173608143 2.2512429472564714494 4.902625768845878973 -5.8912697135250153835 0.76481820990181637043 -0.95110828205474329256 1.3075032623354687633 -3.874858865398767005 -0.29125660833711369824 2.1860881060538290832 -0.60739524161347346887 2.6943617049232750915 2.9302179884094230466 -0.55482159858339918923 -2.2404900533723104417 1.428880750919861109 -2.4342131030934877067 0.70779385006543371617 0.73935787189838209077 3.1920996687462084296;-0.36797199294720606133 -0.16765373527711521784 -0.48006305241740954148 0.62578271512840544233 0.036040153130587455899 -0.06280389249151707709 -0.065892592206416689127 -0.31770114034877400266 0.66971586080635414628 -0.53614972248081205208 0.23953597444733865096 -1.7453747686336866796 -0.062390641347933255279 -0.028353772409161651785 -0.41381654058939359997 -1.2597826380664729484 1.0054458901635987544 -0.040350860438441216171 -0.1256568908844507837 0.17389633356554656807];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;2];
y1_step1.xoffset = [-1;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
