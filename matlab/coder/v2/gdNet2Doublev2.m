function [y1] = gdNet2Doublev2(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 28-Jul-2021 20:46:22.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx14 matrix, input #1
% and returns:
%   y = Qx2 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0.041253;0.049749;0.063343;0.07878;0.110229;0.135266;0.135191;0.115127;0.100462;0.078792;0.05694;0.046205;0.041253;0.004303];
x1_step1.gain = [2.08605607110113;2.10470707213147;2.13525335314848;2.17103406352446;2.24776936987157;2.31284996311004;2.31264938269606;2.26021135236356;2.22336354884396;2.17106234422628;2.12075583738044;2.09688664755005;2.08605607110113;2.06261054303379];
x1_step1.ymin = -1;

% Layer 1
b1 = [5.3261642130585018506;2.4654282626624874908;-2.5375827874465328726;-0.16340393768160221821;9.6036457953555292022;1.0159756493809497524;-0.29496718231582497172;1.4905556276790314918;-0.77390912909061149172;3.9198939257696086003;-3.2633822333311406361;0.61215463864361652213;0.35228510479654395748;2.0969592640025198627;7.9329706913814916902;2.7191281414803420979;0.53200416385165560929;-6.5412529416008187155;-0.54937477442356319468;-0.2695978861303367502];
IW1_1 = [2.1482377487407089411 -1.6251866165023154398 1.0629321854626461175 -2.0937217539875563332 -1.1083548391859978643 -0.065597554978961761241 2.3367438411356014072 -2.5358849804160414898 1.5246139842088730632 -0.66041539675209603999 -0.77206288533841482824 1.7689291985030788368 3.0943013924890125921 -1.7824705522574699756;-0.91548916541038838357 -0.56976857756215570916 0.2928785857068234022 2.3499043685098977008 -0.54281852918976314371 -0.092991400277686528386 1.006303915213085709 0.81258797175462560425 -0.87975596543930323357 -0.12076605796282094407 -0.38600290035027207125 0.19227829321557968201 0.17440063936320954197 0.029879684864425676977;-0.093769510145749038199 -0.25224183869327587715 0.20324731035726836814 -0.38648725892885404942 -1.265938100421105883 -0.0071714135400524382791 0.18395199403349554723 0.19898208998816963033 -0.42646517206356915342 0.033201495323729068865 -1.2610094243735607833 0.42366264858978647245 -0.44646185279399586143 3.1804229318641037416;-0.5875990549986064293 -0.067592118663145572821 -1.1396891877626686984 -0.3730145852445585497 -1.0971476178451586847 0.24125539462093129051 -1.7540551897787193258 -0.88979680131847582736 1.4068025917131150582 -0.12510698365836792068 1.0187858485635092887 -0.93104701557621238894 -0.37431931097424386845 0.002617147846631915839;2.6233066472932651259 -0.2077765934934811265 -6.3617831714012185174 2.0294224989446605356 1.7047127105278474524 1.3450569002810803809 -2.0592064067288475826 -2.4541817589472803007 -0.16422409518110517301 5.150707289719860249 0.37269246809429601441 3.2740283053253902423 2.5180928484627433939 0.26410669395922115044;-0.72852859904348787889 -0.25295328875919137479 -3.4294880852931770576 0.03032863209604082233 2.9585571254509019923 -1.651827400523580458 4.1575866187423944353 0.50190123996588342781 -1.6444570896970021057 -0.55635264086926405902 -0.31987066779761097468 -0.49301216286128485278 -0.27038871547863391198 0.48851032634888624795;1.3837238115933288007 0.019851295200211935277 0.020650306020362187848 -1.8300173370349044344 -3.5039304680662608504 0.80317799191511529688 0.37069257778454955954 0.010672187169511557214 -1.4035301923918919176 -0.30580695838834520695 0.27308600801846022454 -2.1748612075568560797 1.9060528988832003972 0.89923716652976914965;0.97195145209925537522 -1.7890849532780492837 2.2909411389329594755 -2.0577474605132346497 -4.1678961617040410914 -0.12270054474623165452 -2.7920335212178950535 0.34017913371361097052 1.2877719104872589195 -0.12567155988962522284 3.8411636794505388259 -2.4844119364748999956 0.58914248230932242389 0.52944860310564056949;3.1886102723939893089 -9.6960266950244058393 3.5376682047436047718 1.1395783216257502346 1.7306365695441658925 -2.625377604977252588 -0.068812481215455759131 0.5659309110806483023 -1.7338280915635149171 1.7852781454190860266 -0.94367076581955777748 1.2010040374256936158 2.4721120396650806406 0.13598473826091733718;1.6730130143145147681 1.1350140504174603961 -1.0384212895131450516 -2.5720280963325841128 1.0581203771851896978 0.97748106010498436724 -3.1135493884535536679 0.10970891156216633355 -1.1037399824919804647 4.447595958145385886 -1.3948953004192075067 -1.4228847642938275975 2.0977255749832184328 -0.11057737224723819536;8.7826135739413206949 10.908639513056991532 -6.6982280149312281026 1.0302389891400034472 12.016122800011711291 -11.864681307866021598 7.2655387751116791151 1.3859302014613632537 -3.1795066668399987186 -3.5984769770067428496 5.7196106118526204298 -21.601427837904971341 8.2250081164707058434 9.5851001127585462314;0.27635612028648426364 0.64558346684913781033 -0.83515348287121082826 0.77489575172025759731 0.84241514293778640976 0.69345976023274435995 -0.60449971158262572057 -0.31673895780314975656 -0.0024970952157147632833 -0.18963343240919519617 2.0734277295273075836 -0.70429718300492738514 0.086924737038619442897 0.45232092320563715981;0.71053683996610916829 0.34989968804889975962 0.76736705076509281742 0.60707262523473803917 0.92577993526880830721 -0.24664933884439549372 1.0926404779033382919 0.9385408797983914031 -1.146840627844675442 0.3739244206961873096 -0.12825051605823054035 -0.0025608504623734970607 -0.094471540513763663238 0.20431008443577819422;-0.22432929546558830203 0.39100854955277997149 1.9875014072575509783 1.3157416536090911219 -2.1061922238001331564 1.1151915102895670895 3.0504113925849507538 0.080368581142711226217 -0.52104224493031714438 1.0725936440832237739 1.4532125560617756843 -0.56573211584911964334 -0.97934608737672923517 -0.42428400763480866864;5.8348099848530718958 -13.954254014264268591 0.85036441229515291607 2.3941633532124462214 1.2827922679714927057 0.38527792460201126801 -3.2369598998863677863 -0.51576689699640976272 2.288384426525729598 1.0208553141144309784 6.414628576339548971 -2.1851429553667349737 5.604730106823701874 -1.1414272730847614401;1.7206037149658521823 -0.54375297343967798902 -0.18777751777228701702 -1.4274862950217588331 -0.5297830927575892801 0.17075756926111695932 0.071132777522544501925 -0.73224399842112597447 0.039654831003342619344 -0.14764976886194930428 -0.30861982211935562459 0.24569100699537591015 1.5916776462740374054 -1.0534376815713870634;0.37285545556399457556 0.20351209183475735265 -0.41520822079825808748 0.93285580202548579187 2.499958650865689691 -0.49971855039531792864 -3.9651867970954621789 1.2454780491241053131 -1.2877117311670986943 0.70409414162579198049 -0.20289863398485058488 1.0049685060418043214 0.62110317841238726899 1.0571542943499134815;0.23741126154679192961 -0.52449272496862753279 -0.61678279244144729176 -0.91479385225479070698 -0.5634010449482179661 0.40150768481305454394 0.38932054628398704565 -0.26278724698907773849 -1.601883154309432955 0.12873207298740504956 -2.5514113799494873014 -1.3445287286253071457 -0.011726667007894243933 -0.73807152187275781863;1.8802713815560261335 0.0056343760749689997258 0.032099511470216689213 -1.8134869604605330373 -3.6907998736773581783 0.83325363299009780338 0.3758582244340994416 0.023386895735632504123 -1.4691243827702429314 -0.32108334788091918988 0.27721351504757602013 -2.2482017190954906027 1.3487465889505783068 1.102711506012524989;-2.2052921054282772495 6.659829659758264242 -4.2445588968242624617 -1.0199838042013305017 2.5439397424369358802 -5.3929965441481684252 1.5943398849739378598 -1.5608624107830042504 2.5654297271700854388 -0.68094498026099214982 -1.4945674162068800506 -4.0340728318045799838 -2.7459837896327412565 -0.92631158021951831572];

% Layer 2
b2 = [-4.118138936857541843;1.2108140182223274817];
LW2_1 = [1.105271646283299436 -2.678425465491498958 -0.3786194767302542008 -6.5665266035623179874 -0.66899176596801057659 1.2577758920776831442 3.3193664486230272104 -0.74449809958361301554 -0.6408642606157931576 1.0558524320541602393 0.30668660629580507537 -1.1580009095603180924 -8.4920792733556389464 0.81105513347568169991 0.75971150810780929685 -3.887714321923407379 1.0855902453766659299 -6.2845330255952784881 -2.6144777131791157032 -0.65531321949542387095;-0.11468567982735600186 0.32554461331755418785 0.68082410201904175473 0.34971470581044805659 0.082248340417164444993 -0.17691941804173377806 7.4630626429483086781 0.27905139687376745439 0.073195980816168848548 -0.07589851816729217826 0.059077776524754245513 0.55179597503875965625 0.87696124817815601649 -0.079554115598299099399 0.13528230223320095171 0.061047208289573148821 -0.087047959882952816169 1.17287241402136444 -7.462452549594508433 0.23497346482072906104];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;2];
y1_step1.xoffset = [-1;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
