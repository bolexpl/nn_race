function [y1] = gdNet1v2(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 28-Jul-2021 20:41:57.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx14 matrix, input #1
% and returns:
%   y = Qx2 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0.03278;0.037097;0.043548;0.054841;0.075468;0.115881;0.150039;0.129832;0.112429;0.081497;0.065613;0.057361;0.03278;0.006481];
x1_step1.gain = [2.0677818903662;2.07705241337913;2.09106154830561;2.1160460832516;2.16325665309584;2.26213892021323;2.35304913990171;2.29840674444475;2.2533408594918;2.17745614331145;2.14044073815239;2.1217030061349;2.0677818903662;2.01347011506982];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.85938606146926999063;4.2985683652455337622;-1.4214574713902485836;-3.8191693364471577254;-0.75543712562366327479;1.1259238536890814331;0.018523931849550919621;1.3038813396268891243;-2.2529553299278082257;0.17836984363603966552;0.87905121821241583024;-0.18557689456932499605;1.0412472611235277231;-1.0251670541270883064;-1.4369957825229766613;-0.99129592799655741331;1.6445133094144743779;3.9780487071608567895;0.073953735038525883483;-2.6994580397174816611];
IW1_1 = [-0.56244904357020464314 0.48182755026842172263 2.2274510972899590477 -1.2237800223198680438 -0.52784690834544856219 -0.359739181711452638 0.42809773365695036329 0.152955876755801079 0.095898262371442236085 -0.19586123716244210891 0.8859692110978902857 0.82522004092403711262 -0.96242949444548975269 -2.7465357578422366913;-0.59092618369584781757 -0.21770316426286237532 -1.3650903373801848151 -1.3862924698829899306 1.5787985367242238777 1.7806905041098202158 1.2215254433442939153 0.074552205602564619591 -0.96651574077387381045 0.25691458841116643352 -0.80436939030174481324 2.5781076468974593041 -0.48454978858317732104 0.19658332157859784162;0.68939555131981278269 -1.1920340144079457634 0.11827128006867702881 0.40966620430830219535 0.90824674017030371242 0.94702154483089007186 0.79154173370627745054 0.15708242392290844291 0.99635598452509155365 0.77458752674237729696 -0.36398762815990992614 0.85143545812693133268 0.22554213711047432778 -0.83306900746536616253;0.024659479424820600346 0.31983452385929656003 1.326636949357187012 1.3155155928237196594 -1.8068299503644758008 -0.60850762251292844773 -2.4723168686728804744 2.0666707996347346565 0.5016136845719032511 -1.1234916174925890786 -1.6016018995247709444 0.497474847336010495 -0.27742435538160808983 -0.58993781896804819986;0.35077761530887152652 -0.90546661057618960111 -0.72722226904400122383 -0.55092824238496251876 -0.29613214383555008791 -0.57266560363092777752 -0.53736471475401759168 -0.21804647871078114418 -0.032928566386511905206 -0.24270654853322945477 -0.93958526740320769122 -0.41832461804107740067 0.82016647046139146138 -1.16034841522651333;-1.5033328792189508682 0.25593266539162157214 -2.1101595754978945685 1.874912034682723494 0.37594391304657881481 0.71404907721027410794 -1.219505170418616391 1.2020442515578473319 -0.41257243257812570292 -1.0576646090226220487 -1.2125849069524179402 2.5698816415574161631 -0.70811689097156271799 -0.061642510247972272242;-1.1560365744025509205 0.15448938183788318845 2.2591970122228803852 -0.015295494308942565731 0.23478950373546278452 0.7954106735226751379 1.8217072853132714183 -0.99172874968877522406 0.96480026680188457622 0.12929925814314086052 1.6070596915212747025 -0.8605038181867965541 -1.2890542627110999074 -3.3251646375041805648;0.010441520979962738702 -1.3578683411739151943 -1.1053020957035100125 -0.31486559279220233121 0.76289011061576406103 -0.26537289781190148696 -0.045757355541640627739 -0.45843490997475089266 0.1568021857859442092 1.0864264122333162632 -0.29527831961146505657 2.7124241195025309281 0.78796470690176745322 -0.10275324006153552236;-1.1051971245686944556 -0.41065543347138239172 -0.005856596868051247573 -0.21958134127307571415 -0.55927011969631168498 -0.67368055492953393681 0.43298676227883164946 2.1794027080691984466 -0.55934169114561760328 -0.14923523736679200624 -0.22249415662791244275 -2.0997710911771387821 -1.4635288308225713472 -0.43422404417186849512;0.14128756358457830733 0.25702241822014681993 1.0092572997367990073 0.55951338592271160355 -0.28161279189282784063 0.60833797767102415488 0.90519998180266614263 0.14076929124833867379 -0.31387659534313844256 0.70395864931379559248 1.8046395415289984143 -0.32402231008213816521 -0.91198295323742217811 2.1172393163585923048;-0.8743591222100727256 0.51920284835067254114 0.45021884457190586293 0.58176755759868448159 0.22744774148336813213 0.50013582929606847927 -0.46086113193988209602 -0.33280693601403410486 0.00096494568417623133305 -0.078703769009991653149 1.3272974376184276668 1.7445977712936555637 -1.5380489453122045962 -0.17883527804580798271;-0.80664079572663838213 0.41313565831968562803 0.09792772436826946425 0.25756521832392759164 -0.045187077227827734949 0.030148175537670574009 0.3288481816756217424 -0.27630889433583077919 0.16598231520580147835 0.30716117884542282201 0.34910222246775424182 0.75487949468937509678 -0.85081609293266879934 -0.2215932412495142112;0.80077787876434991521 -0.7098098777495364109 0.57693209312221238605 -0.082453188844657521184 2.2796102317735305043 0.97623658163298210333 -1.6880421404858476642 0.70133265198526961726 0.64307224613060665064 0.0010469094976372711817 0.78434672752415146579 0.87248417275701362072 0.3358550924246879732 1.4565892318928497229;0.4932579770855055612 0.89421858335761006398 -1.6643361974740953357 0.70453724006880169561 0.78177624713882620799 2.0293289530019156253 1.5345928606519949611 -0.43493427062383926973 1.2561100537147513734 0.31749923031654075922 1.2238482439350071296 0.26251943506073427415 0.42068750327992832094 -1.2738416438674402542;-0.54440062686685264381 1.5581399467213730148 -2.0484702333228570481 -0.35116820789934349856 -0.46644913649452696136 -1.1802550192454537292 -1.6675191983979815724 0.64671988930065205103 -0.94567832298499787669 -1.3769370235025997218 -0.16026901281725466908 -0.45160947778265458918 0.34192950914542219465 3.1845998640757340326;1.6664050166847601542 -0.54864103177217982132 0.88022723806192382234 0.17229948354125684817 -0.89990756379942027365 1.6666083597449392606 0.23190102786726254913 -3.1807828662064316916 -0.1468757971639855775 -0.74332949845020357404 1.4309473201504998574 1.1009558056864439113 2.1180213769454017125 2.7883420694539537976;1.872606289836558302 -1.0476062997589203896 -0.7410609729528659928 -1.7138330529261116553 0.82362050794577679191 -0.21416173211990782721 -0.78206396994851778981 0.44023560494785834996 -1.2635784564391927542 -0.31106644824079654477 0.59598934655280944028 -0.68297822464857538272 0.87540736943566244133 0.95012069311779723257;-0.93232718240913126095 0.13807756798117373775 -2.3334550451374869162 2.0202533053851459144 0.60786577318720924623 0.46673458470912998486 -1.2082206769680394753 1.0543980214212693713 -0.37621065394571845397 -1.0454598476509080474 -1.3144471546479365998 2.8222103445998958371 -1.280359701094083924 -2.9789419035154955928;-1.251095056105381742 1.6975180639970250951 -3.8712621730039273871 -0.8920291780217391997 1.2836139026340216418 0.22661683393847520396 -1.5073124063947487272 -0.30239102760068697906 -0.55586848771979924244 -0.34598428918286544542 -0.76631185013242819615 4.2273345015233090294 -1.0864175839223564335 -1.7738255213436233682;-1.547255832895920058 0.6854524057308689633 0.3490643035859358756 0.20261893565421729146 -0.89530409022950896425 -0.58503120594324220516 0.73091267106216939453 -1.1857214661544848155 0.42917179709900388218 0.81000287797821535207 -0.46073153378406783709 2.1771930648230819472 -1.0408036697231546341 0.86981811069718717455];

% Layer 2
b2 = [-0.16156788414435480083;0.81547899883670926791];
LW2_1 = [-0.3341577117299522337 2.9656755540097066159 2.1600556870440890123 4.2543638435471251569 2.4635018003150324084 0.74273147477907419667 -0.032295539228286998523 -1.4697836665487433727 -0.93820440089217749247 1.6384049440701624611 -1.2914005060620807885 4.8088173495949826375 0.75098346185024633659 -1.3003044274496691202 -0.08932829678142187313 -0.75478637136477133573 2.2041811914915823145 -0.86489840209001223048 0.63463035363617392726 -2.0073508396029504652;-0.77199165196994590232 -0.65548788487232945155 -0.64751323129578042259 -0.60619029565560000883 -0.077023254379512268164 2.540868570306925367 2.5698670076785443683 0.054663682246732722692 0.073056012410060836015 -0.048926635085022429639 0.076119769751179650052 -0.16119330005035767406 0.0091980578780289073276 1.2228746257775302553 2.7702345939267782882 -0.016796787418702888856 0.0062664631615932872566 -2.4703983988837414643 -0.063062839649265720054 0.39316527923037980496];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;2];
y1_step1.xoffset = [-1;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
