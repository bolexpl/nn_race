function [y1] = gdNet3T30Nv2(x1)
%GDNET3T30NV2 neural network simulation function.
%
% Auto-generated by MATLAB, 30-Aug-2021 21:47:16.
% 
% [y1] = gdNet3T30Nv2(x1) takes these arguments:
%   x = 14xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0.014469;0.014929;0.016612;0.019995;0.027617;0.033082;0.040462;0.032248;0.027544;0.019775;0.016141;0.014448;0.014469;0.001797];
x1_step1.gain = [2.02936285109246;2.03031050553716;2.03378524041375;2.04080591425554;2.05680272073864;2.06842772603261;2.08433642023557;2.06664517355686;2.05664832136364;2.04034787931342;2.03281161223305;2.02931960972125;2.02936285109246;2.00451617494214];
x1_step1.ymin = -1;

% Layer 1
b1 = [1.6046029182622092435;-0.77097160332747194378;-2.3313506484818207198;-3.7918766801944676637;-12.892077442910457208;-3.6311790140001045657;-1.3696103501821237369;6.0427782279423931655;-1.1954486558047954237;-2.1201276980799832472;3.7918049565088787212;-2.6671496607768103715;0.844089826408576549;-0.82891411554555105567;2.1223374023977963354;4.1416877546947006294;0.49562449855429979717;1.0170581184945688413;4.8540841208762559589;0.45793483384247624102;-0.46427528935482570427;2.381030955183435438;15.40011028779944624;1.3886713851319179014;-2.5637083657592425467;-1.3909267675461862712;5.8104975322108547431;-4.7628407161243035972;-3.1969075692210049411;-21.774784249093038113];
IW1_1 = [0.28735082440103520973 -2.9143345175711110606 0.4774954082766895147 -0.74342853275971076954 2.3032121932812579246 0.24293588824029857531 0.10587914840058014476 2.8361064642885334131 -0.80350773501929007026 -0.41170698997986243661 0.22814744260270344856 -1.3737156172188289549 1.2932980777107814241 0.036772478823713948548;0.48277596096976627127 -0.097555731021751593279 -0.080250842010991571551 -0.068448101567605057483 0.0047143435283130722888 -0.079916615004699570468 -7.2332798805027805067e-05 0.073636066100588107308 0.035525965881905041677 0.083537793128019399713 -0.02222118512516173261 -0.10253610868118498423 -0.53255314420391086649 1.3201053407417659979;-0.14055463291463884956 0.62355728268383581181 1.3935215592092953241 3.5391156278978446181 1.6270859063876583761 0.83262934505998875689 -2.1131001086410394763 1.0514415786284074805 3.1048832771477008485 3.5781166791948102457 0.32177411938120231705 -2.3718992249342960577 -1.4385196007758385139 -0.98415810431606898234;-0.51805387822412718446 -2.183122043935226575 -1.0425732115323600446 -1.7571573545849210607 10.648813305875233226 -5.8266389879286313302 -9.1451405684590856282 -2.3485703049773012374 -0.21805389862517687849 2.7739818849759863006 2.9067427662534210953 -1.0832253030339060729 -1.3853649530429570369 0.17159720896796687439;1.0228787232524363393 -0.53198681948127590768 -0.26683656903722879905 0.70691163906953757845 -2.2033205315944441871 -3.8925527031847537707 -0.40816176669978410096 0.94123548043926152928 1.6059001063355133887 0.9242024702857042362 -1.4728252646899688827 -9.4201732750293665219 0.69210228589427269519 -1.9595115632149429086;0.57426316928419007812 -0.22409616892467426608 0.55504952354780778823 0.11699613689998002164 0.9513350345422576515 0.46244487355441149523 0.87200824885454975011 -6.3061089474499887331 1.557482360732738158 0.25524541977159820316 -0.1588305287942012034 -1.622038303124873293 0.41374881340996044754 0.34177894069730496707;1.8865648447620007033 -1.7054257236159948707 -1.3012965242273868416 0.32298555282131474753 -2.5234094609385939734 3.6630590710073702709 3.7098356350434342765 -11.55868065096363928 0.17816264220927019446 -0.23933547029727331168 -0.3283667591064927116 0.27875044197838633186 2.9113445579657932782 0.46112762000159612796;3.3748705918382384539 -1.4663913557249652619 -0.23167574348923453131 -0.72986356787194250906 0.35625243912045878591 -0.8537901299239170072 0.50866012301106677818 7.119661411115396632 -2.394408474195776293 -0.36167975497724286216 0.40493159899098551957 -3.030616826548536924 3.5198236070154380606 0.072145144837472904853;0.46292250573313564743 -0.26506429830743344356 7.6358059164694775944 -7.2287759833410598631 -5.4856951216640448266 -2.2546244368713703743 0.13412140322893351119 -0.96871730627840402228 0.25592065888952797437 -4.076229288119220584 -0.29358675606976442074 4.6925752101569555563 -0.10162653154290732238 -0.13044689335815007336;0.5980088126934971493 -0.039271794043879523772 1.0193065842152739808 0.33872132201942273255 0.89482112972383964777 0.5001933704863503749 0.97446081531514605611 -3.9715768684893002494 -2.1848304656171291249 0.65007661032629548981 0.054480167250213075436 0.57594695871077195015 0.65055699305634795415 0.30182789652652325385;-0.038559080707405518629 0.12848847104022687038 -0.063215073509834754373 2.6543191609744720694 0.38071694063786054585 -0.96147625649747980869 -5.1859388891147712997 1.3626039446444750958 6.0082870794100333711 -4.746705085284685488 0.72092949074359446993 1.6271660905281213338 -0.14665588447124891514 -0.13717990578824512671;0.24550226972987782004 -0.042891646368592148408 -0.27724952863248769619 0.34240754024564551417 0.7476117256422103452 0.80171359961144361694 0.25903866199854164165 0.32799773172110285868 0.036574699028023904823 0.51363748544273346575 0.25187834543845810664 -5.1528280827105232831 -0.31268234551418677691 0.24109887435498883468;2.7837520148548398069 -5.3525493307488600792 -0.27837667251049208472 0.55102890484114064318 0.28406978440605235026 0.1545780728418558736 0.066220935029642602476 0.11566174808247815797 -0.0053626818132336204203 0.78242894986696076565 0.13034010022841624465 0.33042650124660011279 1.379251012041733393 -0.030223766958594956017;-1.6711214283977731121 4.8809048050116352613 0.48745055499077133421 -0.47113403557965560786 -0.30148493200930215341 -0.20136985170884738605 -0.028403123800482658196 -0.17354955155815979251 0.059047069856580376712 -0.7062364405861347727 0.0026767824969098612947 -0.43882930234321648744 -2.0281076038422987118 0.050134867830608602357;0.92552961370783748407 0.32174407430912621564 -1.4455542908329581664 -2.4136148312017260409 -0.11152430992516111641 -0.37011754576209504597 0.15510203754994419945 -0.15756024493316755919 0.30738809507415465472 3.6848816958214904993 1.1672948813704517868 -0.71905971697759141215 0.22769819785706507664 -0.073418611303754058306;0.39122221742785445731 0.40996799977759734723 0.35640029238197040717 2.2846381815577290197 0.27671086351622370403 -0.98387559887601216957 -5.3652738749056876344 1.3020842704421822233 6.4383347859238142519 -5.0494362315598984026 0.8182145735263998132 1.7317270831715434465 -0.64588413163035440778 -0.12167202823026625202;-0.63723381942314261117 1.5651183769751537689 -0.87196578681603698069 6.9053722138843962597 -7.2220382676327306015 -3.0914619726875884886 -0.83895784653106331152 -1.7452841004874910524 0.87938053733889165464 -1.1875310454032970142 -0.095305557099337898097 2.8981184612792034727 0.66708297973333274822 0.21315608411998601679;0.25401564509226548516 -1.8180969677036649124 0.30741767883180037835 1.534932147798995894 -1.3520802189127292259 -0.056873768528584174586 -0.75411282625119446799 -0.62878049508773947718 1.2859881205106231672 -1.0567495032065352678 -0.10520993216916270374 0.57670053347232774765 0.67536127686254276981 -0.063762757263869679347;3.1846562401593061509 -1.3761670343405141281 0.069085361730530425728 -0.33927695421662645847 0.13476582971115186327 -0.21995385313951285045 -0.31010385771356496765 0.18490912456478622583 -0.18348465508235042853 -1.6578996191793140547 1.0881605081118463918 0.44800460232029237773 3.8785433206675143936 0.107593340150587094;-0.52349927592635936424 0.69543827635952581989 1.099082524418907969 -0.17992825784106644682 -0.90136667381128654508 0.07727420685063939032 0.094250435938676810355 1.6715167228878367034 0.29645786917668109917 -1.1330171872602756711 0.75030560021976588914 -0.031398068864136180478 -0.20842227721691289344 -0.092713920744416797315;-0.73856336897582497425 3.2699981778928743914 -0.26321178285397728303 0.25121351360149718479 -2.6050517920540854355 -0.42719654380974847463 -0.15083556576670725802 -0.0094825476769070434629 -0.144423289579925479 0.16589404422190745514 -0.28409068911957091608 1.4947875452890890813 -0.88841916060127157362 -0.13453387000801791951;1.2867430580738039581 0.32403948120559927792 -1.516039858761471848 -2.4966949902261581506 -0.15749034942047543395 -0.49456016144463116335 0.11699861220382497262 -0.14851423484480369419 0.3033879736474171529 4.1864303741011337223 1.3133602751392650099 -0.9684974571714550784 -0.075092495937303049836 -0.074164712828199003125;5.6112320786588050225 9.314899766258124103 -9.8282462495115847645 -0.62712227025626254839 -1.4976303220374531655 0.48210156554797339856 1.4596488604981787685 1.6790443748824039893 5.9160944819515020043 -5.6649995143754861004 1.5037455812901934227 3.886907740544444767 5.1287244091407817592 -0.26918552866910333554;-1.7407709702411773289 5.4918852266707371967 -0.48537782623582131913 -1.0840596447772707922 -2.3416513217358359 -0.78555613804365675978 -0.35747516943958140834 -0.068095799408070173397 -0.14732205908378484538 0.99518838049273916635 -0.078961650293691995617 2.9562600599020720793 -1.4873642870418521955 -0.55752258415912681055;0.0018545079258608593645 0.10268440374518006397 0.13191166447707719511 1.9532175476613224951 0.55654001483572390629 -5.9594526475103828389 0.10444898842963755425 7.3219740726450037727 0.60472415143049940145 -1.5980519276995557298 -3.9594558859703474774 0.46673572807048846478 0.78432031732199303242 -0.010731538276325371106;-1.0021882004785578335 -0.52883778137916226392 0.17517833665407914201 -0.16994242566189368682 0.26825369838352303153 -0.00035690058060008911234 0.1482520540167068801 0.1682453166241462128 -0.016802429871826524838 0.33053301188618194884 -0.023148788412870831277 -0.040451313474258510094 0.58250357055932389105 -0.020137269172331866834;0.67980893169482281557 1.1800142546430631985 0.52123119371751391871 0.36344314705362174012 0.7466209117049674715 0.095433264547764629082 0.041142050834752204314 -1.2391521784471375422 -0.3230574506341791774 0.32581746119734822376 0.015372789570325600533 4.2334793069340452831 -0.13576266327223668329 0.064706703747934093962;-2.5616025395952539689 3.0647725481896341826 -3.3393953340374680216 -0.99993000433093726098 1.1720282068090721594 -1.8941817578297823754 -0.84811777737881355321 -0.89888315952612818371 0.071339633058127460696 0.30092246979693193509 -0.2992478155104909554 2.4155913726589797186 -1.5916134105289241329 -0.63894307703911334961;-0.91429126935111748598 -0.46753908994230319873 -0.12227477924803729914 -1.0272054614094130454 -0.056363753888951054205 0.20171834578314909447 0.32210970369857128137 0.0036685841537934561762 0.19652801327488489402 0.79988145346533900959 -0.34580684150937829324 -0.44130332772568692246 -1.4627913709046300728 -0.056518847900644209048;-2.2801865503174125749 -2.6060468426449885371 0.15029119736387297479 -0.87450078374081741117 -2.8964389619199901738 0.54520946912700130049 -3.8216076132768566076 -1.8549129364207108672 1.1082508551408620789 -2.7400034379095261627 -0.55689557986278714896 -13.191154472389595043 -1.2154289261940411926 -3.900557291775419877];

% Layer 2
b2 = [3.7756104601755544614;0.57676028597249617835];
LW2_1 = [-1.3770370068515460638 0.066725499116345718398 -0.50424570161118786871 0.18497647931646712949 0.42718584078530230652 -0.82514370234358014322 0.24764358052898369222 0.49358519007041801174 0.19446967607289097901 1.0227145165017152983 -2.5665120391498752461 0.57298742699365012854 -6.1495843145752679959 -6.4123799783065384972 3.9038512020593025831 2.4897809422239949306 0.30202740181922893559 0.59020981543179484863 -0.717144871099405945 0.68564273986535362315 -1.7204948390258452129 -3.3977326527532567546 0.25675941686599351721 0.64893781658073979024 0.23756853794684809622 7.0547466965453740073 0.64944194783803366189 0.49954569891942224302 -1.464827076642363668 -0.10432862416252523807;-0.025914826991988011012 1.1377534010106926665 -0.017401521868341828653 0.019223339485974121066 -0.23527962875322527836 -0.12074824037092515838 0.02833602923547449276 0.029970712317446728673 0.010332999232503702752 0.18168248192862640478 -0.22543216428082540892 0.041135671602019703574 -0.12511640596568657235 -0.16635984999709088616 0.23322018956007972701 0.2173020314931897734 -0.010440910551989451838 -0.015315729165066720857 -0.039322386787070756631 0.036661799189397638321 0.033469691656327772711 -0.24023125167084280474 -0.0095020411956980525142 -0.0076662121727052601888 0.020961127401769866913 -0.42292897252842320821 0.047727673621251603953 0.02273720979344164006 -0.022713826203070809628 0.81047834446174871204];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;2];
y1_step1.xoffset = [-1;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
