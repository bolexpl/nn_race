function [y1] = gdNet3T30Nv2(x1)
%GDNET3T30NV2 neural network simulation function.
%
% Auto-generated by MATLAB, 18-Aug-2021 15:47:03.
% 
% [y1] = gdNet3T30Nv2(x1) takes these arguments:
%   x = 14xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0.014469;0.014929;0.016612;0.019995;0.027617;0.033082;0.040462;0.032248;0.027544;0.019775;0.016141;0.014448;0.014469;0.001797];
x1_step1.gain = [2.02936285109246;2.03031050553716;2.03378524041375;2.04080591425554;2.05680272073864;2.06842772603261;2.08433642023557;2.06664517355686;2.05664832136364;2.04034787931342;2.03281161223305;2.02931960972125;2.02936285109246;2.00451617494214];
x1_step1.ymin = -1;

% Layer 1
b1 = [-10.671000127623877063;17.908987647757285799;2.7329683270193627642;2.7861304073810226889;1.0984521349466813689;4.8623810024392595253;0.75334687485864904044;1.6530763389814813191;1.1810090195608196062;-4.5094808471925462712;-3.232498037484814013;1.2841336691988671781;-0.072828820112662534525;2.9164501333999504062;2.9541685204574048562;5.5601347363288571302;-0.30414513812111521052;1.3819401469650123282;-3.3567738140182172835;-1.2530179356015811454;-0.1720124452232367207;-0.27497857063823627488;0.34741588143399237953;7.4548689045970206735;-3.0308391248471404644;-11.640234793247737244;-7.1172776421800509894;1.7643699173175964034;-3.0471892513323415308;11.426990512019981949];
IW1_1 = [-1.1524626127034198753 -1.0159169960670275668 -0.31036362146695473108 0.012721515690190959152 -1.3623615678205422963 0.27775772603790027659 -1.7406999449640994104 -0.76829490545907386245 0.17317676005024934538 -0.44082308585927976186 -0.81608023886003733249 -6.2508603435931631154 -0.78627474498771576794 -2.0433450890796232002;-0.74036214058209526279 0.80832701204692614105 1.7823965980369651518 -2.1159906093246241277 4.5130881368833311029 5.5851237281870043105 -0.61658846655213628285 -0.63798920318905527616 -1.4573894871311350308 -1.072044474975210937 2.2234639994513849537 12.104572064182395508 -1.0291367391195975767 2.9728660814744078955;0.089354676735821661482 0.74440050559958437226 -0.038101846674376937951 -0.7014677481931811398 -0.8357841514185702092 -0.73061771351576210165 -1.5334635348785687903 5.2232049510397784431 -3.2590406836462721962 0.62503524483264127909 -1.8780896440880727738 1.7412063994217463758 0.99962898727582527592 -0.022402035829791579896;-0.8560674342904934786 -1.1342742788136166432 0.52431573159403477291 0.16516940572530386389 -0.47116361965134129219 -0.43557318575912279401 -1.2905984496296376562 2.7861021894721429426 4.5473447315017523351 0.80277281080029350147 -2.3966004244631462505 0.0035112011951692837647 -0.050895988423720013583 0.22602856162398013429;-6.4249250909005519716 1.7739231144161760056 6.7509134637357419706 1.0983388314388167206 5.5798581828861166798 3.6164246780679105697 1.7516584000965809143 2.4026648135108410465 0.76614466477004716793 1.1538728181741637613 -2.9968356897910317649 1.411966638376039862 -6.8860341459798073416 -9.5527150572611212453;1.9727188624315510346 -1.9204015090800472532 -1.1120782060042404549 -0.30438663549021982568 -4.3149752875512294992 -1.0908149759725049854 0.62839025767393863475 4.6055416083191555998 -5.1614755618532877079 3.7748835648942775656 -2.2292997704163788342 -0.99622723910781596501 2.0511913288536001154 1.1895658537858833093;-1.5087332745271009316 6.7358586043333721349 4.7998202274479737639 -7.215014061949750257 -0.15629087129733110206 -1.7729929588602304502 0.41458382318294861868 -0.029570241307880312104 -2.5650336233520101281 -0.58124369259742270089 -0.95241827330439932098 3.1945732915709368349 -1.9624516597785126581 -0.0085501745831675392273;-5.4091856645226936706 10.816587340806711026 0.20322669352204086879 -0.053781444798471765567 0.16317315653736552683 -0.13998496695872941764 -0.5436588751567302813 0.3584746384568486266 -0.26758180054522162639 -0.76119131602833001171 -0.41646620711246512547 1.5419955221088024189 -5.2995793163262154835 -0.12798933677387278052;-2.6792934901414149351 -1.8781919443239782908 3.961964111298071689 3.6341501309780173123 0.69143177680893963544 0.87018297149462064954 0.057555171173635531756 -0.44993495226947877175 1.7188364122257526745 0.79998786049631576134 -0.26922371946000189791 -2.8018912669279827377 -1.9425127506553441226 -0.32431625188196122611;0.21043343735455616317 -1.8588055842540933682 0.14825678958173083011 2.4542101822999504712 -0.39739291493799050459 -0.22949022701914115197 -1.8021109122260703383 -0.21187479735152447979 0.61456836773217071723 -0.82614587070382239364 -4.5710482202501729887 -0.52412154373023789322 -0.19269581597590051958 0.28123421062379844182;-0.23333952005621547143 3.5441821915124132047 0.14982578263821760833 -0.11235515282722666197 0.79263599309133636606 -0.07788124391615858233 2.0427878912264327838 -7.732649324806589064 1.078791347950268209 0.055927324975502887283 -2.1229526328314727301 -0.7928389905199072496 -0.59161894924454205835 0.047328451731317791595;-0.2157029711267318961 -0.70715054740758209739 0.98691501763699973626 -0.14432396339992731304 0.12239052785793405609 0.56759695416355870901 -0.29654282541346765889 -0.13580178402146803052 -0.59955969990746915688 0.9361779557487618364 -0.30165039712334357214 0.31819832452190499605 0.45962751946673363612 -0.24205699829718493876;-0.048642824823650357424 1.3535462225936043534 -0.45546485433314182201 -0.52014191050682034856 0.18436629329656212262 0.30707015850079155683 -0.50521639958123809588 0.07111211616275286973 0.38725072001586696713 0.66424088318871832293 -0.26080378417306621097 0.0014441056805572175664 0.5013793786779877637 -0.0019217824553998681236;3.7658336084344661288 3.7872061860712213921 -9.3756499515855598048 -1.8098518859169347994 -1.2815036476577603697 11.345636354984979022 -8.0358795313193382981 -9.4666287260625043842 -1.9394521884248103749 2.8057953074954382622 12.109117283247655905 -12.056662293476232861 4.1071272451675557846 0.92998755946133326855;3.1326948565179857376 -0.52148495133778660637 -2.3506092488210303948 -1.0869392205332415458 -2.6943019936011736171 -0.35034185276139706566 -0.48243636537112022378 0.61799558973017310048 0.20052189079682938844 -0.03728246185803210655 -0.41605417682931178369 3.6107150178839559906 2.9502855658220621393 -0.17484679001843425605;0.81181831788608493916 0.25944980636678244279 3.8379163440988808276 -5.8805570108981832789 1.1228026905986081552 1.64921233202814288 -1.5442003163407429511 0.49886529616764840878 2.7901804053841141595 15.183058771398242115 -11.670183085776864473 -1.2849096888430591168 1.8807093838817976472 -0.44526954427424697558;0.23327396827782800881 -0.4501478531467986155 0.65658836749633575636 -0.14408822700828577412 0.1273117375262451112 0.55996663077043506984 -0.35107594329962976687 -0.13790754903169333279 -0.47046142373233934553 0.88865863721216853399 -0.29895458104197880633 0.15140083650586227959 0.012184740251740159428 1.146249128321311872;1.2211425082012834498 1.5703543372585391236 -2.2832244083665087508 -3.890135333761829628 1.1324505017312183064 1.4527718873012027689 -2.2915364886866798066 -1.4215113274504032059 8.4350084028441294492 -2.74913861737755294 0.37294214543512910209 -0.46705726747568737656 0.075385057420579465459 0.28857996199347052402;-3.1949733201858885323 0.4211480866106155907 0.40006015273669587318 1.0660865978718780944 0.14769904280504408955 0.74916910250466373089 0.79936555245769413958 -0.60180556336912349735 0.4983990911115925293 1.2577939693238020524 1.5360081542345849215 -2.8791870398668781839 -1.6707634539540352492 0.018179629685663147021;-0.96350073660438440015 3.4118564280669527733 2.9678443746507041645 -2.7631281179581641538 0.62012583538809928907 -0.8920111659223547429 0.54207768910524989359 0.0095622999816740213846 0.21649110477684238574 -1.5368031446355179259 0.46910297443220816405 -1.1017579506696786318 -1.5829486401511425608 0.13724393657699962557;0.26332595927784996359 1.1879611521650423889 -0.55110403195373536267 -0.33171644377529269088 0.11055100787779355287 0.30007549759574225767 -0.74441094629027770857 0.0089520858133252233929 0.36057824611956712513 0.70532172531619441447 -0.22135296708625476492 -0.027683626545812571595 0.21569229505709980321 -0.010323135947268354679;-0.26020961077956294982 0.0035429902279866601345 2.5792540829662029545 -1.6869926319274759496 0.74836073485936405181 0.29114333064518066463 0.97410867233785980446 0.56010837964323334504 0.52061808913708973456 0.42187496504662458374 -2.5047552457603052822 -0.29801884148524393492 0.6580764698615034769 0.26027845156795853532;-1.7893007534540228409 -0.59977418914387248261 0.44744291597645019509 0.93645384885554561194 0.23093433284723721699 0.71216305722049066951 0.75385992242266064434 0.77493234861326165674 -0.59949176277454474526 1.3847621542473544931 1.3959079285630289213 1.0806396846097348075 -2.1012532605296110333 0.069244785693135607607;1.5706184137848315796 -1.6431544439846130778 0.4742976965492017305 -0.033339177314740064961 -1.6736178809430994896 0.64612913940005767266 -2.0319270281187451488 9.6836191631741783681 -3.9431844813179304232 0.7872943134776978491 -0.67951459879144726628 6.7445494310485081257 1.0917290328470259375 0.37043096604824649054;-1.5498265484363120681 -0.88334641386527290585 0.20027928880268727752 -0.40901215618784536598 0.54454056425117702833 -2.9443167177107887333 1.8243201973425164919 1.6121451417754939506 0.050447181805761076578 -9.6188867570214071634 9.4997493874158873695 0.079048464425422987345 -2.8914098379791619564 -0.28085908584128671528;-1.3010821432200994074 -8.631206971219194557 -2.2136213783670486421 13.0399070456227264 -7.4064279484998802872 -11.385865668146267993 -1.4628035414478179899 -2.326582208683346753 -4.3626958897087799727 5.3754802171490032592 -2.8558853477183649971 2.6154967027381781364 -1.5526059588526701649 -0.10891725793552163581;-3.0959834000270403109 -1.8309655428050126691 -0.51786155639620212732 -0.31052431382837569762 0.5970954871538124431 3.7911598254692830956 -1.8165259597737617447 -0.44292620205513899556 -7.4406686324925601639 -3.2627166391853159588 6.4946699534717140523 -0.62286512337149424479 -2.2806019989875814247 -0.24685871237795095623;-4.6214893474589695543 10.341842442881509001 0.28502875501137170389 -0.016774508239073331051 0.1750931220410894551 -0.12321120647775428425 -0.50893099079567105658 0.34881266458725329604 -0.25777240193966866055 -0.73144843573036544271 -0.35082060878497212109 1.5713371118940502313 -5.5283442006106433553 -0.10426203384252401285;0.098206186509989440436 -1.1270284643566255145 -0.35840210009492123877 1.0208363289460782308 -0.24112415220628094503 0.71256405282250923072 -4.9670303931118811036 -0.82689526660608625441 0.10667453584918938636 -0.31339050817546199035 1.9870691418467296696 -0.796529240636534408 0.59499822088179998847 -0.23134189667637014565;2.8255661350790961528 -0.11122466277847864458 -0.7895283520487088591 6.2185741570564596614 -2.6137709837522766776 -3.7818275121944142647 -0.16245754320499558587 -0.18565156908691771154 16.973096954895410704 -8.5805722055359971989 1.4074387864576729523 0.58571423134292599499 2.4277269822784308673 0.20295143377617508307];

% Layer 2
b2 = [-0.15260544097482259263;1.7982165926781186194];
LW2_1 = [-0.15436345713495061571 -0.36424785613319976552 0.42771076437046523511 -0.35350305211007304607 0.012024720844346740989 -0.57512462588739843294 0.39765530419381173166 -8.9087145190691323648 0.4596241144225563513 -0.44447316387021429396 -0.36132811079905424734 -0.7570030455129229674 -8.2033672953955658613 -0.12369392949711968677 0.33385797799961947074 -0.17219573469520804698 -0.056406836434096864485 0.26885088995348960239 0.66208794487115918415 -0.77909860998066327031 7.5981151724945918957 0.60997105338686341547 -0.3829441019941809965 -0.23823762382852783914 -0.1926551983821268299 0.10792205905248400399 0.27920693743641683549 9.4645422349997669897 -0.40239128497252418803 0.14434234764845865762;1.121559811364990944 0.44943823593850718012 0.032078853497873344169 -0.005773248379940063707 -0.16628858413293112761 -0.38404904163356601288 0.046440545742651433148 -0.50958324375299990372 0.0071816882939697698415 -0.029863404160756671507 -0.0095279791808382929136 -1.0271757595439199306 -0.26627639715086942607 -0.012003023926738416727 0.01561348611282597533 -0.029208969492505971327 1.0706014546757083306 0.0033457770509106960974 0.039676555671125324221 -0.046613777987951507398 0.075097016759188575663 0.037316362428525845507 0.0016916824952831943565 -0.020546038640787380597 -0.014097597406106467804 0.0090623577307639528733 0.0026578799090176711759 0.50363984721930510347 -0.02648504550313373479 0.0044258849819991813446];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;2];
y1_step1.xoffset = [-1;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
