function [y1] = gdNet3T40NDv2(x1)
%GDNET3T40NDV2 neural network simulation function.
%
% Auto-generated by MATLAB, 18-Aug-2021 20:12:12.
% 
% [y1] = gdNet3T40NDv2(x1) takes these arguments:
%   x = 14xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0.014469;0.014929;0.016612;0.019995;0.027617;0.033082;0.040462;0.032248;0.027544;0.019775;0.016141;0.014448;0.014469;0.001797];
x1_step1.gain = [2.02936285109246;2.03031050553716;2.03378524041375;2.04080591425554;2.05680272073864;2.06842772603261;2.08433642023557;2.06664517355686;2.05664832136364;2.04034787931342;2.03281161223305;2.02931960972125;2.02936285109246;2.00451617494214];
x1_step1.ymin = -1;

% Layer 1
b1 = [-11.801382579757216718;13.208791919152108818;-2.154437955875009969;-1.656261190083422985;-2.8374592084130387803;3.2286984475654110227;11.729066666756347459;2.0750546173474302414;-1.5549721592111778179;-3.8976470502629516623;1.2635247566191394331;-2.8000964935576524439;2.1710261987128558481;-3.3389401155228712881;1.2792069487634893932;-0.38068283062518548654;-0.26213450875680477381;-0.65691155396714673298;-2.0147249444901742521;-5.4765122479728516325;-0.31791146225893773813;2.129115930244830146;14.655934682105188571;-5.4814761677376413473;-1.0328658778218777758;-9.4037208038522006603;-8.3571732843440180716;-1.2656662723291205452;2.1181870198169945319;2.0467020723151057027;-6.7968916886476700157;2.6122719496290600638;-25.398113319456893322;-5.7796395968058931203;2.2461746900915064984;4.7825767094806534985;-5.3409046294992839066;-2.1152215193280512473;13.195851204341423113;3.9992493252737348897];
IW1_1 = [-0.65670965763006527993 0.094698320962187804151 -4.5359036929156015816 3.7013406270259721076 -3.0926044680447493107 1.3585558731523215137 6.0056875270772147601 0.13424255628295231335 1.3661667289092687128 -5.600273344006494014 -1.121831549530931893 1.2634617384921236205 -0.42049913714805808862 4.2983218275971966094;1.308727363453770165 -0.26730498223912424471 6.1460852399322947193 -15.871584663852415176 4.7387446025515620462 3.7803248122530028752 -8.9350338399879447593 -1.2998042846572879228 9.5344684217215203148 -2.9724365873317899478 -4.1137741169818164977 4.6784714736250219147 1.1750657115706040212 -3.3244367497381643872;-0.61795811408637602025 -0.49841651780949647321 1.9534907077859380298 0.52877732698990786986 0.51334903595077607807 0.58000020384677652974 -1.7531620137344174903 -0.54882156024763417701 1.0604138757602463716 -0.49295976843471500661 0.56354871360083180765 0.33549260830786753473 -0.59947120267767239898 -0.3212958412134258035;0.20334842497812097295 -0.20107981494844234804 -0.28631896882926388681 -0.079465157966940855316 -0.10348804563672554802 -0.40688508337864226494 0.12781077978216875968 -0.060574976262025521934 -0.30150288157558052804 0.250078054960724383 -0.20322992279021623308 -0.25380479604703293228 -0.27310862134069585627 1.9422809958509903439;-4.1675364427589371985 4.7746320929301768743 -0.8899728212095151525 6.0756987811352605178 -1.6307324343765170482 -1.4422863455296504043 -5.5851438804644200076 -1.0032331848921574036 1.0893781006759812868 -0.24299358910597734784 -0.16463109942550291365 2.2355410971419646948 -4.6737699064560409568 0.34948873136392449856;2.6848585004411753552 1.4527212769042194829 0.99139347169218838829 -0.5003608346860337619 -0.63756621764576149047 -4.0534865162440461006 2.725767132018257044 0.48128097049632634352 0.47888044038214611087 2.7967423295273334816 0.8164192100893337134 0.6079193337452752921 2.0776242034752789856 0.17873592548691669135;4.1041320082352115151 0.3268455132476966174 -0.045689996309894481685 -0.42384399150939128242 -1.3228686209343429869 -0.43358474104120969805 0.59927410027133998227 0.21872390925074056134 9.0224515653681383043 -2.3690940091234544695 -0.29419314826045572797 -1.2298956028468988055 5.1284765513360479616 0.16911919047980167319;-0.71287077092022621549 5.1903922788961533996 -1.493857567588424029 0.18715352591970321749 -4.2559175045083597055 1.4489203520698621386 0.91153805690973133125 1.2452235611864967968 -0.80892786349219436559 1.630294377374334136 2.0103666862341689203 0.87682582718012247458 -0.42529355456302991856 0.34654049219803378934;1.0257151364785415115 -0.65012631818667110384 -2.2227820210143884871 -1.758207573393572476 0.29273577027971076081 0.42671807107786263735 1.3972561750305687589 2.9787015978344699718 -5.650011131319891966 4.3136476532367975523 -1.9479089958461326404 -0.98889698019378347027 0.38072093400505929717 -0.22570053250919649979;4.1240694962823933878 -4.3344089427275926951 -8.3357134812762279097 0.63443099084457887926 -0.018680812830773937255 -0.2256969558035957224 0.1426836931488543736 -0.060059775596905479178 -0.50754944523692169245 -0.55307256163207307864 -0.043928520035336392213 -0.35722100784375554472 4.1683290950236298045 0.049223330490460744102;0.47120454730679811606 -0.14988306148415794783 -1.5476066894775408755 -0.7665775241405698992 -1.1929286287194147409 -2.1306245066626154916 0.14294784986875352928 -0.25218118778882192554 1.2494095557220883386 -0.7867927683846477338 -2.1394160848926411234 5.5079155327720226154 0.38332016069937280278 -0.33084280584795788815;-0.98248749520922717959 2.9412815225860757806 3.0347136369212992513 -1.6501260051942781004 2.2438365164499223248 -1.214982277009214684 -0.17754107727980492082 -1.7078938970466386316 -10.05282035328871082 -4.2934689847561342546 11.464786742926742491 0.61149964325002559296 -1.306865596915475658 1.411515657813844804;0.089788229102049615937 0.24853750293920864878 0.50765008256465715686 0.36581940627237846675 -0.18158886796406040198 0.1856136891444110093 0.51210588676597323943 0.23466404425265069422 0.19594398641608024025 0.20605158973639076114 -0.3589269009930456944 0.081819001014510228664 0.0059085584635110996801 0.031443757468954065815;0.95421294318556226788 2.9508058935676797496 -3.9601164315701407048 -2.9409296130684712267 1.984967560300263445 -1.2947677694040842233 1.9288736070460736904 -2.2525480375921018705 2.0702067602013887182 -3.094205061553495284 0.10215920243684623037 0.16375578175300561923 0.65299295618009955966 -0.35692364239438983953;0.73518339517956021734 -0.22814281579759423946 -0.60654861467171050649 -0.29074852409551865673 -1.3176031631296636348 -0.048571870458357500888 -1.6510515778759369265 0.71887112280035669887 -0.69909558579154240654 -0.90849846208843765272 -0.50674021652320466735 -0.34865291693162808739 0.83451998270075944397 1.4685492473999264273;-0.93924051196585300882 0.33203867148669163889 -3.6577556950824914317 3.2924970744299741909 1.8533472168046001283 2.2422199191255862694 -0.43061212438962037652 -0.17416467555737419337 0.66173581125793312641 0.37657904910834427703 -2.2975567408618240428 0.71409427831079630433 0.18497782011576588412 0.083447005061225307254;0.24569823646460070554 -0.010801429731304193829 0.49363596556238176216 -0.0034625262191944001025 -1.040467202916893541 1.6562089398480532854 -0.88505317729319010756 0.14878125069140421544 2.1297295858476994468 -1.9006874964652633597 1.5627526082788945061 0.0044711082100186783431 0.79911668741710939479 2.298996044738812472;0.75875464310087692432 0.17640044591680298369 -3.3706946449819392697 3.9830646326499929977 0.010868355831086211685 -4.0375087124363924218 1.3877323282328020149 -2.8172704492143032518 6.4901383708152780017 -3.8413885745778268976 -2.0275458882303198926 2.0389671423983055654 -0.2940077827584052228 0.61459077723817046035;-1.0357539113055127533 3.667865087901800436 3.2958904429413964365 -0.81302869949139910943 -0.5466103202404254402 -2.2778551380833493845 1.0772226573035978969 0.37167327819098661124 -0.7832935973076994296 -0.47431413545645267904 -0.42682569388780228214 -1.1087758268654968052 -1.4099117138272512229 0.28810966804323934198;3.8053827519131200319 -1.4291809267602468836 -5.9371425098247616603 0.64990440628095935693 0.94321785735679197771 1.5015350248249352827 1.114788585298758683 2.9163904397488784603 -4.4937717221419637426 -9.360488203183527034 -2.1552159132126558205 5.6265581833966100689 3.7033021999081818798 -0.18765830780396197675;-0.025617217735297761333 -2.5067508908608471252 -0.43747889755974977977 1.0942057800637783327 -1.8941616490344372892 1.4200461389053831152 4.0868601673555779996 -0.58231980139366090743 3.2993985622594768081 -2.3874752059732280429 0.66366894405252541134 -2.2212791833196949831 -0.72374099799529467703 -0.36640189906222075944;0.87747284024729343965 2.7394213375604299365 -0.50053106275602343711 -0.59865091130546077558 0.015521684491700493691 -0.64706698591420142019 0.28381228166343636099 -0.016573818638874408815 -0.4920475625182168522 -0.44772909820497591715 -0.13140653671298843652 -0.64661761238758375114 0.65762172502298910093 0.074630053703702473045;5.3465638937852517643 -18.057158773695057619 10.866067227320032273 9.3093410396253251093 2.2426511393943289185 -10.726307804354576092 -2.9706184462836513482 33.665351645792256363 -19.257747739594059055 10.032702553502199194 -5.0257536320762623561 0.8419815650599455914 6.0909643927512941985 0.46224700305568117153;-2.1015764948869875006 0.53860786942350613593 -1.2964474413565871824 -0.33601636328913797591 2.870020952357852817 -2.8091107042806844341 1.834413178371186337 -0.98083127350631627017 -2.4308864910398564341 2.6339312368158425137 -2.8599683060525218359 0.6459629276302275569 -1.2500646734181943831 1.9886426537045722718;0.20921372410269181707 -1.1402498070933602126 -0.17389909596866320873 -7.2039208067153959192 3.1229730020295378701 2.6906896527457893065 -0.27241824651520957223 -0.44838083435495384999 -3.4654954449436536912 0.089888090510853668746 0.3433270479396203223 3.257798554403326996 -0.028881389105291362801 -0.11906093258262000212;-3.8605132600237141993 -0.47672491156815893776 -1.2365280924938217844 -0.22994162233804532613 7.4258576151405053523 -1.4944529518246936206 -1.930274929245064941 -1.0842350788445471732 1.8681453944505768128 -1.7869211164029177308 0.15303017602250598705 -8.8100471013989203328 -2.7575260248519906092 -0.10708023219943497983;-3.8401455636248700287 -0.21501611175160481593 -0.31983007518314304773 4.1352146427254918848 -6.913563406347278395 7.4606703483053458115 -9.9246435924938847251 2.6838825341943191027 5.3825689405000582965 -10.936450005383079542 5.7255744859152333248 0.075759450423244195649 -4.1039072564000456111 0.94487759374930713197;-1.7069980352058340412 0.65338718873662915421 4.8180553571931925561 0.65939702165083879937 0.58991889418557974523 1.1884213099879121778 0.34760181822360447512 0.41341631218004687431 -1.639960358036317789 0.42026791429996379623 2.4258379386590585014 -5.0979467783783896095 -2.0595508557676347472 0.38313020554377263949;1.087538089425506671 0.52020311837477462014 -2.0071378631093428346 -0.49729711210224547546 -0.52686760065098647843 -0.67236609535218938571 2.278236187440221272 0.48456997615203795116 -1.0969069184832831443 0.29503051127221213701 -0.87832870553673514369 -0.18754614068122979487 0.05625625014836405785 0.32036202459684665067;1.1961446456431963359 7.4212925293646687663 13.910329236951611165 8.6498124655797266058 -2.0963032243583334946 -1.7623485569057830702 -0.46655590485023079594 21.632895779830779048 -0.47470766193699598379 -0.87032013210662395597 -7.7234075605361196537 3.9595318875394824865 1.9484357379439005697 -16.083109245806756604;2.4167335745516083101 -9.8274563940999168921 0.89398550063908510666 -2.697649913030732538 3.0088640893839415646 10.323423984162065636 -2.3802774260211627677 -26.212227461723571764 12.307953015452696377 -3.8545845139680667835 -0.097804247622054890643 -0.92596771069379568697 2.4499404882757662705 -0.27627554866843778703;-0.041180168875582269516 2.7125209433469872344 -2.7321326169694479802 -0.41151431314106384773 0.6716133070446672626 0.90232889276015415536 0.43485588915287687328 -1.2801808076286265159 2.6927912838149818953 -1.870667355202667359 -0.18919587380538321897 3.6889529540043124456 -0.71320219210871416138 -0.14540045739315532458;-1.7192205972140564008 -3.1351026271771353926 0.29789012443030565835 -1.1941724421857282668 -3.6410148590433206728 0.68628000057872351469 -3.9136857612057789346 -3.0615730838972470274 1.2629127411670104664 -2.9908883984624270447 -0.88092506569127959626 -15.28070253202092843 -2.1048478109278256909 -4.7044748396425211112;-4.7919949240458219464 19.98923191415601508 -12.009936226764653 -2.624297597381914926 12.15234957212624245 -19.114059425040061058 4.6638890463846003342 -7.5394741267105747085 -4.1682863580748614751 -0.19670679216212860752 -2.6750375143862026306 4.0237404807865759793 -4.0196700055435021781 0.013268107835027661071;-0.35873737741281391811 3.5870157430022824308 -0.043194617301641577423 2.9660555577982083975 -4.9567278420959013374 -0.85314920535884697372 1.4194381088568444049 4.8984110930270796658 -0.26114383994128748112 -2.2926775498271121378 -4.1697898831051087853 6.331550546864267659 -0.26531903784714200301 -0.0089200949594545851651;-6.081396935517956237 27.548698539486064618 -10.78504266203041162 4.2035239439024891794 -5.9598619758296109694 3.3318497956821619965 11.333528394748919155 0.18557465629055783229 0.83940916120072750495 13.811897361293631548 4.814785268609821145 -19.190734752633364479 -6.3245995058290160884 0.71942161008641958286;-4.2708765455983677128 -0.0044842800236061068631 6.2636129368923612049 4.1543052009799144031 0.19211060554972830827 2.0694484027481090394 0.27249890685927874445 2.5275624752447183319 2.3424860153778901406 4.2092910365814839579 4.5225068001661696826 -1.9419023564694561923 -4.2797315840558542988 -4.5219351927946647152;-1.3743747581348335629 -1.931261415519114788 0.74821120274158448016 0.60044680115667703468 0.017944437931868919417 0.75306055437893759663 -0.12260024426446357315 0.0046883992524441222421 0.73743477401764034873 0.48102508400430404878 0.10453543067499970753 0.81650636288112410366 -1.3321552985881015552 -0.064766733573071763597;5.0297372239347222234 -3.1187406452494825793 6.1398458285380099753 -1.4058673572733968449 -0.60187533509460511283 0.85868194973565359351 -0.58802578314643882962 -0.52286421860868448341 0.25891312143085298825 0.98306103922551046903 3.2204974508759347529 1.4183892245362461626 3.1933083501873036347 0.19714244170128136791;3.485588589244202673 -1.9988785433162166161 -4.1907147455493021226 -4.193117248216337245 7.364493439776808259 3.3930466124310818543 -3.3759604180498685722 0.21475143380010686123 -3.2101993520612084332 -0.70412271769842871283 -1.311498423290040849 -1.5077718560152719718 3.3346371266017507118 -1.0587068026750250382];

% Layer 2
b2 = [4.5030568912733146547;2.3222606763100834826];
LW2_1 = [0.090741937418869253462 -0.13894121458841199312 10.777288644404254825 -0.0077248557390115404203 0.27571448224396194471 0.31124973436851055553 0.39495939694337983683 -0.31577094880260631049 0.41341526108995640953 -0.66391380254528220561 -0.583116282898639815 0.17716165350328400008 -3.7330715413433144256 -0.36110682466977367389 -0.41258419839569621113 -0.45993588811832020191 -0.022742165438033722091 -0.21290641441509605691 -0.56628423310091102749 0.13556580195740999817 0.34518900563928928138 3.0169084903854588298 0.090915271415348331008 0.15212612647732046134 -0.33885052672054255529 -0.22852390454946119869 0.15079990665559075969 -0.5355686284188855284 10.496125334391788186 -0.076298682737416884114 0.16632971632522330907 0.46653605851322754727 -0.028788069479507825271 0.11736112604068504872 0.24750919671602503169 0.16012610501341864588 1.3592018533575211947 2.9657590125904245149 -0.53397906328209476801 0.21654325388255146745;-0.011153027168876507649 -0.0042639572873954490959 0.61162464667620342063 0.59726091385360069452 0.0092755708610282785326 -0.017639755155734834768 0.0032230985602231107187 -0.0075305118902998019123 0.028307875543456959694 -0.05596817202607668601 -0.10858729800126695753 0.0014677480723208884833 0.036352414272913712023 0.029356847384962740655 5.0910522637164747906 -0.019084333572563502018 0.25432236856836493155 0.0048060488934833110394 -0.00039301524412891199536 0.026028215234716781112 -0.026865515799255113016 0.064846496821319016268 0.005457963678331877351 0.14509655441925589647 -0.001779783087460053365 -0.017112633114073398655 0.007165113398552656887 -0.082239401853608187776 0.55561807909447824549 -0.24523536331230652574 0.013131632854055603002 -0.022822734108755075161 0.68117376363411641371 0.0089238320544513197868 0.016003605515685904309 0.010034640024573694694 6.3581506840900559041 0.064836311203802191039 -0.08130728822875078754 -0.0070239732789300216367];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;2];
y1_step1.xoffset = [-1;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
