function [y1] = gdNetBothDouble(x1)
% oba tory podw√≥jne
%
% Auto-generated by MATLAB, 28-Jul-2021 19:24:37.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx14 matrix, input #1
% and returns:
%   y = Qx2 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0.014018;0.016235;0.019675;0.027656;0.035214;0.041072;0.047315;0.038958;0.034175;0.027592;0.019829;0.01641;0.014018;0.011819];
x1_step1.gain = [2.0284345961691;2.03300584997433;2.04013974957285;2.05688521757732;2.07299857170398;2.08566232292727;2.09932978896487;2.08107450038604;2.07076851396475;2.05674984163026;2.04046028703155;2.03336756168729;2.0284345961691;2.02816101570304];
x1_step1.ymin = -1;

% Layer 1
b1 = [4.3983373801854437346;2.9113929231001374198;0.29059491455512925784;2.8386852076652964172;2.4862553551856145795;7.3566186917484150953;-2.3484842260669736014;-7.0531092600690969974;-3.5581350202045487485;-3.7264298170721534831;-0.97056514992760212213;0.096638501533048953851;1.0203538123021380635;1.5077329654610558407;0.93086800530134805598;-5.6169655930353119544;-0.2967455518427484229;2.7669144990401801643;-5.2370522355325759278;-2.287240949383095856];
IW1_1 = [0.21456338004627217853 -0.80111608213277518686 -0.65617475411066339408 2.8009485355837591136 -0.60483395087454261407 0.15864727853578267092 0.0029321329905717848086 -1.5011354039739102095 -0.37105452742417111001 -0.71343382478354533394 1.4678554381573627463 2.2830319985189855281 1.0012070692332113442 -0.86438147197073256223;-0.32009332818401681209 1.6301392492332682504 -0.42331953222900831069 1.4726832010186261535 -0.88279430302991224178 0.16202082018271682373 -0.1451905704515862594 -0.67131334760876026913 0.078149374197052423607 -0.76013209087374822293 0.72807311629417992282 1.233324107748748899 -0.089011145652869938516 -0.38895051697993243689;0.35493280116980713279 1.6889271295090193536 -3.046913018934687134 0.81431831287825140464 1.4009309873627109333 -1.2077759281547999493 2.3571397990378839538 -0.68363558338652674617 -0.31103640581588254399 0.085942983160132810361 -0.43323501085073662376 0.9370336698646060114 0.896869487930016418 -0.36972764636857047282;-0.84273382319623280079 1.8570809252327464822 1.1199107647690571543 0.32447747103861840356 -0.10925516323059723811 -0.31018166325783469439 -0.22584952742012673332 2.0956575544981377313 -0.48998301006903993704 -0.80894525353582780181 -0.21763080823600855496 1.7065745477990001966 -0.63034711109902730186 0.07734575966830785354;-0.98436821224552240039 1.4993847980257288821 1.0145419039634224756 0.16306733160520869852 -0.078908640827203696544 -0.22222184855367757561 -0.20922954953323916194 1.9443953165183374132 -0.49499918985566887519 -0.83135529018506348908 -0.22638518611842742279 1.667664385028823304 -0.3394869245577277761 0.067358413115911702773;2.2592301875593197025 -0.29495950113221708344 1.1983540920410569175 -5.0400925548636319462 -0.1493439256793596126 -0.93371821096289020492 11.722285519545703636 -1.1282126650696751025 -2.2896673060673475852 3.0968674836253096139 -4.1492310841372148644 -0.78114117181112940891 2.2607468838146056456 -0.073227726995170341895;-6.3729151906548029416 3.0150574504610765381 -4.136514999653046587 6.0581781191086765403 -0.81008958799059671563 1.8935731254186127792 -0.05176906900035570247 -0.63336682123926257848 0.050383267195889910872 -0.71818706105647600602 2.6044364121070326945 3.0423401987138949387 -6.3849296569934468337 4.7066195546815530193;2.9454019081781401823 -2.3878545494019376427 -9.605014632323387147 -0.88193447536613289728 -3.6107138408420151876 -4.5983718701753542035 -1.6667452298681075806 0.33945227552470036425 -4.5478975082550121556 -7.3394882527760652025 -1.132215094295144775 -4.1807808206899901293 2.7701854012398645644 12.278691351560397038;-0.103453054905665906 3.1735335936171171767 -11.970849183755731815 -6.5650176567298297314 2.2139917073813877302 2.9620320602923704278 -2.5771878572273254626 7.0655898156604868277 -6.4436770520681569963 -0.036075163893243583635 12.929579664779728532 -3.5482802185589008559 0.81038127139260873744 5.0102130164922700217;-0.11719556867172072068 1.483829126939639087 0.047822235789685640928 2.4377020657318060337 -0.42394739565329708775 -0.95110008480847341161 1.4116200415582715877 -1.5368765701361337683 0.4932722283633947935 -4.507517913627506978 0.68617265086728429502 -3.347110712573539093 -0.88889531692718104505 1.3126291580316977736;-2.5828667928595723247 8.0845732650558215227 -0.29680665537034967016 0.96658569318057663278 -1.1805837580967744049 -0.049439788468639916941 2.8026944702750515859 -3.3969224562381863386 0.5673960074978237067 -3.9967737538723322466 -0.97500378799326592461 -0.72534498275592718119 -2.0365083768983707202 0.46225400200992244892;-0.34080314571757996944 -0.13429457243131789901 0.039146134874219702671 0.48375454589446315046 0.15029211804262337937 -0.12798703359987281813 0.056476837436214948063 0.034960810482610411853 0.087518755123503738647 0.23116481988601211839 0.10866686611967259213 -0.12750851109103533698 0.82467305635443866052 0.69107902950542510201;-0.96115034650799113791 1.427834132270878964 -2.2862208029556705391 0.59716807022358753265 0.52207398714642427873 1.4488421366741295326 0.44141193158180813683 0.28096773247628126224 -0.4181454255252586294 -0.75172750073770577828 0.5491805918660828123 1.2365114149633058549 -1.5040027300131491028 1.3814513101204732859;1.3888913789262482545 0.48686965778833535268 -1.699419240344635762 0.13960446999349696018 -1.2714876971239403858 0.015154236825264141494 1.4718782065123690028 0.22181310789902120018 0.1977983692053660314 1.6894309669517062478 -0.67553169894460429745 -0.87606777584746886589 0.34491096384658959106 -0.45189521761952355927;-0.98705791919013563529 6.959655535241743074 1.2951453666637451345 -2.4488718946131053933 0.32158821424989569859 0.059448755699394020824 -4.4656085842210249126 -1.0003933385737304729 4.0880468347902541026 1.9531158037810023576 -2.2248993393938341079 -1.9279077706806753145 -0.35075952095069673486 6.7723755425339318137;-0.71888481286855998587 0.017381474815571416881 -1.3812525249915390546 -2.646337002476308875 -2.6284678037417976704 -1.2857030777306286407 -0.98076966762877748618 2.7222619551584372743 -1.0316228265703419886 -1.5280612973281397782 -1.2825452137587920465 -1.4674079834010926859 -0.22244828934198720982 2.6527876575986439889;-0.16836884753209888088 0.56696037301779789175 -1.046596939459654152 -0.89949622097522052844 -0.09741089586761721153 -0.12637688577018854619 0.46385230866582555231 -0.98261489344498320619 -0.14436859552276634644 -0.22477297179327390686 -0.19936966111397380619 -0.067751705813318324756 -0.62961895901387587848 -0.074975612700926522192;-0.22561666305953217981 0.85851361179115348587 -0.13008246477099111305 0.4499495120920451452 1.4157917094704013383 2.992854212246757406 -0.53264979522490629726 1.5073547507418774138 -0.062253147280823602217 -1.2843072767812333534 0.24257600243208701785 -1.1326448121053280804 -0.82518790350242787746 1.7039978332346077394;-0.75821869190701030039 1.8515838376387316888 2.3693667274705045855 -5.8426477599258337392 -1.1647877959204941956 -0.27054587536400043213 -2.0793086848679465106 -3.201207109183412669 -0.70230801151814603589 1.182327638869081099 -0.92855946201026684506 2.1000419334245199465 0.10166331828643425383 -1.4398509938707757527;-1.561935619113756557 1.1164678823731724044 2.5627103412672647131 0.00073857361548392702622 1.9749848690015547881 -0.40540650461196681142 -3.2625112799515494366 0.50779379832768134495 -0.92370777611015364439 -1.863872991249446498 -0.97853479451999592076 1.6510275704699259869 -1.2121992977442905826 0.46588298120188054163];

% Layer 2
b2 = [1.4713169710737592499;1.0314639893430537221];
LW2_1 = [-0.86249682153691509257 1.2641812503581957294 0.88802137613995091314 7.0252931982286721535 -7.8066567768120878057 0.36835055498996999157 -0.20878118757543953632 -0.11899015320654145189 0.19899719280380362418 -0.7346918570643160562 0.60858956842489375649 -1.1631993596639076394 0.71617281488145578816 -1.155644742562996985 0.19370935559866628295 0.4042757518204951328 -1.7359504207940026355 -0.79843395375771930578 -0.42199768664773179561 -0.76427320517280328271;-0.3987907616378223441 0.40217276954709568759 -0.067301099898155039569 -3.7539207372496896653 3.9155836213273205182 -0.0086883930120104767986 0.25217083906931198056 -0.90199694417834475058 0.11411013664260460931 0.089746562217363184955 -0.10811347678052907195 1.6737206891642182338 -0.2510099661299271534 -0.18134232183913545633 -0.11035352062143845286 0.16590352736257457655 0.62533356410129914416 -0.1460903826140731443 -0.043322828623098573464 0.0029137369206653405095];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;2];
y1_step1.xoffset = [-1;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
