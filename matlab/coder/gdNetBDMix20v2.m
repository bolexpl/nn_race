function [y1] = gdNetBDMix20v2(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 28-Jul-2021 22:05:09.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx14 matrix, input #1
% and returns:
%   y = Qx2 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0.03278;0.037097;0.043548;0.054841;0.075468;0.115881;0.135191;0.115127;0.100462;0.078792;0.05694;0.046205;0.03278;0.004303];
x1_step1.gain = [2.0677818903662;2.07705241337913;2.09106154830561;2.1160460832516;2.16325665309584;2.26213892021323;2.31264938269606;2.26021135236356;2.22336354884396;2.17106234422628;2.12075583738044;2.09688664755005;2.0677818903662;2.00906490083256];
x1_step1.ymin = -1;

% Layer 1
b1 = [2.966002805732403047;-1.1651249817767190819;-0.77501663875642312629;-1.3237490630854411577;3.6876077452952373825;3.6476550492061106112;0.27837873005421720496;0.81773297296947233814;0.75799027993712897455;0.64936050145234336384;1.6610473500710094541;-2.8999018562803109411;1.2075359662087850054;2.7486116727623728373;-0.93271132776601894943;-3.1688357370928352807;-1.4894482109516555823;5.0692381365347030098;-4.8791806620484994284;1.9478356255851636547];
IW1_1 = [0.34209758362949638233 1.8495975044948411714 -0.56046958548747694007 1.0053080135864207456 7.8098615822820880439 -4.845369175641420334 0.22402756110941571266 0.79451576183727867786 5.10324573639331458 0.67623030720774224278 4.0559487899483785966 2.1218936537295429723 0.056590608354182017625 -3.2183519299815963599;0.6639174055848118261 0.11605275011292426335 0.32904737754015112028 -0.58899063320918332298 -0.47910912534649308103 0.42533511885561076094 0.5085245688725268387 -0.25263808317425245908 0.1973882148729044772 0.57469767569806995411 -0.46564917103929531761 -0.24248451092623671266 -0.26168833494002829987 1.5916748192817282703;1.242598941016744174 1.0924415226340771223 -1.1909740509220247962 -1.0001648967880649721 -1.9132966215969560153 1.1633163117203648707 -0.93389165630880965896 -0.40266153593565257029 0.21308524949019330696 -0.012720102325283222724 0.064731581219179490372 0.27925378753116486541 -0.19924100178828604846 -1.0566772229459373555;-0.71956364154073970685 -1.1490254859894497574 0.33056591536621948713 0.55373426376431866824 1.087582762639352385 -0.55023677992684150162 -1.8184624466297460987 0.63317898785524606708 0.26399799380748900646 0.47643054355696801139 0.82519907681862758597 1.173485843119027372 -0.36337156572219658779 0.90886383372477153042;-0.72388936675013149102 1.4083495239269370192 1.7311146077742378679 0.24314231856476989369 -0.032289589109821242863 3.7532811257415361617 -2.3206846714573057255 -0.79289827402375756549 -0.47769405252350294333 -1.1893145346650881855 -0.47394298151467761926 2.5009438698391934786 -0.01835947825738004982 0.11577375154198724094;1.3563240766247450786 -0.75907121071395811107 -3.179361689884325326 0.45553542217115639001 -0.40175520422765104156 1.7843251155935950791 -1.0655071858352600511 -0.061563365701792611973 0.071700662895431990784 0.096630835043840984655 4.5936429696979406145 -1.361512147298951092 2.0325457973393072919 -0.40638364775037899568;-0.29407567302793802266 -1.2204005045250156947 0.88431321449782662736 0.43560693496163355176 0.12672898813298127951 0.34433071581411706097 -0.17323585423921233906 0.34058672921543159395 0.25649866261863629724 -0.46068007740289457219 1.6915321255545383572 1.2214081116708768171 -1.1681009739599954589 0.7471411765129791771;0.0095618398604281860942 -0.52963658331255614176 0.81256071879384383916 -0.63037085428806949317 -0.3330837253866511527 0.29382842649182788763 -0.53315481728862890165 -0.14761329735166628385 -0.27213293305597074934 -0.078543619264026726112 -0.57877440606018570879 0.35506831539432365252 1.071594607290424106 -0.0082757743603328534632;-0.62049058541171053793 0.74970501379425791288 -0.64478976581582303496 1.4048127728182835394 -0.44434742025135542942 0.54943775923831550401 -0.20380874406585899883 5.5583537890150767069 4.8276964137633315843 -8.4351856028938883014 -0.41828237274333224249 1.3590042004201070558 -1.0948331713077139593 0.4407978344300728657;0.58775078690818582938 0.89816775667781756365 -0.92173882849208210732 -0.10023349855328549107 -0.98788328195551411426 0.033089996194001131125 0.43649083879424266375 -0.13260681077132982497 0.30524801479425889283 0.56239393780261515143 0.50381344541999573128 -1.5417884680662627961 0.59509289955217437029 -0.32480464366702288537;2.7227667717333816633 -6.0436004066867505813 -0.79760946423776912795 0.85117474220800992679 0.15667419931892345719 0.82277868320572045135 -0.015336193372387379313 0.65284762854861622117 -0.36871134676330186153 0.092797177993150237185 -0.28082886155030656328 2.4035815722396809413 3.5403853753060960941 -0.49578957786164234989;-2.6967220201152222181 1.3894251879165298025 -1.0240112046332716655 1.9505358295820418579 1.7225346089656725646 -2.8421772169281065423 0.73894600619024208843 -0.6399505004018518628 1.5189937074015447127 -1.2631165320298771704 1.550740793956108865 0.5882286515251323733 -2.6325283875869502914 -1.6195887140893250322;1.5234117224218708397 -2.299742168894156169 4.7334365369073374552 -1.3336235253763693009 0.13644373889523009336 -2.4314994587942657667 -0.051444460704623544423 -0.26856751287230762326 -0.12461122982846098428 -1.0845047234798417257 -0.60643661961744355082 0.55419480207576077291 1.3574407308331915001 0.39924723932910716195;-0.49262351079780664076 0.19362462755891893251 2.2297372887203574798 -0.01811486490170861538 -0.063821624148498012907 4.0630887121801801953 -2.4247321858979713483 -0.98628282422696789133 -0.43862006475615994416 -1.3383674602328188286 -0.67519919129270089542 2.2325055469448154 -0.26872803300455117004 0.08560325127515958088;-0.51764653176600006201 0.66196785586373452226 0.36868610717841920899 0.57605698151090478643 1.0738196725873547788 -2.2014610281928312929 0.47800817899505615438 0.59534600304237017543 0.44573436515107289768 -0.20241048583992898857 0.20057907164213698015 0.72631754671070325458 -0.50453444279271442152 1.7364645450978453134;-0.91631904525800955685 0.011065429297022538399 -0.83234507896772369495 0.51150003437228608316 1.2589986200982450359 0.01197146191225895856 -0.049366871883317328673 -0.31916199092218450195 -0.38635347386752361132 -0.79264983264492128168 0.75801463509863464818 -1.8384192009565616388 -0.11684244218988693031 0.51573687030681070187;-0.92870380292232834751 -1.7800237496947080018 0.27299493265802199371 0.87174266358780572173 1.9230744993363537709 -0.99441815851601633724 -2.3399169363264133992 1.0225062702999134778 0.47479239225485520004 0.95353031644052055338 0.65682594338479738383 2.0506760408663575745 -0.29275177079270942038 1.4131713993404813046;2.0477251354610985778 -0.45275304098922281026 -4.1598889366611953022 0.098277410884316629414 -0.31629641068308128604 1.7557508632965204143 -1.3162092342165070402 -0.5598273948033248848 -0.0011288491021959022598 -0.30924066806958006026 5.8932809963614234405 -1.7904934159003049743 2.1159601948155111195 -1.1750168138204744039;0.4476747396226652409 -0.86042662091863597595 0.65419964367564709118 -0.13522655856393558937 -3.723857817276818416 -3.9541497339414304335 -1.9273967697076044292 -0.46314550573207435846 0.50790723372831547699 0.70907264815886172915 0.33900840130908238557 -0.013360825444927363834 0.2884078685627633476 -2.0840148157054723121;0.67204821745343401584 -0.8126836979395990479 0.96563011487078664885 -0.63588900174763141049 -1.1137026061125092635 0.25020077676244867337 -1.3999640471175121004 0.036196554729124905125 -0.57404605446340839503 -0.91239832393923425702 -1.1892272362926186169 2.0331051823661296929 0.12963382088757946509 -0.26905216475299686962];

% Layer 2
b2 = [0.73606901962445925314;0.087497331160350272361];
LW2_1 = [-0.010852787291132025629 0.57070950296919564781 1.1239405613105020176 1.9377994182057660666 1.9808593272546450859 1.6223412064096525143 -1.0200187775188920281 -3.0966105339378304784 0.23041867332119242429 -1.3406746979166497269 -0.64460848840072249022 -0.5100600787012642412 0.64685815083257314217 -1.9050006484157324671 -0.71389365402205828826 -0.80031886289856923877 -1.0549541398743824683 -0.97881381944373835324 -0.35757601499614261042 0.66267778857828718575;-0.64379398076568705722 0.53778297348759185326 -0.081978236619328265222 0.49620859902506242456 -0.5545708241136356742 0.16888113509897523246 0.034857095595213487271 -0.21474256253268475536 -0.081764146312949426143 0.14459201852920816611 0.097749143237620753077 -0.16396279663815255256 0.053035641429206095698 0.6185181248639858298 0.26967556423508848296 0.41738451282218730354 -0.29658159920913335084 -0.17113682670426472177 -0.064577108055351647997 0.33787928134236355771];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;2];
y1_step1.xoffset = [-1;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
