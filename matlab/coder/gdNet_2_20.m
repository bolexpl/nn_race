function [y1] = gdNet_2_20(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 09-Jul-2021 01:51:48.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx12 matrix, input #1
% and returns:
%   y = Qx2 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.012137;-0.011588;-0.009767;-0.006048;0.001655;0.00749;0.01837;0.01636;0.001696;-0.006235;-0.00999;-0.011807];
x1_step1.gain = [1.97601708069165;1.97708948702436;1.98065494317006;1.98797671681669;2.0033154871312;2.01509304692144;2.03742754398297;2.03326420235045;2.00339776260538;1.98760726867978;1.98021762591709;1.97666155699654];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.041326250056646592068;0.92170786372448654244;-6.0094166530538561943;8.4121976334754666738;-1.9832412208227816475;0.18269243070122265227;0.22352447035770667272;0.76337787127918776964;1.0595360802701401237;-1.155348010060095687;1.6190735855523252784;2.4397887352321530052;0.35645317122346487082;-3.8744816420793011247;-4.2438864496752675137;1.896508839368330035;-20.059434629946359507;-1.129802061908907751;5.8327166764426090495;-0.0009062615484077968242];
IW1_1 = [-0.28339408377037411668 -1.1961708638384704884 -0.89130598066751554054 1.4463600718581026694 0.79385774615174786728 -0.53405557567751271719 -1.1523548395724578786 -0.4246844611621658494 -1.2074920632588013181 -1.7512967359734183947 -0.77779453790467778518 -0.81172745122279865715;-0.98205583481503933019 0.47882915825326172188 -0.14379167857208982606 -0.49528757535492951014 -0.27063307467294578368 -0.10967302795207491128 -0.55396272968687665372 0.92042399488883108738 -0.35015268587249420706 1.4077831800721944955 -0.45411337330586759586 -0.031870309109352054633;-1.2432433815281120904 0.15926181264625749456 7.5629328327365232809 0.74726093884905997466 1.4251922824342413421 -4.579585252369493098 -1.6683697191340576271 -1.5536512372190549591 -2.1626874459048730515 -3.9473126695913429707 2.0673726379825643207 -4.1377296400433820622;0.42411884305496055925 -0.23831897751400701879 -3.2847693069972256907 9.7717647461026491129 -0.3510501617591160195 -0.81904876259089864909 -0.64030461532803184532 3.0247190899870810554 -2.9071733981381706613 5.4235062488871728092 -2.5305771276154245264 1.0990329302557917401;0.034166683093855843012 1.0612857477041308663 2.1830091766810837406 0.56261363035080436124 -1.3834928752213444536 2.9340103774496393285 0.40287147353788621551 0.30368113932808904476 1.772362314291218599 -0.38964098828541671171 0.55885285030492126701 -3.5794463497570854216;-0.052099857645488474589 0.036426539856454186184 0.15996210529055260308 1.1791537083162875188 0.13100545114756831366 3.2862528965032753447 -0.081275496306354139131 -0.79570798641434870024 2.0216226855869661172 -0.68513658875969318807 -1.6049057312845771417 -0.057219309805117517242;-0.69368009246486073138 0.40044770022562747869 -0.19938989968505824169 -0.82851142994621906901 0.73145296812030580202 0.86659469292810276109 1.2259388586949149236 -0.047530238643529426623 -0.011553279725016209895 0.2099612339224216917 -0.23145840421216012928 0.50966677475758259686;-0.82082942531843361422 0.54922259094700642823 -0.27641673670203531499 -0.54186149352933998813 -0.14249431051234728862 -0.099153772016901758901 -0.42598037227140461702 1.1961730690689487133 0.027324017559223773982 0.54024372619338945078 -0.21957344014868829252 -0.26047759638815098926;-0.85459946599519187593 -0.027575120319192750196 0.64398267340716996987 -0.089977665707230924941 0.2983951290902407405 0.92506244701757434079 1.6045393879831473249 -0.15064247711221068204 0.4028779093107847098 -0.12791372689465357881 0.25411644263341270911 0.69877690734028996555;1.4091956857293839178 -2.0656666817105850953 0.36653827276010031433 2.3941427609277714517 0.047982176734369483273 -0.21549002184444462915 0.015168083279984798106 -0.80427049661215710419 0.23598870052276654796 -1.7699182958337640326 -0.067888318474937175973 -0.61772973495606764427;1.5858197762742758385 -0.16493933475052921511 0.79974680819790489039 3.6758584280252568632 -0.63824580281427722994 -1.1794484144420009919 -3.3637348324221205687 1.353667212422753785 4.220446044773388472 2.2662728576223245547 -0.69117246625769068746 1.8026048964585252854;-22.100272983450533815 7.64732471203452846 20.130946583229327729 0.84378992942469288607 -1.6261182458178551347 -1.3071460109860268961 -1.5532737806207195241 -0.97921992846202499106 1.1084728105943151277 0.87301826533222692817 -6.827682301047467206 1.4927781616853073032;-0.23207803622893247164 0.56769510593992089653 -0.21920898700208407694 -0.67503224069731082579 -0.090677331784096967815 0.52909094679173829245 -0.54228112845932929797 -0.23608359220446178961 -0.53493320528284227233 -0.83462871660357407233 -0.5699831655566918176 -0.32248382157274879667;0.3309042246209834004 -4.2047033338427901583 -2.0768019616292683338 0.79339740245755918657 1.0646467694223411549 0.77591943433328192103 1.2275155556091645881 0.72776869726093207369 0.75302217174993901772 2.4958748789251208322 0.71270926262598621737 -1.618389612924213905;-5.5620753250110173127 8.7844766377757519393 2.4617831067842450565 -4.7771213139937938053 -0.77508018704250869479 -1.9606301243724544303 0.66317829155893437409 0.34639023536340668441 0.42105329643122679784 3.1392942147701465849 -0.83248353554714071834 -3.0231142225201934615;0.10845414539274832177 -0.15326422966991559704 -0.39418274998993496627 -1.136648305086088051 2.0042191514132436936 -1.7087320537835695156 -0.094760341458391850189 0.55895468068454035038 0.45561120667772181392 2.6586661965714011302 -0.90430732489170884136 -0.84754125528656909516;-5.107966489642183916 -0.89197501602650808294 -1.0245204438546211545 -0.40135025700511739455 -1.3184722615445267913 -1.2930545315832824294 -1.0283139675993586692 -12.259256439664209637 -1.1942749111026143005 1.9505661766939328405 -3.1584574634773234791 -0.38583371495093443659;0.90383164671157578685 -1.0882237370382039643 0.3085706340562014427 0.81174277645927850333 0.33552447254638351204 0.16695973443749617671 -0.25060333150755947917 -2.5262365610136581218 -0.65841119039756224041 0.43725366374378016321 0.60282759575150790532 -0.083123101643470267974;5.2583350839264975107 -0.58277492261498786696 -4.6671194656065333461 4.630447461318651925 5.0485809394067819866 -7.4882106000355408426 -0.49450807026681808942 -0.61105350282442527643 -3.5557220538516220998 2.7069838574273816789 -0.61530132156811334632 4.1459205616476264566;0.017269072659153103522 -0.011235361189641732138 -0.35243448964178036853 -1.2107039877869487654 -0.23988704136499888753 -3.3732943524308733885 0.32392120998701445789 0.94836536001618343406 -1.9427106365536066512 0.67604255491675468992 1.8860434637357776921 0.30347839888234229289];

% Layer 2
b2 = [0.27573512745762052134;-4.6867968545937905844];
LW2_1 = [0.17804420790610800407 0.061141984019510903225 0.068199184565291573468 0.10209373037675610607 0.014712321939337120666 0.0360218343200460131 0.10970235004690284675 -0.12327721949382497435 -0.1416950920848454587 -0.01539648481342888349 -0.001872818181358423123 -0.013607745995811038747 -0.46067686002577745707 -0.00018423031228108214044 -0.023102661398108952084 0.00672173688891465268 -0.80385815118263637125 -0.029128123221434262108 -0.025767261934885737906 -0.025959467859912259413;-2.4688892312489567615 -6.8641543651743175403 -0.59130711812111369508 0.77822375901299278844 -0.94616738323953919476 -2.499484010814429169 -2.6214364809533150513 8.2294404581877902416 2.5131363270096636064 -1.5010344689266903462 0.40539939130625474162 0.39811620465696356819 5.1558837661230141336 0.67398899322098348996 -0.56972396455068952115 -0.99057355150960846313 -0.51259177342338047012 1.767402796511499119 0.31592530353484921113 -2.2693403135587311148];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2.00271367703238;1];
y1_step1.xoffset = [0;-1];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
