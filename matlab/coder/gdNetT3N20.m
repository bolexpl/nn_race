function [y1] = gdNetT3N20(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 12-Aug-2021 21:39:56.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx14 matrix, input #1
% and returns:
%   y = Qx2 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0.014928;0.015425;0.017231;0.021103;0.027804;0.034437;0.04709;0.03412;0.027544;0.019775;0.016141;0.014448;0.014928;0.001797];
x1_step1.gain = [2.03030844445888;2.03133331640556;2.03506622614266;2.04311587429525;2.05719834272102;2.07133040516258;2.09883409765875;2.07065059841802;2.05664832136364;2.04034787931342;2.03281161223305;2.02931960972125;2.03030844445888;2.00451617494214];
x1_step1.ymin = -1;

% Layer 1
b1 = [2.8353342876563156771;-2.2003022820065991638;6.0619006534283181864;-14.459097280555559095;16.128722475453415086;3.9950518031963864196;-3.0783552964658720263;-1.064652828044329036;6.081711028024773924;5.9314781720196627646;-0.87321275141254173224;-10.124074822066823742;-3.8930722742223844435;0.74937592312791356797;8.0520932180325353045;2.6221264485962514357;-7.6374837202530745373;-5.7897662890357031173;-0.8503102742192061303;-8.7735191638806035996];
IW1_1 = [-5.2712676993511955459 8.7668887729565163625 4.6089537154026878341 -0.90858762123894654117 -0.21576407587134513455 -0.23800393647558387711 -0.14927170369557105079 -0.081744331992016083799 -0.069793023212994506621 0.88355249598475982253 0.023331814876282760962 0.38965511673860508957 -5.7096100361077075647 -1.0197771484157640565;-0.48609834677279406545 -1.4943946454654606359 1.8794703522765041637 -1.871173099145389207 0.86682567178996672297 -1.5388778393979452019 -1.3308466562193796978 -1.7287660962791382424 -0.98541172420486189409 -1.0156825842624035428 0.30220309209656920357 2.3416031483729771168 -1.4750766136420019325 2.0584135625475221687;4.9826507039015934808 -1.1472471723955770528 -6.9680558751911751969 1.0756813978231194451 -0.26089993290061896936 -0.31692634879657305413 0.45457409890409800068 0.40248443526163385497 0.047790917738202279286 -0.38596683952030252929 6.129642140520874527 -1.5142317714698287912 4.2949230831562479338 -0.15732057955576378427;-2.6057944104587762446 0.86261088633865024011 -5.5303320554985955226 -0.1614248327788311288 0.7160045151751721626 -0.44912462745304193579 -0.28382259997865344481 -2.8481667930556247015 -3.2744151236908454194 -3.1348675969299812927 0.11676521865419028923 0.28324351867678043693 -2.4538160676327027687 -1.0757232040244584237;-2.6594953369092362294 5.9854389313428839614 -2.5755590589650325661 4.3997512196832033737 0.52134554572173485987 -1.6426013526825276045 -2.0015841352489047722 -0.68049696572577045295 0.43222416488997134065 11.230816137194517879 -3.1328718103305392972 -4.1181887294956558421 -3.219910695162598202 -12.998978739290553364;0.067731509314562496349 -0.14844326618397707396 0.19537489714312902822 0.39951262518287106174 -0.17821553066374321017 -0.36929465990633869588 -0.26812006032688406876 -0.28733942765856801405 0.63445146258483164914 -0.33979035319480199728 7.9832256614709251608 -3.1057911618034617085 0.1066891780543136603 0.73286739814196599774;0.49343049010956419043 2.7838441631818531263 6.748959017705856489 -16.815643842013038523 7.3700857635099374932 -7.5992868065626932861 0.56860798254473843283 -0.28091745309163429489 0.98562423022830991659 2.9690409898503844488 -0.38021220159529284244 4.8874448464858666341 -0.3860334943402699559 1.1281466674001734418;-0.31308806914842496338 3.0062366793296182443 -0.57337858096710980771 0.25416959360639457266 0.20077967966935614252 -0.98758594103786712104 2.1885757352071064652 -0.73330637693095257479 -5.6694817847003724509 1.5607957472831321954 -0.38872936174194783199 -0.57331340785860263054 -1.0639602514042869608 -0.7036483511823211634;-3.2719136486036521916 -3.5971739463544882831 4.9303201728535714921 2.2940410823744716851 -1.3763843327994940147 -6.2749317070157850651 2.4649511729729054466 -2.4947167710336271007 -3.4452837587406452968 0.88796054176030303484 0.77282366723087569937 -4.85399419525467124 -3.4277901741813865399 -8.106179194823566192;1.5542865510388208516 -0.80447881771921248006 -0.07264211597302693002 -0.68017306325673121403 -1.3020558077577857325 -0.28386805162710720962 -0.23586186162930861121 0.56888482745195456669 -0.00050617823193768035628 0.016934861245157167842 0.026671601701714328647 3.6781727279526097441 1.8615149248800473281 -0.86044332894026709369;-0.019051654947863080891 1.5168240696273433965 -2.2609816099112438614 -0.028893182794224085697 0.33100801408096602874 -0.14076034810838633504 0.31071740611638160035 -0.059310058410823852937 0.29657361272482790637 0.043885726005005031014 0.17639985683639250458 -0.9416085968964066355 -1.0184990854812707717 -2.5534252596406359359;0.32997261030138236304 -1.6643566405538938735 -3.8697503484655211281 0.30183879789933731885 -0.18035462210269689876 0.55325447615280609615 -2.3716390881904754195 -1.0074687739897281169 1.6253654718079331154 -0.036689111421255707346 -0.11389910830369610883 -4.5366871505791390717 -0.34160906554690712023 -0.57393914627988062982;-0.32639840357771732204 0.78150709689986619377 0.53044118254890593178 -0.13077878205775300691 0.4605463657031541036 0.30113100880552745586 0.75567229240819677738 0.36020192762900871131 0.1900001801839956983 0.45823737637660116873 0.17106250132378392204 -6.0649994572041459051 -0.0018368067186018389135 -0.5281866198903282239;-1.4552636570575749886 7.4843362226933320969 -18.130791603393447531 19.482563570826076926 1.0882505782742355471 0.54576557781977175221 0.14359311933325560884 -1.4534716012147297359 -1.5748144803779682288 5.4511643849720590183 -2.9659649142766104646 0.89128224006712819527 -1.4195757304878260374 4.1927779473253270481;1.022779926929383798 -2.3474496846857428878 5.142546591842719117 -0.17735353960490496394 -0.054098761870651754236 -0.63903319007239456351 1.9552091649396750039 1.0009030204028319666 -1.5227229107817130682 0.0061667724466420020812 0.050420757049314812726 4.1008336878705851092 1.9125258959023050398 2.0452003949983468267;-0.32090910529663807527 -2.2965467786418520824 0.67543716782680440769 0.17210490107059975284 -0.5472835495336576539 5.7930245540656120085 0.99913686764127696005 -1.1912389734936053021 -6.0852123370605522013 0.050013380353533316847 2.0325261753536012499 2.0702446958403437627 -1.3946485303539828404 0.15422058249635045568;-1.3266436447883283023 -0.83716781580130705809 -0.82012774381411879254 3.6347689878473894431 -3.8452679546564385582 -0.93600830166752391204 -1.0893064291931064957 13.151945537660406416 -4.399563241651544665 -4.5727576536071961044 -1.5264450257631363428 -12.759803496088103714 -1.4841000278238318799 -1.1399926624626024463;-1.8350854253756234691 -0.21471031731230180717 0.21133899049730009434 0.67268034831031298104 1.6064363010809774579 0.24128217573020663278 0.12559668353921327189 -5.6686265223626914889 2.6818237241092779399 -0.11968968402768129233 -0.97149718599722956203 0.22401272712409781018 -1.5575800031172606364 0.25248513970545094498;-0.93007634142417294765 3.1154748024244680593 -0.66355997861205540111 0.31513174191615606068 0.18316206994871175873 -1.041927457659761469 2.1155137525606435567 -0.86199341218742620008 -5.0640168901355178122 1.302085380355864741 -0.24745440370425261789 -0.57045206666986780775 -0.54796110843135004131 -0.63389404837358764855;0.53841574126069147166 0.45681352502555239159 -6.4025195256152365175 -0.97268398241384701475 -7.0812362108978117448 -5.4815779404190374535 -2.7787747022371092065 2.1858063108336760472 9.6423698332539782285 -11.885870123925316832 1.1355925374831759012 -3.4533011321154285511 -0.70426555256340273026 9.1413306373818485895];

% Layer 2
b2 = [-0.14026840157801565012;-0.1502071630735063168];
LW2_1 = [0.91526400193793666649 -0.28474074112633135369 0.75970738049688335547 0.54508260443697742481 -0.17306794474572081977 -0.77519635944029330332 -0.17130844116954488388 -2.9468682111092285858 0.37507259188377800596 -0.83970442375112752664 -0.58185971456860607898 0.70010793061034726215 -0.88824232530749724912 -0.14756235865827421749 0.20812096137240143623 -0.29277254821944370677 -0.19778854958161662392 -0.61781359904641464098 2.9518807571289151781 -0.15428995928409194871;-0.012572061477761273945 0.006795243705533412365 0.010602880777242279509 0.18497439671311663445 -0.026497803146209916031 0.077125579458460505333 0.0078411643738576144308 -0.086774963577326530428 -0.022491236345803380242 -0.044271634317879240972 -1.1399213638248484326 -1.5952994050507049995 0.091425621517962851748 -0.0063115711137658727856 -1.7658653106580581849 -0.019861334619053871986 0.013945596201529575353 -0.070191379080405097435 0.088411354306148368098 0.42367675220290867966];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;2];
y1_step1.xoffset = [-1;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
