function [y1] = gdNetBothDoubleMix(x1)
% oba tory podw√≥jne mieszane
%
% Auto-generated by MATLAB, 28-Jul-2021 19:25:29.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx14 matrix, input #1
% and returns:
%   y = Qx2 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0.014018;0.016235;0.019675;0.027656;0.035214;0.041072;0.047315;0.038958;0.034175;0.027592;0.019829;0.01641;0.014018;0.011819];
x1_step1.gain = [2.0284345961691;2.03300584997433;2.04013974957285;2.05688521757732;2.07299857170398;2.08566232292727;2.09932978896487;2.08107450038604;2.07076851396475;2.05674984163026;2.04046028703155;2.03336756168729;2.0284345961691;2.02816101570304];
x1_step1.ymin = -1;

% Layer 1
b1 = [4.5719270234923659046;3.3884314512676354525;-0.91491919269135379977;-3.9976681425742963683;1.357202779873309062;-3.0633280963291906751;-1.4143082980539409821;1.795305107752124707;3.5012588493540768297;-1.0811256922660259505;1.9050746090378507525;-2.3537475041358453254;-1.06473588848088907;0.18143796707717782524;-2.9825216643635696911;-0.62832283326287230452;2.3664031602150434885;-6.070143633393610294;2.7685676784466850542;3.8655764173655517979];
IW1_1 = [0.40205273032576877013 -0.80010135495764656 -0.2686377363766906945 -1.4139864570739877347 0.117848024171298707 -0.45998830128211704027 2.2038804877785076464 0.55145223075424165682 -0.91258548169623143753 0.2810649934501914804 0.19908463411085608463 3.2700017564731709285 1.2724801260796376745 0.48954913375387698604;1.4462963795663212885 -4.622743995752903956 -0.13260782621958472349 -2.0186828558037803738 0.89897843266931243278 -0.8499752506899866944 4.953691185944255615 -1.7697085270339634189 0.88994200344273310943 1.4782574218704174207 1.8760875916725050505 -0.065823524226567620143 1.4188076448814781472 0.69246135742511738531;0.47791095390633320239 0.50770195414313123994 0.74427193527445645316 -0.5381280724261683357 -0.071727687314965427046 -2.5734875791783635712 1.2104460821676219506 0.20659436645798215371 0.42934800043515092272 1.7215328157984199908 -0.13962836913050263865 -1.3634129492826501107 0.55555522638803178648 0.34098028108835631844;1.6519241570038127875 -5.6838194793656731107 -0.70443651402882290213 -0.51256560104130644007 0.64280093961273776504 0.27424038229713393333 -0.70059218860093341874 0.56930597342687305762 -1.0465554946919723989 0.44251448093938478001 -0.68209915555826694522 -0.62044876758260625316 1.4269047778423136208 1.0318854941481632181;2.1331493179676108696 -7.7154693755582925974 3.5961027969097583146 -6.7213025526416840805 7.0433807002895205684 -0.42873540942051935332 3.0145886700214581388 0.9258982064634724285 -0.97995496110783097965 2.6097944310258887057 0.13725601320634339686 -2.1813556612809792412 3.2894691227587782301 0.31493903117931854041;-0.21262341650637492374 4.5714805970043439487 -2.3498947064114839023 -1.7081979813209473562 -0.21527220233007715589 -3.0042846243751948343 2.8883534416512066656 -2.2826690472387181075 -1.8118678675155925895 0.35109197597102759225 -0.58578819954421379457 -1.2582100893402916597 0.33871998831029753729 -2.7607925167804481248;0.12802785224061816183 0.43558041442524830789 -0.7971435249833831449 -0.51984945457165476768 0.14144490823950886527 0.32769088256720763086 -1.5066653590063388002 -0.84691537349919554512 0.16191567350781999046 -0.39391636509569949443 0.39446323281215639467 0.72229287303514388974 -0.22006251237801302545 1.5067770132941435968;0.27375757016180529702 -0.28513029579534743263 0.15099740706460973438 0.43476236829014947016 2.7126543329880101751 0.6631749462945744078 -7.253922446028933102 1.0501050173137171928 0.34144346414903542497 0.4581558930448841882 0.91637438696437778507 3.9665012090557887348 -0.16627635700532505947 0.65251783148573672122;1.2474718572317722298 -2.7870721369384341415 -0.1823991281282038579 5.568418914573795675 0.95689940113151150669 1.4134006331683739432 0.97911667967527282741 1.7493934161394761873 1.2944100097476565203 1.0244807762565253384 3.5924871232149584444 -0.25519520940839951484 0.31352535172654755202 -4.0016618426616741289;-0.94767785433117768257 -0.0084968171743984490657 -0.57098935619062418656 -0.29634830406907991529 -0.017049306018528533058 0.20478694466519919981 -1.0240115598840242583 -0.85170602074283030536 0.13260566917799296305 -0.29796490917285878286 0.30663506267274609485 0.61897705145831705131 0.68532963116049283592 0.76029382801001421655;1.6062318787805420772 1.6683772551981459475 0.27725113069854662173 -2.9303121376197180936 2.4202378205048082904 -1.9652990618485866037 -1.9810634100098627464 3.4693965494892751167 -3.5472894989792305154 4.6304757995151275551 -2.3372809761766180081 -0.97300958796876302337 0.75410425906190503564 2.6724907109139568462;-1.9121849517488485048 1.0049792121999594485 6.3267401061404058282 -0.017202605522615488365 0.32571162802289788107 -1.1065158138358468509 0.16793173990109572236 -0.10838897943890549169 -1.5885389834420924338 -1.6816703652557603021 -2.8248205216417519026 -4.6356671609071042894 -0.65531388674571477981 1.9529362660265221496;0.56033542660488266929 0.65602546538621930861 -0.58622412423976066886 -0.56514563442328602516 -0.021864787419365840776 0.79796521974773881869 -2.1815533781369880195 -1.1966767198343220002 0.361725382944169227 -0.4471175979678236323 0.57416433052364379552 1.0358957961824104554 -0.44017033340704575517 1.7603368475321974351;-0.3324177361660307084 0.43102864784691546918 0.26548369098630153484 -0.044257828769349992493 0.21341000728300446587 -0.14157236659922103894 0.83733292310434759287 0.72789058148929974834 -0.15621771953414026468 0.06919398307870902598 -0.33068857318780120469 -0.71513955165088349819 0.65042487322661679539 0.2447225247223035749;-1.2706474960097979832 1.7320258774162371473 -0.34093736297382387646 -0.29540246688434668165 -1.0208581225297739259 0.60491240499368725825 -0.67957750573551989337 -0.47113387158544961508 0.61900174184524625609 -0.29906767537541822932 -0.51966317360794311853 -0.63881757352031287578 -0.30692351961041824948 -0.88147182368341570058;-0.10718042093426467798 -1.03601079131437257 -0.72155744017347400732 -1.2407343193314743779 -0.182181979674335498 1.9536482555022514074 0.2858395873706367496 -1.3293474667243667664 -0.36020331419613732526 -0.43696900574698899211 0.00424743411006632543 -0.1384498963017769535 0.19107987026540462772 -1.5254502422769062875;0.87303872976641305748 -0.15840635460659771572 -0.81732507364615991641 -0.70845039192322789567 0.50078895158546665733 -0.65463554687694447409 -0.58001594492487051902 0.40769105342623496169 -0.47511091908166452891 -0.6667043691414517026 -0.28704889139602374204 2.7033857872667184097 0.090362185867115765725 1.6585647756203578673;-1.1188293870060270763 -0.99162241653979221745 -1.8558696796579432498 5.1188625208043143644 -4.7430929648345303562 -0.74591380241142890561 1.6210828536322243743 -2.6119551224981081283 0.96980048496635373745 -0.7723872970559998441 -0.095950393833084235418 -3.6024607856885451085 -0.9114009577858129818 -3.2305814536819168481;0.95477767281005876399 -1.6229185205507203893 0.28878867980887434896 0.33817849345131817396 1.0259712132015312847 -0.80676914164257751416 0.51442190896297734781 0.39142555176291088381 -0.59587281060977814739 0.17208764636356246869 0.23245609726440802367 0.71464527653114762185 1.0127999816718249448 0.99190255658223480673;1.2950966037226052663 -1.0079356575808759988 0.48138895962818706309 -0.50669649020203233469 -3.0172662790960034229 -0.19852251930796410706 5.5856605595875947756 -0.62114490380175635398 -1.0880812953487712935 -0.029628854732747435252 -0.54117410576825086821 1.5645795261848034485 0.56690570041932564216 -0.21811503073665178265];

% Layer 2
b2 = [-2.1270758594242278328;2.1978815258773378716];
LW2_1 = [-1.9774199444642244217 1.0050323988154079569 0.62705243757117756775 -0.64262043056019990672 -0.30241608842135436763 0.43166152135622815056 4.1057180831399051613 0.57478134220536714061 0.2890252440397108602 -2.1859638722979548575 0.32025433263641922554 0.14494364174467672113 -2.2393562679869312149 0.049379450856911900891 -7.8990812302727677618 0.65099818596776548585 2.0458552095943587368 -0.34368247745691643535 -7.1646888708626805808 1.0821041346331312649;0.23262249939025111956 -0.15362588447284794557 -0.12656624118089937481 0.29713567117900369086 0.089422200264780635215 -0.16534935328872243931 -2.2184597838368511624 0.15959236575833446459 0.00097985931991611055492 4.5416015923381287678 -0.097529808947577456557 -0.22329713024830441515 0.07629311628760758468 2.5274256523253519902 0.12744670395014531805 -0.49983233733257298459 -1.929042403740570677 0.041126707932754934249 0.20523634457726958047 0.15939098144141583546];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;2];
y1_step1.xoffset = [-1;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
