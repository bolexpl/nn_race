function [y1] = gdNet2Double(x1)
% tor 2 x2
%
% Auto-generated by MATLAB, 28-Jul-2021 19:22:30.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx14 matrix, input #1
% and returns:
%   y = Qx2 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0.016842;0.019052;0.022363;0.028153;0.038785;0.048118;0.065766;0.076225;0.055487;0.036092;0.027469;0.023251;0.016842;0.012255];
x1_step1.gain = [2.03426102416906;2.03884405697346;2.04574908682875;2.05793710326831;2.08069994746233;2.10110076669167;2.14079127927264;2.16502936321074;2.11749335371774;2.07488681492425;2.05648971600905;2.04760895583205;2.03426102416906;2.02905814164652];
x1_step1.ymin = -1;

% Layer 1
b1 = [-3.8959052153942526076;-3.7285985413845645908;3.4110510660567685548;-20.289090846876973728;-0.25858598846023950202;2.8381848783070404707;0.83534274255944540588;-1.1958299996573149571;3.1034374057657565515;1.241458377631591059;-3.2905233634554797995;4.2937990266155994235;-3.1409365315784034678;-16.660372237881258428;10.354656553293779098;0.14903650219806569011;-5.4614164221370691266;1.1622406063202508353;4.5154102222389713717;1.5732829363149924973];
IW1_1 = [-0.93733462438501857772 1.5967414963051620447 -1.4161844989271803463 0.11027875445402456067 0.60072575337378220084 -3.5071448889768506163 1.0112467416279740107 1.5647708253095959918 2.0036472244562650857 0.44799507601695853776 -0.13797949850274410233 -1.846071609781514411 -1.0998718967977580974 0.37716656788444713477;-0.270613499519772982 -0.28294192403854262485 -4.5449830569189808571 0.054484530674578077192 0.90549997495786682666 -0.78250005332092686938 -0.38836756564131991176 0.75447983432835352691 0.80011234083537108308 -1.6563544518569233155 1.4614570034251608277 1.0111219259472008503 -0.14197369658100439382 -0.095095323511040372177;-0.33243284616327717362 -0.28375972855633030401 -0.98214986520223734878 -0.43379010687825486636 -0.10353650594204039104 -0.88109335989931614197 -0.74621026723724914742 2.1460895432934465887 0.48133331982354832235 0.82945898722894639832 3.6963963176972161051 -1.0098980576308962398 0.085160263932966759337 1.8161333802762316125;-1.2624536323418660277 -10.730862808938546493 -0.67672524084601282102 1.0495040461321665237 -2.5370985680860198563 3.1532821889918865033 1.5966455621076540705 -3.749699588984973353 -0.51110259638631427848 -6.8300019361587374078 -5.5473144744875684253 0.97137037838957740465 -2.1164813765279020252 -2.4668532006251129296;-1.5757886749307636887 -0.78011278399933448036 -0.5063367969114014322 -5.0812728083157434611 2.3192875977437528157 1.3485831789275821713 -0.60480536375308080466 -0.19247162533216258251 -1.4379429513307324662 0.1805213811088426934 2.0340290760719881291 -1.3267997087666145717 -0.75261969963889996382 -0.97803786511532309067;-1.8098514024369010134 8.1639261551532538164 -0.0053899327725181580065 0.85349993694287484836 -0.30751830032441718199 -0.63053033747713482793 -0.26374175581654890621 -0.25744184729422997515 0.34675369085443358275 0.24035973434520743752 -0.076907176793678588833 -0.51974523212180834264 -1.9938857396429126023 0.042259942222369180354;-0.69926123925790040214 -2.1939364325507861864 2.8649787071808066052 -0.74921890128681445375 0.63687587609535389888 2.9208718970658287262 -1.9639061328910103477 -1.072326065773339554 -0.971922986517803289 0.094211885578107473771 -0.15053052698649671548 0.75259765686275370555 0.016294570325990062609 -0.40319095181220226953;0.42539290748088320893 0.67270289077321432369 -1.453273315393085463 -1.0060633633304283396 -0.13225881469009290181 0.66984329011344001525 1.3177235255641912559 0.98816997508221537938 -0.48859877064619494647 -1.1566995994605215881 -0.094084045910877642238 0.59060536870321689307 0.74452077726204191066 1.2692745257626516509;-0.61862821487307395607 5.1348456674407714218 0.12933255993821510255 -1.1558967504393944381 -0.18375849814985051323 0.60605753806445705756 0.41745798711211257181 -0.67017585048305194917 -0.62248884822883820966 1.2531723353108701335 -1.1384625430253594303 -1.2843832193085633619 0.66431777470383757134 0.69612207274459725337;0.14091236911569290924 0.36570813450962247337 -0.36229870988733209325 -3.9009820907786294519 1.7863944778940812341 0.20363606721595037263 4.1037705196893670134 1.2520564952118109492 -0.99334225211853910409 -1.5515991376659596934 0.051566826656970307652 -1.7736096335113475941 0.50664285178681589539 1.7481783516420532631;-1.0093583202811553523 0.04797982532235232217 2.0737655315996885719 1.7050494066510548663 -1.2156449741960553279 -1.512267587299215954 1.9942648710773458465 0.2120020428627481246 2.4818249465179049729 -1.3409059311812527859 1.3618502796318341375 -5.5219371738039226827 -0.14980733637615176179 2.0618655274703145963;-1.9431196154534833287 7.9987945359404486467 -1.9202690894611402772 4.4140208586100380117 1.3322066704014605687 -4.1832456565887934374 0.91456315471884819246 -1.775287844423504735 2.8568083725317330313 -1.2991476706157800702 0.53766384145017820373 1.0715758996228179623 -2.9380104187840632157 -3.6015989945833828401;-2.9084815602308808913 -0.25070328608383485314 0.71244539423155284208 1.9328603349407080803 -3.4134339727287033028 -5.4002757466903901218 5.4217250750110492774 -4.2516239899258669865 0.22166572059091271818 -1.4802956285944584014 0.54603159778611987107 -0.49458869604223382188 -3.3201075803738375747 -5.8180110106177638229;3.1721274516660113996 1.2930778050445690397 7.3387487862169864528 -0.027938887190826350304 2.5214710678440770408 -3.1583729597850327409 10.567876596284209612 -9.0785389137020935379 6.6965073655420095378 -6.0366302037294410354 4.33987454163516162 -29.273581456139229573 4.4427330876961192985 -6.0525485061297290557;-0.42609799895282779447 -2.5457358370686726801 -4.3366968273514414633 7.0436382793617902109 1.1057337544301699683 -10.334451928426725331 7.4111994898476147853 -0.75229843148301867028 -0.69599840715833105609 -5.5693314340073989399 -0.85242726538393653879 13.382158214576646671 -1.5028651019540331113 4.7688712625269840117;-0.11923268446330263781 -2.033659551697754253 -1.6414851116765480921 0.8919086591360397831 -0.24656227081768586351 -0.53393102935206482318 0.58450368705488808807 0.49412872708167882019 1.0219735247426251501 0.69760234082136152178 1.596310095725510525 0.37169658794103521693 0.55311056911162703731 -0.96356262187456498403;-2.8682450676364528164 1.9117113334598456742 4.2805979729684189294 0.55643123155363549692 0.47346400369878421932 -3.8892052317932348515 1.1923229657188634256 1.3229705956342729944 1.4666699851467945859 -1.0053211136263218162 1.0710506633131700038 -6.2677676366716310596 -2.9074887058299969667 1.7523862203236102442;-0.020607494896563452458 -0.38086438984250442497 -0.33496523703320996157 -0.42814440214394694495 0.1543741540586084926 0.18878917839012965274 -0.17619964851809002959 0.16135009685388188028 0.033961218751743613153 0.27658158478286493098 1.2620538684235762528 0.10029405050811299183 -0.46276892087717752533 -1.4318266895186166909;0.52077146393034712268 -1.4936454600424995398 3.9954129521925083601 1.5947571714033117463 -1.3772205773081935831 -0.64034947309343570598 2.6847454484910815431 0.070469578703622123839 0.23777208087226101019 0.39661031292040827001 -0.48817220690337992384 -1.0015260715748508513 0.17232474092970212487 -2.7859304386927012942;-0.46803078985278756541 0.93851768018029446683 1.8489650073118280016 1.0582023303840999429 -1.2444421327901507013 1.1558529066949603248 1.2551713085896731847 0.075146507624392108737 -0.0072799158622470858809 -0.9530867290932819591 -0.14303540004039053124 -0.94054890871860041823 -1.7145152214957202208 1.5365660316688716236];

% Layer 2
b2 = [0.77298268386215718273;0.33879166479433925341];
LW2_1 = [1.0320826372280256233 -1.0031067277230705237 -0.88008782074089086933 -0.70902838866809914098 -0.65961732784477411506 1.1153353188835388732 0.54371618385156539333 0.65060180260426891952 -1.4195084392295378439 1.0050770742133987579 0.71571550245138082502 -0.35766822777045859105 0.25743608988255961556 -0.61237225877986489753 0.63450115308384624768 -0.64114789155439577684 -0.78264426601112480064 1.2649933886480375644 -0.42501687949209443484 -1.5233305933768348517;0.17721144873896246819 -0.2215468296401159054 0.63798480172669791433 0.092058182469869992426 -0.0025603551248982833917 0.02744696549707680705 0.38652966915920744517 0.15181804959157202406 0.029474286398278880944 0.014202941642699206531 0.055770165602359617063 -0.054971164027461758006 -0.019909203398376849187 0.093175424936848660895 -0.020645508265750529137 0.52702037095644826969 0.10014478406396917776 -0.71653369997274996006 -0.37609435591360024231 -0.043043308457114667909];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;2];
y1_step1.xoffset = [-1;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
