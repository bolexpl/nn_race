/*
 * forward.c
 *
 * Code generation for function 'forward'
 *
 */

/* Include files */
#include <math.h>
#include "forward.h"

/* Function Definitions */
void forward(const double x1[6], double b_y1[2])
{
  int k;
  double xp1[6];
  static const double dv0[6] = { 5.400593, 0.291664, 10.930769, 1.069891,
    3.455914, 0.0 };

  static const double dv1[6] = { 0.00336360913996001, 0.00286739972620003,
    0.00339518666864473, 0.00283202094202456, 0.00335264408270406,
    0.00500677262377739 };

  double d0;
  double b[2];
  int i0;
  double b_b[10];
  static const double a[10] = { -1.596003249204303, 6.8795113566824888,
    0.25874345409016647, 1.1696431503555569, -0.89722118285617425,
    1.4297599747204051, -0.5985688528025449, 4.3822142907989985,
    0.2080902896413333, -5.7584452970407947 };

  static const double b_a[60] = { -0.33265375870485886, -2.9415652501917968,
    0.44561802586926891, 2.6023790657572023, 4.3808032311771266,
    1.2313664888057425, -0.00012707099531608645, -0.77580477079452792,
    0.63964265722828517, -2.2194319277328285, -2.0034121317940636,
    -2.5074887866304034, 4.8495057079400574, 5.0158468869909445,
    -5.4707598779191038, 0.74510338377170782, -0.12359885921837929,
    4.5634637366074351, 0.45862156889891059, 0.47720920639249526,
    0.37048824787633117, 0.011586123439336404, -0.044516689381496104,
    -4.58343323409942, -4.4847762729953633, 0.418835939533425,
    0.74934396597532293, 1.0926757453153964, 0.93531878370447064,
    -0.54742494749213355, -0.49880854157764282, 9.2541500218137287,
    -1.8996380433884896, -1.40568539694166, 1.8430725114361282,
    0.32805879504895497, 1.0002073882234186, -0.832539332735355,
    -0.18450294647578605, -5.0565986819798487, 0.73241659767999212,
    0.012723548165051543, -1.1419384242440094, 2.2926883689362394,
    -1.7772689943485096, 0.22251351734059127, -0.87202281423078687,
    -1.296974303448458, 0.77275091322713141, 0.28862686722730463,
    -0.14169494647931252, -1.2759276662447223, 0.736507563334074,
    -6.7135885377532993, 4.7140811370091846, -0.23513660367939943,
    1.7986513581302916, 1.1470185496282828, 0.48382928741498382,
    0.049648380080188084 };

  static const double c_a[20] = { -1.5517635800264462, 0.0507483022745056,
    -0.46761911602445427, 0.012093183273568835, -0.91832479569896985,
    0.0614063950610969, -0.12482024725668436, 0.042237087282765512,
    -0.30084389579932291, 0.10739310506962289, -1.6037810416346581,
    -0.11280687272713052, -0.50796475803792773, 0.22428464181377986,
    -0.66526384680221629, -0.21178388697266184, 1.1884496736944625,
    0.14400486877202842, -0.93913560548534314, 0.10653860130704808 };

  /* MYNEURALNETWORKFUNCTION neural network simulation function. */
  /*  */
  /*  Generated by Neural Network Toolbox function genFunction, 05-May-2021 22:27:41. */
  /*   */
  /*  [y1] = myNeuralNetworkFunction(x1) takes these arguments: */
  /*    x = 6xQ matrix, input #1 */
  /*  and returns: */
  /*    y = 2xQ matrix, output #1 */
  /*  where Q is the number of samples. */
  /*  ===== NEURAL NETWORK CONSTANTS ===== */
  /*  Input 1 */
  /*  Layer 1 */
  /*  Layer 2 */
  /*  Output 1 */
  /*  ===== SIMULATION ======== */
  /*  Dimensions */
  /*  samples */
  /*  Input 1 */
  /*  ===== MODULE FUNCTIONS ======== */
  /*  Map Minimum and Maximum Input Processing Function */
  for (k = 0; k < 6; k++) {
    xp1[k] = (x1[k] - dv0[k]) * dv1[k] + -1.0;
  }

  /*  Layer 1 */
  /*  Sigmoid Symmetric Transfer Function */
  for (k = 0; k < 10; k++) {
    d0 = 0.0;
    for (i0 = 0; i0 < 6; i0++) {
      d0 += b_a[k + 10 * i0] * xp1[i0];
    }

    b_b[k] = exp(-2.0 * (a[k] + d0));
  }

  /*  Layer 2 */
  b[0] = 0.0129672580549988;
  b[1] = 1.1303278251341755;
  for (i0 = 0; i0 < 10; i0++) {
    b_b[i0] = 2.0 / (1.0 + b_b[i0]) - 1.0;
  }

  /*  Output 1 */
  /*  Map Minimum and Maximum Output Reverse-Processing Function */
  for (k = 0; k < 2; k++) {
    d0 = 0.0;
    for (i0 = 0; i0 < 10; i0++) {
      d0 += c_a[k + (i0 << 1)] * b_b[i0];
    }

    d0 = ((b[k] + d0) - -1.0) / (0.588235294117647 + 0.41176470588235303 *
      (double)k);
    b[k] = d0;
    d0 += -1.7 + 0.7 * (double)k;
    b_y1[k] = d0;
  }
}

/* End of code generation (forward.c) */
