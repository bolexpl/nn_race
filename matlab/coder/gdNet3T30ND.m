function [y1] = gdNet3T30ND(x1)
%GDNET3T30ND neural network simulation function.
%
% Auto-generated by MATLAB, 16-Aug-2021 18:26:13.
% 
% [y1] = gdNet3T30ND(x1) takes these arguments:
%   x = 14xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0.014469;0.014929;0.016612;0.019995;0.027617;0.033082;0.040462;0.032248;0.027544;0.019775;0.016141;0.014448;0.014469;0.001797];
x1_step1.gain = [2.02936285109246;2.03031050553716;2.03378524041375;2.04080591425554;2.05680272073864;2.06842772603261;2.08433642023557;2.06664517355686;2.05664832136364;2.04034787931342;2.03281161223305;2.02931960972125;2.02936285109246;2.00451617494214];
x1_step1.ymin = -1;

% Layer 1
b1 = [-15.099852492465450027;-13.90985760109598246;4.0547996552147642646;-0.98663173696056138962;-4.9836675677394097761;-2.3415986303910334421;-14.52592679655786867;4.4314592190317414477;42.120022292082907711;4.0640391318527351316;-7.0340685995564271593;1.7857074290599093125;-1.535038442447716811;1.2155015443708110379;-0.15473350178566369628;-21.319743087379976032;-1.253938134093666612;-1.1595823581482445075;-0.70562919517786226731;-1.9259335007557254471;-11.500762016582072533;0.69088402883496058404;-7.4232617765065409543;-0.12079010242486322435;60.281049046527670043;-3.9743919255240660604;-9.0167350446438838674;-11.446416406988765502;-5.3975685165630560292;-5.9358175053150743494];
IW1_1 = [12.558091511605825374 -30.762323704171873118 -7.1726070142047468892 1.4948168158019676799 0.54174088264886732791 -0.082066718356585438565 -0.14777423791119298491 -0.15721261937894376315 -1.3373335878970091795 0.88436313755079154486 0.33721648167389067785 -7.2093258511108082587 13.046748334341495834 -0.14653115706134867136;-2.0629975547240397837 -1.0413014737934860321 2.3017821548928028008 -10.563658243532403347 3.7466353056446215497 -6.5113532165743599478 -1.642912463956617275 -11.394687553264915891 1.2388210948112914345 -13.406663075819896136 2.2995628204757201374 -8.9350830852540372717 -1.7526897919195549846 8.9265557751084152471;0.091731862475927697376 3.9039675311027766114 -0.95072084049164995445 -1.0629531532587730425 -0.32908961895421107169 -0.29414921253722792205 0.72887060620029442415 0.62541540851427090963 -0.17643015539069736852 0.65153324550390767644 -0.042713289811057202072 0.76448228794065808955 0.1237479770116020894 0.10288186011304598089;-1.1770688066361583157 1.7248143063432148647 -0.36009993145667795744 -0.05894054406647380312 -0.60612815006128895057 6.9172048847385685377 -0.72700571223794008269 -8.3842280462863172374 1.3176369068084476943 1.8495289116845690103 -0.57132594846259054933 0.73261477803711960721 -1.9244572790300924492 0.14500838891762538041;-0.80555977556780167248 -3.1304374223094777463 -1.1706552232862426077 4.8674566876007760996 -2.0375812352977291653 -0.2033500818111755315 -5.9349544361982866647 -0.66879114184956844902 0.66675671302322525591 -0.27488597545774617892 1.1008319068675049834 0.012042585805843036145 -1.4435891545058792129 -0.054012776646640760225;-1.0644371723347798575 -0.97169362104706202832 0.8232371036449753765 1.2374822028813834418 1.4236978712028869332 0.66228628700551073205 -0.97285947891990165459 -2.5686524964925054881 1.6149106630500109638 -0.10475805102542458391 1.0836749240321221777 -1.4157282158331565558 0.1045336353359243714 0.0078236814443346028303;-0.22975639114477816594 -2.9805232291235519426 -0.90120377946711827111 -0.17806612577426772503 0.15509387879862179815 -3.2806312050997910035 -3.1730586167661982699 -4.265235472195516131 1.8178172440735460569 0.10507553818556093772 1.1352799307370551318 -5.9192198287840547266 -1.074199212365315903 -0.29962864179340381598;1.4719622318243912318 -0.056646288190495525106 0.066448052739069035644 -0.80491722517360242417 0.4574230644255227185 0.14747230149569012791 -0.010635462451559878072 0.02893547263779805076 0.33678593557784036738 -0.4676300271224790861 -0.02390268187086700552 1.5439326702950952885 2.1675847249626842839 0.053990319278109509538;11.915115289801315512 0.37826191278534410101 0.99977821394288435286 3.5827573635543599195 -32.567503842541505321 29.018962161275990042 -2.4048162448773378053 6.3925237973355724108 -14.032986382268598291 -21.499281932854735544 40.409116128245123889 16.953472460847443415 12.150439907074018109 -0.4222999519402573787;-0.47565755215440663761 3.8373423991533628374 -0.99471659587812932823 -1.1218679685550665415 -0.38181550450716217338 -0.38047510269268403071 0.76880295093294714892 0.64934443488871806949 -0.2001949179620117758 0.68942538761947702586 -0.068186811444636633017 0.80699647947260721992 0.70649515389148831446 0.087943452893732065867;7.9992777657416942461 -19.304693734727848664 -3.9729475579439985644 0.99314328015017061535 0.25596716251711437717 0.1074520688354177328 0.26485043259952134598 0.0074851734472815689009 -0.46255056621485740598 0.18456598690250036743 0.25995491458791564199 -2.3513686438568699444 7.9981554133194974199 -0.056259081317587035509;-0.0046351615159873149966 3.0556424223921503369 2.0175172863429478021 -1.0752338475250933225 -0.39261721348328898484 0.33454804943634730563 -0.27446044596792384951 -0.27242835233321976984 1.7212795677015233498 -0.49121862208560268526 -0.63015872170891062964 -0.35722746586424974913 0.17735539613586126517 0.55647563233646069047;-3.3221121798477226683 1.046047622228445162 -3.3008639132722819021 -2.6284525090629600186 6.4125593039148141017 5.5698167064012205074 -3.5022505215580719273 -9.3300072424482696221 0.018843184655210128142 -0.76845009508572803547 4.6052442602450573972 0.81603299854313060546 -3.5041336445856554604 0.19573095613890334477;-0.27539189927677981684 0.049186077063478265969 0.12613513717366889311 0.51896073256580599331 0.29392618325132569002 0.34955223638691679255 -0.076114881510969220613 -0.18284963579690932667 0.10388385225704840908 -0.48184376757105190636 0.31256216323853330818 0.38208714110374530915 0.15162704490867398577 -1.7767679550649124742;0.38499972774494317651 1.1131581525151295065 -4.4442108175061285635 18.854673873313267052 -12.093359855842418682 -17.611079775917950485 0.24102871815274440337 17.856853764328040057 -2.9844811145954754927 -9.0909908049898078275 4.4898177952150684078 -5.1542530861272926046 0.67964102578982799052 -0.46280220481109274333;-8.6266063719809071841 -9.78282708237086851 13.578718599569048919 1.7208085565775401715 -1.6799455005687651266 2.7240442328232896685 -1.6255787995327888318 -12.411941505211270709 4.5078008610025452896 1.7335934737633968972 3.254647058550909744 -8.0499699913591999945 -9.1761158298404001954 0.023179107369028412872;0.21669954146769435099 -4.6556439571991754534 0.92968044222922974207 -0.054603439814866490398 1.962668416534997462 0.041318858905982643048 0.69199077973463340996 -0.57763441766362444429 3.4365221016456457548 0.95707266759688891522 -0.05738492136496733953 0.2989513630798162902 1.0251705278469023241 -0.058453183151996809808;0.079143444400564783026 0.24123943915690979067 -0.47466691210949940594 0.57212970442233823665 0.25176782495448196686 -0.026425018821552181958 -0.086458208174881853725 -0.15550232728812149463 0.043604278673852761572 -0.22431275835459604795 0.06396282175604453557 0.14679975156229796429 -0.12151505542632975998 2.2255147852026211375;-1.0215564056325234787 2.5156988406455287333 0.64698161701553902336 0.17758170732439454431 0.25120919725473300765 -0.10165902795290369942 0.71448297248549053062 0.10410603660578242324 -1.6795463020683532029 -0.999745591276830603 -0.23383550322722684855 0.88424571725696732294 -0.49044567192372506836 0.16072095226632654441;-0.36980222478448665502 -3.3391798506299998905 -2.1101926412532749922 1.1402143896303402748 0.46375890627486837658 -0.28859867206955858165 0.26350697960729041469 0.26592837702585270243 -1.7087191302145841032 0.50211922298715272461 0.66518047326950402454 0.37888374860663848187 0.20980489207490066184 -0.55414923601569521239;-5.03750127449299967 1.420589350728918232 -1.8496195556079602085 2.4423865046260857525 7.7203994655961274418 -5.9461072827626342274 4.274011963553917326 -2.1073344342592670309 -4.4731406493444056949 1.7691942909803164419 -9.2814033551715322545 -1.1304343747679237442 -4.7330419020779705974 0.053434384387954766971;1.0822341537114867904 -2.4944733794557856221 -0.71717550354093451137 -0.19556408286062970658 -0.29446850215239556148 0.079429183877616146847 -0.75977758222635149998 -0.13746663022523145092 1.7382741589493422296 1.0876788969058457379 0.28499665317598327219 -1.0028206481717081289 0.3331904865698422924 -0.1765604574592227749;-0.2659901385378024008 -6.8519227953477406245 9.6034926108251372767 -10.119386218342047101 2.4586184540442603819 -0.18504115835732834472 1.2120628914889928218 -0.42803076099640102736 5.1037451700447205027 -7.8924580291268764398 -32.648897074574477983 31.260448813524405409 -0.17249401070498979194 -0.026584537175824894673;-4.6227073107009362118 4.3397559996005918848 -7.4653179500475861374 9.4375427469099548716 8.040394309208830137 -8.73471943168104481 6.7424936978366512008 -4.3758559845971580771 -4.4134385784151088927 5.6337990553307886188 -3.7692941964254891296 -0.66779459685574893424 -4.560178757780616543 -0.36352008018698034331;4.7148907019243679883 5.34473481836547748 1.5570286314286532203 2.6847985150477726712 7.8694572258586781288 -1.0910317086221250626 7.0465383122627684997 8.3213425359522581459 -3.4996297633478223865 10.048154669409331774 -1.0233940448676039914 38.700953478019052056 3.7216745368846013697 10.097503296870833367;-4.0467367662384923221 3.3937798403059722396 -2.317255840449990334 2.5634192776866453478 6.7237589176696612725 -6.1348157436669987774 4.8969846173668098999 -2.90516498832518133 -3.6059259571835555747 -1.2803763295535217637 -0.60507163681302045255 0.074720170043737335619 -4.748691666117618837 -0.28416044910854482142;-4.6517531094702402328 0.26709141679433556771 2.1107190155238453322 2.1626570240947793344 -0.58413042673438764218 -0.92573077964103656079 0.73099106292971305354 0.39821831199275414814 0.40262188521361752525 0.15399068685672995249 0.26247231350026689611 -6.9013054574647991757 -4.2435323318221866984 -0.021092482806561445308;-0.78085820750599321816 -0.32596970758056775797 1.9642412304104654996 -1.0191086593066343013 -9.4365904167616925236 -0.54635967602305335333 0.61750846052165797584 -0.85557768752310359162 1.6030483172864147257 -0.17477813510806550212 0.11056878922897805939 -2.5531242948365888701 -0.085254861103332413297 1.4096145026827016089;-2.7951389652011062736 0.13135219498300573782 -2.159169678910343837 2.6763905316945821866 -1.3056722383723997627 -0.40387994739646637665 -0.60441804776024476986 -0.62524600401847196807 1.2208426111157495431 0.23534767752868560042 -0.32067074669197448422 -0.85953141519664910675 -2.9583389008899376726 -0.041508207505519645331;-2.7477325888271639798 0.12789653884876042711 0.022160950896689721179 1.1116697432317654837 -0.69888347278559903586 -0.090344032188951983731 -0.33807470909636377909 0.040838508918734604813 -0.62330569794700785291 0.90346779952140743308 -0.080076227672808808489 -2.0024882968286719098 -2.0763202980844011059 -0.092410867673297050762];

% Layer 2
b2 = [0.21647986659268811382;1.0529181434333914069];
LW2_1 = [0.56459002896671905969 0.078831821233686857897 12.877813735274424189 0.34918886910153468239 0.24567942582937768448 -0.60227495314230727885 0.43486122830774065484 -4.9191258301672329267 -0.11162831018696033059 -12.604589543660130957 -1.0709223017727602656 -6.7709268794797283775 -0.1639679429165807889 0.084460431569826410758 0.13177278775376427555 -0.17370736157272423372 0.37352225772169750373 0.11639914968554099239 -10.7965184072692022 -6.5130579359904920977 -0.21586760544969993414 -10.101862478589131555 0.1284502613971052476 -0.20654627190581051344 0.042319572726320746348 0.41868190198361066034 -0.38157871497939094274 -0.27058302919596471936 -0.33992631880695034496 -3.087841627003789835;0.015040855086759343309 0.098391129023046197677 1.8395162876552952902 0.038616250725483809714 0.001576345914080658217 -0.054038488624139000005 0.0022939390696283274568 -0.13645940036315623578 0.0014893562908635190906 -1.9324917962228453927 -0.018894441465479076825 -0.58173606961617729816 -0.010230394493516748594 -0.55152730396735438756 0.0068948911008354556509 -0.0028783072065955098845 0.032683930867067945147 0.39561763646207276368 -1.1493058812144238967 -0.5383179712992824939 -0.0017382282305701032398 -1.142362760166342861 0.020023493331285946439 -0.020744583996194297659 -0.69070382047285383553 0.0080765990172991259516 0.0015245819381001664544 0.0095361091449834116396 -0.019612932672439787468 -0.041052591942764248001];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;2];
y1_step1.xoffset = [-1;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
