function [y1] = gdNet3(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 15-Jul-2021 22:51:16.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx14 matrix, input #1
% and returns:
%   y = Qx2 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0.014018;0.016235;0.019675;0.027656;0.035214;0.041072;0.047315;0.038958;0.034175;0.027592;0.019829;0.01641;0.014018;0.011819];
x1_step1.gain = [2.0284345961691;2.03300584997433;2.04013974957285;2.05688521757732;2.07299857170398;2.08566232292727;2.09932978896487;2.08107450038604;2.07076851396475;2.05674984163026;2.04046028703155;2.03336756168729;2.0284345961691;2.02816101570304];
x1_step1.ymin = -1;

% Layer 1
b1 = [-1.5259663188045868853;-4.2853839028496407693;-0.16612087372676317965;-3.6106692953210806074;1.6783244350699482172;1.6751414356211593581;1.5477142646577888296;-1.5906022847346783511;-4.420244072277251135;-0.99811323437352372778;8.2283427287051367216;0.22486804172028587723;-0.39062270671305537872;1.0010136071040918182;0.98624953173135054829;2.3449106700056776553;0.88735161484940328069;0.07600852598288994344;2.3092188006195604189;-4.2032926629345670477;2.4382857588440938201;-5.1945259763100901651;2.1645950440683621174;6.6709488528172160571;1.9507221665133369637;1.8562997636038531812;0.23168551245865201538;-1.8946363230311500381;4.575731928414882077;-2.7720787690932908731];
IW1_1 = [0.093079481548357004272 1.7771845299266049167 -0.45071133961967296822 -0.61091543770855449846 0.58868364886009538761 -1.0146527279914132613 -1.139320297221291689 -1.9048781749811054542 0.49081925422003436221 -0.27871162193048032441 -0.31281994734958773474 -0.21273383159961167799 -1.0172625162833532908 1.1942904613569380601;0.51345355494087963066 -4.6313188649675103292 -0.18439379175066689109 -0.41960025553147900501 1.4146055814324047795 -1.8000953874926679532 -0.0048517246434645611153 0.8389700551084561253 -0.0039530445248294084071 1.1313510627167777667 -1.6745282176439608701 1.0292173175406027497 -0.0053488962702471515992 0.4011433111622623171;-0.23594787427666727431 -1.3587137510911411198 -1.7368987011242535967 -0.58090494935083569761 -0.49465391280050902134 1.040707347324468568 -0.54740367914508447633 -0.20269333684641543947 -1.1638690846259458489 -0.50783243286688817264 -1.0962308103580364893 -1.8319704907125518023 0.88703573866354989974 0.55370958571119466285;1.2942868942656231557 -1.1450648174147683989 0.46352721414837955161 -0.18110101447913248829 0.36792561250945421403 -0.55249299377588134696 0.20905706661094294874 -4.0430330330229065083 -0.35375102283403914161 -0.6397225719398458299 -0.5258815121324299513 0.3493230215496335167 0.96388727389598183315 0.77780598782751364517;-0.064767742056404925544 -5.2786596338486289071 5.5730470615866627426 1.3110296191694268408 -1.6429683144005000628 2.208302476696895944 0.42365716797315772224 7.7634052197980931709 -0.30299663119024444757 0.44673311990252945192 1.4348991787992160241 1.2937664508702118038 -0.77855714449167978675 -0.35697365080994558628;-1.2913298067789578116 0.70883506815231578368 -0.022782740396884416934 -1.7552881248896219368 3.8415708715437886234 0.72401226772843219059 2.617544921000595437 0.56815304575861513836 -0.29321498918029426095 1.3701712299812047746 -1.7118634298301034224 -0.48747797242089985215 -0.92227644417446141833 0.97384529781706530294;-1.1388022241365693965 1.9872410265852158417 1.0211599050315125492 0.49208805241533959407 -1.6170502718018460175 -1.322748686147960262 2.9619215871806927609 -1.5862222523880702418 -0.67668525179631322519 -0.65969179460925031488 2.5534891847400080778 -1.0078698431202923746 -0.73932510687847619035 -0.84425555478487324113;0.87315350785663881084 -3.930177750258790681 -1.2562417406703449974 -0.87188251903211699823 0.59504054900300396014 0.61702116759854286343 0.034906979304759805371 0.42260978943052579515 -0.017953964566665432667 -0.36812292229490201079 -0.027231734366488485888 0.95848944088548726494 1.6676113198993769426 0.0022958723058596267053;0.20154713619707481653 1.8100180060107635693 1.4459825260029510741 -2.6836643925314893622 -2.6673690914432452992 -0.32516259845172867937 0.46879421292046796754 0.3354458734632582706 -1.1643791336548945381 -0.6848492635821242791 1.0127530905608435052 -1.1496758265291766588 -1.0106963115809088904 0.31225145578327434537;-0.15477155606878123528 -1.4509644640279319994 -0.60829441755793689506 0.13236406024956870464 1.1414942633438061037 -0.47021939262492040701 -1.2279868931117119413 0.042137866336082609175 0.071835186209674106728 -0.94648236547540121055 0.06868888402371586821 0.35259182611364991988 -0.31917729608538719654 -1.0813038002895034584;0.17308080537463829685 -1.4034418505234600438 2.0238998531761573929 2.5927147204919900325 -2.0915461304659017649 3.9890727195881030553 -5.317138920723323281 2.4297462187886655904 9.033750358439013084 -4.0826418250700324819 1.4611565989757815398 3.5680894558447935339 0.92268115334158795626 -1.2121473474996908859;0.8779714656677221063 -0.71354822987889499064 -0.17230707879918827352 -0.16873381636504564129 1.1827966744767217655 -0.69198410968332457749 0.74635016581991731055 0.23565595056927046702 -0.11127799892750610267 -0.078650245949382649457 0.075674026958448992186 0.73598789051687052432 -0.075758197961337966908 -0.1412029147561725817;0.33611431864489138555 3.8251792661014780705 1.1151883405276412642 -1.1049700975990170981 0.016525994323239347195 -0.41702353302998768081 -1.4993286623194457263 -0.90768143221345110039 -0.16793392785936642198 0.77904079598219366787 -0.71954956350956744693 0.4378890017163172832 -0.95836566499557418464 2.728972214548492925;1.0210820566637111018 0.19996482704999310465 0.21197072171631498039 -1.531287151640194022 -0.077016935747118264732 -1.1742541871636837936 -1.9693763114311899631 -1.4154783609197045813 0.0020999790616232031498 -0.44649809998793460464 1.2106714057535594709 0.49249681561252212081 0.8738550674213380054 0.18161073863770438308;-0.45018922660515886536 -0.85625983444453435123 2.6362753812624957206 1.5899432676393714381 -0.23198439331030373811 -4.682661970077496072 -0.63076437838559284987 0.85098058956679412113 -0.37629600967391957367 1.4265777961953762798 3.3191226511860514314 0.23662232888425718813 -0.95120466196146169491 0.95731704411495743834;-1.3062248515696599505 1.802276034472052979 -1.3114683606130983495 0.291684488887983151 -1.2051825604067496478 0.34046148267641979102 -1.0050699519489387779 5.6423021653662495112 -2.2067124685886119195 3.451063620165527368 -0.38856096585230737173 -1.0290867806929016037 -1.3458978250090978257 -0.091002062648053771987;0.1906783603904198543 -2.5118138201140789434 -0.26208113485442507962 0.5378560799038381024 1.9152839944722606091 0.15089795822269874703 -0.78867487563770177772 0.74877107467074965896 -0.11989137828340429293 2.4332431838070656127 0.15487637280329424883 0.56882577169980019782 0.58626786888581916557 -0.12342607791662033034;0.74507084207081730742 -2.4334754381598506789 0.028561173299741837717 0.73773589369641456859 -1.0044832882080383385 1.4305809221671050846 -0.24531773374897319906 -1.3232752279650805693 0.60029948535706567636 0.62305879050200041469 1.0083137336663678951 1.8662230144264790876 -0.3026283865221227054 -2.0438781156588476939;1.4497975065343631229 -0.20956083804226427469 1.360791567103631694 2.3528202927249184384 -0.55642916407270204271 -0.018377919017409601044 0.72877509039404697599 -1.3930719630811669862 0.45458660918108173554 0.18000450735856096673 -2.3248269086503157155 0.42095659348065767036 0.65430134495995639909 -0.30855172509202161146;-0.43479429214634951473 -0.44485905245523782447 1.6332516145255577822 -0.21553388828733821558 -0.15469367196913916263 -1.0971898824921124671 6.6345370084488948237 -0.36018341340755122282 -1.4453535433101096785 -0.48818802140448541715 -2.7830939319935912302 -1.3335721278858436722 -1.0018289564190232532 -3.0820536752398544067;-1.6831893128612251953 2.0741432516089584048 -1.0117067802284973599 5.6040474190395821452 -1.6884832791172657007 1.6417851879615514843 0.096317599267751879966 -2.0176544062276309255 0.34707636247021772524 -4.7653644356307562902 -0.49040041632578074138 1.1593375434637176458 -2.4668389082594521788 -0.66537252358982956757;-2.1890848709064356648 1.5009200649537493 2.8837780291111991815 0.13209600856215228393 0.24901271541542976951 -0.96237636670066506461 0.25614225422476250005 -2.2649056981894251095 1.8984987043064895929 -1.9563041195801953442 -3.7664199308686918677 -0.8222656600559623552 -1.7284471498632463238 0.80969471863173869686;0.6954526615801255307 1.0142558381426731717 -0.67016241348396166089 0.33329849374126474526 -0.84311967253577602133 -0.37235738644191285207 2.0051382959751622437 -2.5747977276435296545 1.8425938069307152833 0.8313516507399034694 0.43516124175638387639 3.039164745446649718 0.26816786223480088003 -2.1178267205919918403;1.8282615837805804571 -1.4478969002604917815 0.17837024334561094041 0.95395228052285829801 0.3147295044275456033 0.81406990508546250851 -2.874188428009717633 -0.031739649573551680095 0.20267436681210410088 0.12173642252152941379 4.8438045871566908218 1.2376211759571473792 0.78818771762552630733 1.5289186931724527696;-0.19259554822058674861 2.9521254955060429737 0.069745150745751577359 -0.72152911156328458642 0.87902820810820458952 0.10582447618173686232 -0.23972127000989515433 -0.33786657671724840135 -0.029289669297551189364 -0.20690176755918809892 -0.49239292820585028876 -1.0180131665790126405 0.032264880598817137491 0.29943637361753971948;0.32051625831442864811 -0.243223611407948348 -0.30068318027346863097 1.1452193829819499182 -0.25020901976762832675 0.0078997736268692775319 1.3729131468460751275 -0.88708856583083672831 -0.095690066845516619232 0.12144175335445650532 -0.41015507300183001727 -0.23612790101636116358 0.64785200865284897631 -0.42644788939875682976;0.092484702925366049642 1.2471570156689424369 0.71662665038112527416 -0.27272460882943933003 1.252795465384097584 -2.3735355868623049247 2.5704653799777750223 -2.6366651905937921185 -1.4842125380603119478 1.8521909248236860801 -0.50357371717829724211 -0.90955542139789580247 0.069771963653506754999 -1.2884302129463098829;-0.72756031971478274389 0.77981435845507829363 -0.88421987909674559791 -1.4051569044022598209 -0.11962340135173035738 0.89800457421012958026 1.1808007150863690793 -2.3867548206663373733 0.004401820633239385272 0.59693530528989358075 -1.3930012842855863386 0.26249107157658185807 -0.82082317900991308424 -0.5462686497883941783;2.7111206263707687825 -0.039446420923859540353 -0.014531781409523082671 -2.2441375088776158719 -0.06274604933284748387 1.8161685713575681511 -1.9675522372653992953 0.92517377784944188068 -0.44537666960758570678 -0.60027622987756246165 0.91634553616427738554 0.96239971962894554913 2.5792684562698275919 -0.35241449108217159925;-1.6686120145243021895 -0.01463982309825457781 -1.0902862495026814926 -0.12589048635609995097 1.261654066556932241 -1.0642936089352670326 -0.13429362814806261595 0.26051030571527300506 0.076121731737684078523 -0.12853192784423123074 0.02353205158348973397 0.053853696000315781633 -1.8134990977401492795 0.013667906001639144181];

% Layer 2
b2 = [0.52668460204141387404;0.57444600248839472467];
LW2_1 = [1.0478407890154790572 -1.105713638660451803 1.5715770090162690664 1.3251738940106057019 0.29339324248733916756 0.61433889432559385391 -0.65824129468089465078 -1.329114582881748774 -0.51085814451881583764 0.60898604081761198437 0.19677329624053802037 2.4097351170225049799 -0.35353855257034993986 -0.48697253383106509084 0.26756962454917460059 1.2164503739739429555 -0.8282461961337457268 0.60768733993433654561 -0.68014550837368703551 -0.50500359823291418593 -0.42966523258095445925 -0.70490110313963760813 -0.74501496078671480827 -0.71621226650445912743 -1.0655567500668681191 -1.6614711738999192736 0.079898973027257069734 0.79985651818969949467 -0.70489213050764432111 -1.5751840930288263376;0.6936138869420053199 0.099736843795053181649 -0.05931202289449857834 0.38903293917981757177 0.080573061111621296915 0.18185103984691480816 0.22396046053297108402 0.69005271711062909912 -0.26868136831802408304 -0.53638352521504095716 -0.27154407341909481133 0.0095496005225743987865 -0.16717976499538050872 -0.41957491836130017537 0.27981322221968690789 0.06786377855574501905 0.15714930456380246659 0.96857034934070063148 0.18210405505888993538 -0.23808519889254659008 0.035838546025373015091 0.13632115891721038881 -0.46045660925028897292 -0.17395715465102645769 1.0002204914460639529 -0.566946674320864763 -0.47211226475189704832 -0.18053139498387321682 -0.14279439060158793939 -0.11585041777823928966];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;2];
y1_step1.xoffset = [-1;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
