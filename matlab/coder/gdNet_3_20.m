function [y1] = gdNet_3_20(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 09-Jul-2021 01:54:49.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx12 matrix, input #1
% and returns:
%   y = Qx2 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.012137;-0.011588;-0.009767;-0.006048;0.001655;0.006589;0.015282;0.006926;0.00169;-0.006698;-0.010773;-0.012656];
x1_step1.gain = [1.97601708069165;1.97708948702436;1.98065494317006;1.98797671681669;2.0033154871312;2.01326540575854;2.03103832772428;2.01394860805942;2.00338572186996;1.98669312941915;1.97868364113406;1.97500434500956];
x1_step1.ymin = -1;

% Layer 1
b1 = [5.7043007308489412921;1.8906199904196148154;-5.8824231132634681174;-2.3558741671426415287;3.1551387095742011724;3.1182627118230747953;-1.7049623698102041036;-7.6319379870799233245;-4.8912879554931958381;-0.53411906495078720347;-0.89784520793848510145;2.0787247939092652338;5.4158609242104400749;2.000061899085331607;4.6546483197887145167;-5.8413298289111974526;-2.2767165075365478621;-1.9355182992616939419;2.3745395639170130409;-8.008914216344500403];
IW1_1 = [-1.0774645681359542593 1.9995269175950480811 2.5215412358483266786 1.1122566894066587828 0.078215601562357184307 -0.4929398894526553776 1.5695052062901582168 -0.11504286842293057203 0.18610993852406446103 0.63660377711105198273 -0.69420747072522392962 0.44392072997658743594;-0.55622199469374389302 -1.3527674591801230886 3.6308636761101231727 -0.10848904069394060823 -0.82196186317971053903 0.77107767580685615538 0.9366424678104794399 -0.41071430310198364655 0.42663575345459042731 -1.4795855290594888132 0.25509946283250134469 -0.46801012556893129002;5.7503951967396149669 -5.9082518152072429629 -3.2550006663334096757 -0.076209898078700738511 0.31281541223970221743 -0.077797582260483874594 -0.74715993087277521312 -1.2739291507158327921 -0.71510158992090022689 -0.12239558216383789047 0.44406461867854951642 -0.31782410280325912311;1.9688001001562032144 -0.9528795056208029246 -1.7313945516465012453 -0.17886194318303746953 -0.34385272778275532968 0.6292337103293088596 -2.5551908651878796341 -0.43587713232998692714 0.29759809974598466775 1.2006879484771237898 0.22477600079519996501 0.37736976077995926238;-3.4803219967991481099 5.0554711036468535923 1.1668190895414662922 0.37495288360876294353 -0.46083375952964444888 -0.079303131965032136463 -0.020499541314857219754 -0.28937254767118486543 0.74201678291345063432 -0.42936482724410940381 0.18146070971403416294 0.40610624994871141746;-0.080601471435166910373 0.52638510016708950356 1.5247980227766397832 0.24296833180595134305 0.0016731034802324098315 -0.083059243877426122693 0.26423739808231772042 -0.22557718650599820065 0.24646285966503919673 -0.087150065379221181017 0.11015846230536367745 0.50047070119293191048;-0.56818452770098681892 0.1261526084507141876 -0.43099228876519707354 2.9965297112033759674 -1.3423891275707020565 0.97954935467593340359 -1.6142367523197964641 2.9661129021951238016 -0.85943934959177237243 1.2617307003726137005 -4.3069482126904716779 -0.084053846334592605127;4.3787278592520495479 -3.775329738431555171 -5.0302408802876863447 -0.53460124074965820196 -0.87457849571316914616 -0.34458172951304488763 -1.271009378865998185 -0.0083646648120017999539 0.058588299669621604626 -1.2105648007269123045 -0.29426562762035352039 -2.0889462980752564469;-0.16291026506660796769 0.028875957686268164532 1.1082471858330038561 -2.9949028055001507553 -0.4397530316713293419 -0.39894962071385270397 2.9197087624659006089 -1.6898629747471802798 -0.84361982841614935325 -0.96473823115134971218 -3.001005833451365401 1.1115178493306276941;1.853682087492930286 1.775826236598874619 -6.5285809956361582351 1.1508479418809509642 -0.32195896501058168804 2.5322135475025073781 0.62177763416725384538 1.4524376304818156225 1.2603211724055582987 1.7572935229489270448 0.10138686220694634321 -1.7809174158246523501;0.47453680878481130367 0.45698662119181665542 1.7230936212557306231 -0.18615166384194320459 0.12268649283303073583 -0.50793982979718210746 1.132881100553724707 0.18281472882749635889 -0.91799532195414190738 -0.31236398549251875867 -3.2555826009705990387 -1.0059016023604221424;0.14038677916944158897 -0.26675922075266622624 0.42268283046248905643 0.046809374669125235202 -1.3535490801967235974 -0.034079335511980765605 -1.1746126834897478997 -0.67365822871108638203 0.36041571340464367834 -1.7372731367292939542 0.37593374149926939154 1.9980703957853414021;-0.83566251601880547906 -0.55647274354064046875 3.6446597685900874453 2.1196658020774572506 1.6158998095571135423 -0.069229117800881673217 6.0135136511120865777 0.077906650568473248542 -0.34893793096022235334 0.58988298118530124725 1.3731748528512730534 0.57873475961040155013;0.82113684880628057261 -0.48379195433082694544 -0.80131905102220757353 -4.5828436594075263599 1.110867101372237542 0.3094424511322629856 -0.57443258442830036348 -0.17827751487789750273 2.752742436608729637 0.64867733778847802562 -0.41757499090895927596 3.2955070330981759419;1.160570872882476845 1.0598576829541497268 0.83637883111983657436 -4.197890203692591804 0.66778642296297441305 0.083778625189809968754 6.953303399608005364 3.5829280031491257397 -0.94951917126799112445 -4.0839741750308862223 -0.85276127778610211205 -0.40139470522880055237;1.6117495997432034205 -7.550971798299701554 -7.4081816971284970563 -0.17528231121993584352 -1.649466835789554775 0.43108668719540543801 -0.79082147510527622813 1.0840331702659971036 -0.6109542883776909461 0.04372552122076144715 6.694544313473546282 2.4847015294786269912;-0.58956040762416417333 0.23484192335700010412 0.62482063449158975477 0.16139063478817866626 0.49860040518314002744 -0.83588761028321012514 1.2366969581556375157 0.58882410810075813679 0.46120812733842342368 0.94457817961588519395 -0.70913819544028877662 -2.1420389735879283855;0.28845200721886138373 -0.037069400653764898734 0.53136883824367286966 0.59331820733113749267 0.32364333432650166378 -1.3938224842627877642 1.5307907960863982311 0.6007656590364102156 0.65893186316854612805 0.82767475598863538 -0.89408418714652238002 -1.9988717159685278624;2.5547394441966737588 -0.90944807040733188774 -1.9458746033332188219 4.0248947843318632067 -6.5998770859355015972 6.8292215208035544904 2.0164170663459941579 -1.7434051465640658662 5.7752471470481294702 -4.9451347712311948257 -0.34274701794541539979 0.81312918519860699629;-1.4146630117225142964 0.13974729078209324751 0.28873682902314701249 0.044411233421310168656 -0.91450436626298536869 -0.77303280506247629145 0.76245028223636479581 -7.8993891902907904523 0.42420168910144540053 1.2083507674164879475 -0.73815670460418592036 0.44156479784892449514];

% Layer 2
b2 = [-0.57884774045774367579;5.9478580381270562683];
LW2_1 = [-0.033402043508290520102 -0.11844230607800018684 0.075891251258476705166 -0.11669823193763458058 -0.069479681369283841086 0.69353435089954873494 -0.035505711968871776774 -0.10635829490826977095 -0.10968240202966871022 0.088741392937153940057 0.10308150531132631578 0.19259639937030165191 0.017324259654788082968 0.021339374928330972353 -0.018868429000089635694 0.089614362877391218198 0.51760098435947676787 -0.43138289259661927177 0.01341223112964499628 -0.7373050336505340141;2.319333100843654627 1.4218506789572009641 2.5347883727392126474 1.8224790360817666457 2.7847484798611086276 -8.9904149877537307134 0.42550639621578223437 -0.88169661722265857406 0.48831978814490462071 -0.42741385310417140397 -0.71347373494776711311 -1.9199762257626691309 0.22860222657849599281 0.43124131762319861672 0.37035765218218202888 -0.25028380690428331246 -4.9402488807450222197 3.5658379721718462818 -0.17038574347267990139 -0.35928837977017008543];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2.00271367703238;1];
y1_step1.xoffset = [0;-1];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
