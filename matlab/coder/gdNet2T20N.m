function [y1] = gdNet2T20N(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 14-Aug-2021 20:14:50.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx14 matrix, input #1
% and returns:
%   y = Qx2 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0.015853;0.016293;0.018015;0.0213;0.027949;0.033129;0.040625;0.032347;0.02791;0.020117;0.016488;0.014631;0.015853;0.001797];
x1_step1.gain = [2.03221673185002;2.03312571731217;2.03669098815155;2.04352712782262;2.05750521320383;2.06852827316157;2.08469055374593;2.0668566107892;2.05742266662552;2.04106000410253;2.03352882323754;2.02969648933547;2.03221673185002;2.00496228164708];
x1_step1.ymin = -1;

% Layer 1
b1 = [5.1808485620974442654;-25.666527743507678849;5.1038853760807407767;18.901605171224336033;-2.0342703662635268635;-24.029787239714657687;6.8616368385472759073;-2.5786166926409945788;5.6318814770513689894;0.55117607487748787598;2.4595630857385608614;-4.6436738638331105378;5.3762682124750451607;2.1692430103095645677;-7.4107175330288788118;1.176392305974050867;-2.7238278933282300542;3.0901588455185895477;-1.937438852868097694;3.3331591357624041905];
IW1_1 = [-3.4846333509333105027 -25.065669341311384244 24.143155864907868136 2.3072491401394441546 -0.41522835104610444912 1.6943835767547008597 0.86636792702580223136 1.568849576656448086 0.32869262690747091948 1.5857038056170225104 1.7213337314472725303 3.8875252709063423673 -3.2602233006906597979 0.40713367288677432265;9.2981414554958146113 -20.523227052227852596 -14.979453656006427309 -3.6967024657008651367 0.57659939073570509738 0.72199190377588229328 0.052798923047427184785 0.1221227321598448573 0.083642098934054248671 -2.201110917612657758 0.94556322524189595491 -10.819488900603262849 8.2138051213826877017 0.3509432713763525058;1.3330098249987214487 0.67841370304811965397 -0.57947852716618375446 1.7114301291743312383 -0.53838290206676842065 -0.64792108692719130314 2.2231555303475190044 0.40465692990344342972 -2.1540982025633574892 4.6573951834547955286 0.16322485549618767631 1.3523579625324664288 2.0371492995393722936 2.0977373214025094583;2.2012695375106345885 6.8472328363134149498 0.82411529697746577217 -6.1946594983262626144 9.3530405328467320913 -7.3848272969560069257 10.724593814854491924 -1.3111133836106405592 3.971190566484479767 -0.50799799077875185116 5.0352124239357269886 -1.1231116624924906144 2.8846770618031993827 1.7032114574545293983;-0.59252426231639332421 0.20363543280891444054 0.031729850541962235921 -0.17554816377780685377 0.2215550089981548898 0.09557072972024120705 0.62554091238199527325 0.17427872915512157559 0.1903024021468551763 -0.32847178730127307711 -0.096983992729056028859 -0.13214435075417163556 -0.81850268615625032531 0.20393546466992068522;6.0820862286773396121 -8.5952814869537235154 -6.1071793635868516503 -4.1778218196022747222 -3.0556158403998288087 1.5591916825332110541 -2.4166210290025906815 -11.710814057131029742 2.1648810447971067461 0.47392409622383924184 0.39287047818405795852 -14.812232407018568026 6.0046043965763189476 -0.9346333945177571767;1.7439471459090476468 4.9302047577234642262 -5.7665788728392506357 0.3773166831024166723 -0.0092334116545015054722 0.39773317784268141795 -1.6309296182878274539 -0.46100769259349250184 4.5168381645483401954 -2.0059159611215808816 0.27801397027829977127 2.5347661787519872867 2.5412602519878180196 -0.11134391552773811873;6.2472617749455361391 -12.066238569522212742 -3.4877603177005869206 -0.11369816056811379856 0.27713124005781086812 0.34807670923631911508 -0.028054487175742236216 0.06849987663725329301 0.84158365673070800739 -0.52353029463144218347 -0.50609038324884370041 -0.88926694656475313572 5.9717742067444339327 -0.46138397046276108382;1.4538612432462418855 0.9461759899420781883 -0.79152379692021446189 1.8756835122332597976 -0.71488611304369698018 -0.71064857895176647418 2.6077959475605605455 0.47260450808455317651 -2.5158612732714233928 5.5156298325571659902 5.4926126351818177485e-05 1.53298680756147232 2.3873943674604394261 2.5725788757880332369;-0.3854870428557247708 -0.20426912475081329679 0.53451458000666018933 0.54761192451750795307 -0.56811229182477540611 1.7651172066620306467 -0.69304723349964125756 -1.3169029135854148915 -0.99244668853200679326 -0.86554989754827593718 0.97272534346220751456 0.76379463005597469927 -0.48435889801367087992 0.11285060718258174695;2.9339118731054409928 -3.7699552669441245278 5.0409353884043195393 -0.52453822633472946269 -1.049570875863278463 -0.47966624371516186631 -0.54593277263784378839 -0.31542758210049354206 -1.175350447873193982 0.61137877162869047609 -0.63411088688449890327 -0.59365466779284703502 2.3582452208632660451 1.7657955446377004982;-1.1898077466411285386 -2.3974405455625387162 0.75308746197904286035 -0.89607973123749573574 0.70586722573580606976 3.3945442249860313666 0.041886178773118364072 -1.4662453160640334104 -7.3585890132334803582 -0.51779401000619229567 3.4055664335936555176 -0.51412640353599914356 -1.0102495332542098527 0.69380828443665665262;-0.21163878313293668643 -0.15460809308581338617 0.44189928426562813391 -4.4238012374501263224 1.6625480141299096015 -0.17805327535704357222 -0.8514149666094601443 -1.1954367550049522784 0.26903062082862433391 -1.2131856426718845565 7.7579254518867575285 0.11877037837114561014 1.1193481123225452745 -1.1570593568582838717;1.7730641067249726106 0.72132096171491788539 -1.9886482874197297654 -4.9631717851363736926 12.627738102887958505 -0.8814487999360712811 0.85430842031616949228 0.64182635033402890556 0.48554089151454377093 0.80443150825878506627 0.6103515234950395163 -6.5409044266364757547 2.0925229699053891075 -1.0536114647841434699;-1.7080493687520226231 -0.5906442023332957314 1.9477390097740010511 4.2778280818920366713 -1.7633039082416284149 -0.46229571481671444255 -0.40206121355267554485 0.34383644951184588745 -1.0701216013101753077 0.84833812215868087403 -6.9386814775552920764 -0.1846545429838979957 -2.5568437557174372721 1.3249090059695141086;0.40953432445474202694 -2.2937752942054543404 -4.255575704117326552 5.9645273095790871665 -1.9773554146081593341 2.1478923815202319858 -2.8113843882228586324 0.36099010546984616754 2.5209800421151520311 -1.0086908933089886453 1.3866541838364818684 -0.66461668844921784061 0.70448981257311571458 -0.34914878070444499425;-2.7536748211928117058 3.7694816414857892362 -5.0655749244035028767 0.51669268950800584239 1.0470038882815499992 0.47684409519850950998 0.53503832790736360892 0.31360166900365443743 1.1707001642875682901 -0.60764887084074048484 0.62939654854473836565 0.58904488499403651058 -2.5425597912973536552 -1.5309316349627963838;1.5876754585009873466 -3.5440150370513712197 4.1602618580309425056 -0.82001940975999298988 -3.5264523721310099269 -0.16514515245424860046 -1.9448146989320624911 10.597014468533496157 -4.8217270586651475028 0.6368672961090220408 -1.0936504217918923132 -1.3061547323804154619 0.5337664330085353237 0.89788236179039948581;-2.1926919960485924399 5.1534868972950960142 2.9161819592862041617 -3.4793721270825956893 0.1146602591814956662 -0.60969889152164236101 -0.044290153711443076834 -0.24354330190994813443 -0.10280742333902509467 -0.60471189875258601898 -1.1236243171675757146 -0.79943824663883567005 -1.0386530064653292094 -0.59704350285612572957;1.878863382417695238 -0.194583217352441884 -0.25788031953308543365 -0.10127465151064191096 -0.14096745323177276021 -0.18121614520618467559 -0.81978841931332824267 -0.18384607386893200842 -0.00093022525164883178295 0.34481681654602069909 0.15878540081068914791 0.47065921532278220951 0.7446377085586340927 -0.39414599486058948807];

% Layer 2
b2 = [-1.3657210628046319023;1.0793731457937203455];
LW2_1 = [0.32864105170298807401 -0.22662120440484614936 -2.9169936363875015317 0.35742350243345683003 -4.8641754410525246399 0.21989111947320180707 0.60425425334378657372 -0.5497687034232040526 2.480108049540356685 -0.61444652281489275936 0.39396656687200265479 0.32173706571956867117 -0.29728111761215475495 -0.19260865974120233712 -0.48971863496260242821 -0.35896140045490720905 0.76714557385831150249 0.23899047991277999614 -0.69698089632534265814 -4.0385669466260010196;0.0070364786770210517239 -0.02240232974779109848 -0.11538467080245704 -0.01914802532138261057 -0.01487794726994617206 0.035924049529360492505 0.0028757392029866899429 0.010156845660929215286 0.11141188447966364483 0.0031871650525323435427 7.4953593745434012874 0.0021655214755549145704 -0.011534458214158525152 0.00041445441258648578215 -0.00030988194032328161137 -0.00055572113301991822847 7.5385253543244683527 0.016848818935910399308 0.017391660471721328424 -0.045814974817821069175];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;2];
y1_step1.xoffset = [-1;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
