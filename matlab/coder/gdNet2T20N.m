function [y1] = gdNet2T20N(x1)
%GDNET2T20N neural network simulation function.
%
% Auto-generated by MATLAB, 16-Aug-2021 17:10:27.
% 
% [y1] = gdNet2T20N(x1) takes these arguments:
%   x = 14xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0.014469;0.014929;0.016612;0.019995;0.027617;0.033129;0.040462;0.032248;0.027814;0.019981;0.016227;0.014616;0.014469;0.001797];
x1_step1.gain = [2.02936285109246;2.03031050553716;2.03378524041375;2.04080591425554;2.05680272073864;2.06852827316157;2.08433642023557;2.06664517355686;2.05721950326378;2.04077676045056;2.03298931765763;2.02966559229701;2.02936285109246;2.00496228164708];
x1_step1.ymin = -1;

% Layer 1
b1 = [-89.19283054549934775;4.6663920028783714145;6.1277199749155188968;-4.2058199388955959108;-6.9614266012946499629;-0.67910847299143317635;2.7627801850635727021;-7.029075665723027555;11.909144496734912266;-9.9512005328176229568;-2.9113068266269226392;11.742999839053377187;-21.291400043476123471;11.663671258047452639;4.5941275626728392822;0.8527029091659038551;0.28361184852016768643;19.977642579300471937;-4.803272091358194551;-2.5795138720490418116];
IW1_1 = [-5.9764971485515818728 -11.212634964898340328 1.8237847072674699955 -5.1455651425049389047 -11.363274472989502328 1.3963118028587269137 -9.3696178917108259299 -13.006940832166753452 5.3976903087949512638 -12.940437065319313703 0.38577388630933356906 -57.290902578098382492 -6.6744143390827295192 -15.214802194779267097;-3.2647677416068132672 -10.369584808405800658 4.1577137422992249682 9.6422855020578204233 4.6387122276118235575 3.1770901638475637085 1.9003502570358887791 4.4649152877163729158 -11.000071819296337594 -0.86639197231528042309 18.410783229814413176 3.0335004445262510053 -3.2773912014909880597 -0.47612556032839836728;0.37666008395401262554 3.6737041000700774163 0.41420941401743083254 -4.7120948552979253776 1.1849749843656571802 -3.4858278377659077663 0.93067167847104237399 7.2509643094644635752 -3.3333506294436237027 -1.5185459441529765012 -1.5526729704598956072 1.8093419849419434264 0.21963382814103685203 0.075532731850936604689;-3.8297487823383722372 -0.47895123981586951167 35.565943349354448344 -28.898183851256337817 0.62405932480107029203 16.858699139840748416 3.7549417493901096066 -7.75325888201596225 8.1462589736251977968 -0.34201522657024818752 2.5970398744389266987 -11.121922968859701442 -4.2615308456039473484 2.7710143179010726655;-0.3231721751996270986 -0.034277952647447512691 1.5733129287894802584 -5.6248270020169339745 1.8558859607678472869 -0.7243299258872719637 1.512236783075465274 -2.6559326335712380995 0.44073763200325333234 0.4853223189186444686 -4.9705767076439899554 1.1380927751064600084 -0.71239115878854386565 0.29032142098077945436;4.3543107802289773289 -0.38517026377593743813 -0.91889282676375150238 -2.0970874596827426828 0.47864839536486702976 -0.88121779046828452309 1.0112587108686559301 -1.2072491772643356711 0.049307060474429370567 0.038336852867642462472 -0.81539778204430302111 -1.5284604901006220157 3.8969025507464318814 -0.068317163057113425295;-0.27852627158162629462 -0.094008772105255489215 0.12466490110887772091 -0.37795629241502987083 0.083381991493542195748 -1.1177666560281906971 0.91587509892189478133 -1.1612277978041742887 -0.28500756244209829449 0.031558818965028351267 -0.30215138568762861526 3.9865501278706245714 0.24603289156935170823 -0.18471537440860874568;9.1178570061173243033 -20.374922709221504391 -3.8381616140298353557 0.32295678901569968566 0.081291192121195954279 -0.067632539797130603043 0.22918443600440679964 -0.18200005171713007357 -1.2025299472737962514 0.56917887951613965747 -0.22801658475820837935 -2.4402443303078475978 8.5613852725349222084 -0.12010562568009601481;2.8616618298783405017 1.965439785400590722 -0.97372232772818645419 -1.018857408499869166 2.0787279358026711229 -2.5022162004782231293 0.26538724972443927808 -0.59215525060300089333 0.70140956133348408841 0.033278521060724257363 5.2884023022642754341 1.281523760193611805 3.1181426595016867864 -0.099937513015474738198;6.8522843436726184052 -12.888504743249553641 -0.63389135672484486772 -3.2753591751998345494 -1.0911779300605144449 -2.4354555140590981033 1.4378685419504793064 -4.4965775938264052058 0.99125873228302840978 0.57979264946428088479 0.40194735659953412243 -4.4427154320988737624 6.8841820251224978833 -0.16924129152961303602;-3.5332381928775324909 1.4216915974479751306 6.5515824649063159058 0.76871051606596707551 0.57532054202737392679 1.9053795241109268144 -1.2616190970518645909 2.3703220431805713808 1.298505099639442717 -0.25550548256318611484 0.13362731849508524551 -5.4979474170618267692 -4.4193419866903767002 0.46552960708587587391;4.292392934118356429 0.30061265252635765988 2.7244830927747214488 2.9206485908651242944 -1.578626765280475519 -9.0807774327592110097 -2.5398706298580759899 6.3369812726682432924 17.767671682871551297 0.10694743988885838104 -8.2945568629866635035 0.14205992861447458431 4.254337791230010879 -0.49994970113595760264;-10.010745362746558129 0.80516746063983613002 8.7888751111622838152 -1.3805018144962568627 -0.79711198545858785725 -0.36954561031708133001 0.65919185519164613662 -1.6117008653653612793 -6.9721720851920565565 -2.7305305824289618499 -2.7091590400793590376 -0.79675362301767582718 -10.762917593682564288 -0.23348425497956681873;5.4521128662040521107 -1.6117245983557737521 0.84564533455745416468 -1.665725719427390672 -4.6699433132183800765 -0.37424429484909849108 -0.49290040145760960488 3.20247229734555372 0.7250947791281320276 -0.93057153079851429034 9.7678242268856205754 0.13823189629728349637 5.5945711148947374625 -0.12882607068811960382;1.6184578210249505048 1.6199611558281963308 0.27400942407433248604 0.18572496606635166549 -0.31427606999087831507 -0.16664402684653875641 -0.81164799197566950273 0.74990630073550801349 -1.1607521843639458936 -0.33495328977722821362 0.089950854185660567008 0.43812689707838953224 0.96180602646205581863 -0.0002446330193617675744;-0.36881308476538410268 0.011664473787467375884 0.128786495590768435 -0.08099401978598887164 0.034969442481250709309 0.14466349462568212081 0.034369455238664838037 -0.098527857594750981041 -0.014581832606402982816 -0.018683585791116563701 0.078773766665394984177 0.071605321526031218138 0.351809075958187778 -1.5262570559387422797;0.66530392525009385274 -0.25472886288415780287 2.5680409263952097554 -1.6255055426038116373 -0.66238502669468513062 -2.2152697508756937772 0.10492333791428583301 -0.29425496053071459324 -0.065602825471247822042 0.061855889877986895697 -0.050786552808319479491 0.26433496807184581057 0.12468139394665186948 -0.11388363625301838045;7.9198287161388565281 3.5208652964625377635 2.1016523695341469136 5.03442480786802804 -19.99586953508299203 14.606237143375189191 -6.5898863063197365975 4.7041540965878274605 5.6708978035108330573 -0.32379362373080139426 3.1773483766903876102 2.312673543139147192 8.2787231853514207103 0.80696525810099606346;-2.4708207644091291222 -0.6100423620407438019 -0.13998276449683255684 -0.070380944224962521671 0.37800028436106569707 0.15312859395438138677 0.84374834851979574335 -0.72203545556358805779 1.1798909390881466841 0.36916550929241348511 -0.058131150292951121183 -0.44922582930973120607 -1.7014548059483889375 -0.011504078904655943086;0.10159604021529002049 0.090840951168590658438 -0.22110194181291523141 0.52196772456169915344 -0.10850024918609886548 1.1056710680877612774 -0.90969646068718124088 1.1785662264002501054 0.28526708014780599587 0.0018143774443338063409 0.23286272357904677643 -3.7485403491501094742 -0.12360090060430227454 0.18377796689726855206];

% Layer 2
b2 = [-0.841965857163574527;1.1074680354535140214];
LW2_1 = [-0.057892167374515364486 -0.10453305483492950079 0.36867774272560044357 0.090048345016693870368 0.41540084683986788772 -0.83324521244943083875 6.1116447796285280347 -0.64427639185797613841 -0.48492124283277088237 0.70789950552386848859 -0.42980329789141402674 -0.18723838780220117273 -0.43142034866388490055 0.22851800541351260931 8.7502934838660220151 0.053245060403329901033 0.45607114452218078249 -0.11916112337937850851 8.2216156339282626675 6.5308907388337527067;0.70258077590839029813 0.0081580015659764339164 0.0069609946935901096873 0.015004577712248046845 0.032839439696011316072 -0.0026014625195683025762 -0.23538984993594450068 -0.016073478878967911027 -0.068841127503698071322 0.023256303071485861372 -0.030783200897470466145 -0.014751939966451223241 -0.0087982447413422950472 -0.010238865936869203516 0.48162455685650573667 -1.0201046469815182594 0.014958749479681154523 0.0039473677460130840097 0.45893702009933062813 -0.21438201451861435554];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;2];
y1_step1.xoffset = [-1;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
