function [y1] = gdNet2T40NDv3(x1)
%GDNET2T40NDV3 neural network simulation function.
%
% Auto-generated by MATLAB, 18-Aug-2021 19:41:13.
% 
% [y1] = gdNet2T40NDv3(x1) takes these arguments:
%   x = 14xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0.014469;0.014929;0.016612;0.019995;0.027617;0.033129;0.040462;0.032248;0.027814;0.019981;0.016227;0.014616;0.014469;0.001797];
x1_step1.gain = [2.02936285109246;2.03031050553716;2.03378524041375;2.04080591425554;2.05680272073864;2.06852827316157;2.08433642023557;2.06664517355686;2.05721950326378;2.04077676045056;2.03298931765763;2.02966559229701;2.02936285109246;2.00496228164708];
x1_step1.ymin = -1;

% Layer 1
b1 = [-1.3472732806107263759;12.349634708906419789;-6.3744862391082008912;2.267280511763341444;1.8552630944957710923;-4.1596141502834562687;11.390123622687157834;6.6688615525911512094;-0.95640832100417028094;7.9324783469998410013;-3.7554276633669618768;-4.339893960821591179;7.2362636213190354439;-3.8443489536374353399;1.1961926448125128619;-1.1476830575575660554;-0.048737576663289150503;-1.0729404502075803318;0.63479423281820157587;-2.3740902012924309794;1.3933238517725923256;12.31413981723511597;0.38393808530942269419;5.6571187520726669007;-0.67941086514790760553;6.3457800430585091789;14.427158713815446234;-3.9756607162003279043;3.0388821251005464497;4.7709412359645373414;12.868222187957771396;2.1347668962587809105;-0.701828356976300749;-7.7982727007760601623;1.7020862662028029;0.64047403017131232517;-9.8078730698073126604;35.588758885530459963;-23.72977134111594566;2.4140534426281154978];
IW1_1 = [-0.073144954144905599547 0.2291696733284109555 -0.34362978450571945999 0.14690446942717344525 0.97679726782575593269 0.48490850723080369811 0.035367193517404776903 -0.22558349485135881229 -0.72467659037118370424 0.62445275963331381419 0.32714876760848210502 -0.062511052428003227588 -0.067756562498793068694 0.092285025461789446655;0.64025025872755014777 3.2724209882720969311 -0.70729368394478819848 -0.5150397139611399 0.11560966171929638879 3.3797784696968031781 -0.99470661389453174372 -0.17947657207830752801 -0.7036051003529625314 0.14680121785068628304 -0.36502270805208858473 9.3233595657932486489 0.2199496204187304238 2.1954486474931402817;-0.2224756396098201694 0.0579392605224078594 0.023191468245413616317 0.33943315570755872024 1.0009375532863296065 -0.041519470284220837131 0.81855989315449628752 -2.130308502471933263 1.1555029200940167833 -0.48006851430959401883 0.48694646485832387972 -6.4398650359889115791 -0.18484696187022375824 0.051427334562296471432;-0.78556001443925027594 -1.7110954000173215217 0.32728636455703430386 0.50821367138814177444 0.21721716698288467962 -0.46548235922627462235 -0.80883298865341457518 -0.77728880729759686208 -0.18409964237761916594 0.60630288082140204597 4.2374245726404407009 -2.0813301226013005696 -0.034620467731449861004 -0.17398998177300209478;-0.78791642881232737405 0.076305863354581546232 -1.085435835870607546 2.9062357310024906631 1.4845886646037773637 -0.93678079800011360145 -1.9502137384659046226 -0.96481379231245667505 2.8871405938182026496 -1.506627489815413723 -0.39794126585896921755 0.90478875883737985841 -1.0919915086539093707 0.076238372071230867122;-3.4796371984298923863 0.02703313541958665342 0.83500717565495352623 -19.176533667717958309 17.99558825194270284 0.39676891991562723838 0.37167547707913378696 -0.19789715847457067799 -4.462009402369320199 1.9192389698168026424 0.625816053719727039 3.4387688302225507542 -3.5464101523278919181 -0.056612188017018318098;4.1879801779862990685 0.78126722272876825137 -0.4078189261365293139 -0.54510097116944866702 -0.065939516721958121859 -0.9978621131925117238 -0.84238500653875769686 6.9610157066629092526 -2.2742983924154174247 -0.15200056673370343496 -0.11712109081525856613 1.5260872758097370205 4.8654122580214336224 0.18622319427684588811;-2.7840517757429004142 6.4787827289140631493 -1.8543321763101352495 6.3810536071089698495 2.0094164084092120959 4.8351357027108390341 -2.4195538373713394442 9.7943741009998142033 2.4770664348099007412 -2.1589214798539773099 1.3913017489903123369 -7.7504022405694517062 -2.1653550587498364699 0.247859169581073846;-1.0135141920999730658 1.0136114363061989874 -0.19628312747035156494 0.16744636378165056456 0.50718594179234466335 -0.69095003243944275173 0.031098001033145604433 -1.2745227365172966394 0.28040664738702147929 0.11166924223885017764 1.4597890913961930615 -1.7598221586478652867 -1.234355551806919582 0.060839030665448233515;3.4904757373318902047 -3.248673387881051422 1.6995592183495022987 0.32206142859838959858 -2.1801707488805326385 1.5656419351387684813 1.6655899496412709393 7.4553038970060265811 1.6121705836997983763 -1.3675596701046406345 1.1570965030714515098 -1.3069156118809210909 4.3921570589292056042 -0.12408031453823119283;0.20750262464748153723 0.22772879124843264931 -0.079709226700260024656 0.046626928233223188802 -1.1300098200379347091 0.11280241548961492115 0.34400391718205991509 -1.4915061507095552784 0.25147747428857919472 -4.4761300784152249221 -0.28469307961968209897 -0.44398995119219053507 0.24459576214699588204 -0.10983664228741334135;-2.5750472228517673479 -0.86314787109846624613 -0.47478898145131981368 0.67068340667585846226 -8.3951201795107479597 4.0576727980940292539 0.69058552872986289639 1.6753995823396354847 2.509756548440583046 -1.781009535849080283 0.10597727772643958377 -0.7403967058753733177 -2.0266316631617993238 -1.146852871245875205;1.5874624591889423542 1.5731573242699306014 2.6202787741291508894 2.236703179383162432 -1.6452309808174092609 2.3206031663109198959 -0.073703378272440847607 1.9781603710419368714 -0.16180214252910857242 0.76354959559568402749 1.1340824582113102625 0.027018448031796725439 1.0276564156223906288 -0.21562888125072027234;0.63374471778103280695 -0.12470377857208897465 0.12145694587960827182 -0.0010553316087564975322 -0.20529219886368554882 -0.25534344524977475865 0.52385547501794504921 -0.51640454510516209385 0.13247870815900075758 -1.4246594518042867694 -4.1476897191994126501 1.1688857073798761821 -0.44287706466020060336 0.16325429797137305798;-0.43529311218286731444 -0.4015628121046371235 -0.081498575127256736583 0.27550473629921168328 -0.51392336233278601565 -0.22832188336622810665 -0.13021004212559650348 0.80144804571034133911 -0.45328913954656990803 1.077590131435932852 -0.28949362764092034794 -0.24735516799288617684 0.1560297076084126433 -0.010614445213586192265;2.2975119724399806209 1.7105622181711279683 -2.5657712976175521824 -1.0481120509347570113 -0.48638095306026485343 -1.1525485303213887089 0.77276353813300502349 -0.87564972603381263649 -1.7474245266118182407 -1.2768699481144076824 4.8458088857468419874 0.3767399023958808435 0.76840539153455189592 0.25389044249448849966;-0.652736863465483097 -0.37126815788063366464 -0.4556899657034107487 0.09013968701398303307 -0.28998836870888589079 0.72492498361938773055 0.074681576378017325291 4.6310900765778226784 -2.298882392533964758 -2.5426731014462995439 -3.8304621428594907151 4.7934131674991435901 0.27720475668919652978 -0.1624071811423481726;-0.064610202019312820698 -2.1764346929113909113 1.4112960779706000825 3.3166994190508969353 2.1426891264850502772 -7.8438161512036650436 1.2157613146217340905 0.6778119892930066781 7.5838622072980461652 3.3193689919380293674 -5.3723100651826607432 1.3902892847123595743 -0.28784482996713162128 -0.30093666461481671792;0.14355178741286828137 -0.19337674731697765407 0.31848021931962716691 -0.73115442353663284702 -0.73883596497175585416 0.77909797296570859615 0.47683948196813752407 1.5334628771360068189 -0.7209779950100430046 -1.0242231517824307296 -1.660489368177341829 1.8335662284830460678 1.1265612709713177519 0.0084984377695710173334;-1.020779321154501984 0.14107697148800113496 -0.50745729905419878492 0.41189771192659263566 0.79030326003727613404 0.52959540693665951849 0.035312123232116209015 0.13262511302525670231 0.097299227806504698379 0.12383630652959300156 -0.13137821586716164068 -1.0541531132705588281 0.17857176248913469996 0.06194790119075965773;12.416751001268877985 -4.252082712964569744 -9.643340933849380292 1.6224672570661184956 -6.5558311021505568661 -2.5945632812920389476 -6.1119295938646081012 0.025952827094108493061 -0.5510983132403814988 -3.4192575232264821317 -3.2575376741271173664 3.0122375350903429769 11.346697159220271445 15.096350332487007861;-4.7444853995781413047 29.688240485830203141 -8.9600329136740857194 -1.1707925098612586012 -0.78728302435784269786 -1.4254130888801403998 0.21064957646732554442 1.7832298257755228033 -0.26509139818167837266 -0.076502753084046887233 4.6512995057110950725 0.45356179296319970584 -4.4446742821867504247 0.089556173198544725134;0.24976205987240451822 -0.052484058723126621182 -0.72742657098172935903 -0.24019445455571891701 -0.95319295358539657403 -2.0767386403437555487 -0.66125789520333067006 1.3513683340135089761 -0.017932861230247398865 0.42649760756512722359 -0.2404197514122606294 3.1174369159004542418 0.63089711784490343227 -0.021319302839480226697;6.5409940097672887305 -3.4013439935148515048 -6.8258287955981273853 0.69188703037554766251 0.43645204138119125803 0.31813621913010986519 -0.48878571394881548118 1.8235899419614223227 2.3988323755486127276 0.93041955477980053946 0.63557053335839674979 0.56394309560835476081 5.8363997102810714068 0.0033365326498372084758;-0.6296191430110117393 0.052860458339971216901 -0.03569102600388171509 0.016938539567266756858 -0.056619674318028681559 0.0074052510707920318062 -0.0010995463331463005505 0.047957321051727092032 -0.029914195391809537267 0.036621886237860411251 0.090436808933338275196 -0.006721743341325617585 0.62727868340590609009 1.2027093581534642475;1.2428814876067681983 1.0898589059845844584 9.1808603572460363296 -7.1227349208904229272 1.8149761423144128436 3.781446299167847247 1.389952953446041084 0.095388715008615676538 -0.11287006754627922078 -0.30559474089109112116 2.3685702945597952862 -1.2843454403732323943 0.87028113419416408547 0.23643192928623768534;0.5747211886197131081 2.6697859574985733921 -0.72594365283276574008 0.95410538941664979617 2.2338576241081482543 0.40997518935263876916 -1.6587488845971827267 6.9154870988089056638 -1.7311328711259712509 -0.72675235178170993766 -0.69144812448548309547 8.6480475192492889391 0.891878303793423588 0.33274131907034282252;-0.98669536985350214664 2.5068050837598478964 0.19107641430232444324 1.2016076252668848046 7.2100229221276030955 -0.42821430601777266123 -9.7475263715121158725 1.326376510833777056 2.0064073698792626033 2.5478503330654445058 -2.0946319750946864602 -2.1171925269391405067 -0.26499851522578793395 -0.042463113290980764036;0.82050348246280313536 -4.2171866079323034882 0.17900519413091581233 1.3751860972062923683 1.3975135568704533107 0.44089307162528351691 -0.065804359128504158472 0.34807353738893648254 0.60412591072707155782 0.66426711639150082256 -1.3740829015983400119 3.1847949932231500725 0.59013008132512012605 -0.032788548340905845913;3.2562453222535592268 -1.2235930783691024715 -3.6020803394447313828 -0.11552325155897692766 -0.27874753273558139366 -0.29599073883290377696 -0.70858041226453438721 1.2481841490796290461 1.4725865557440833697 -0.57053576592579413607 3.4733983618187194153 0.18924017198250164817 3.0422132078901871211 -0.040706924402210409308;0.30253101258196180012 3.2959127722773740032 -0.63532401847420461038 -0.62841469278662764886 0.12466573301008876395 3.6616048330618902185 -1.0488704135869741929 -0.29256647309075667351 -0.72666998373673186151 0.090099374354280684085 -0.40799359052864481168 10.029394072000144433 0.31021402393315267165 2.2403358710776424267;-0.79650330367906363449 -0.3384360776538141713 0.092710149127179244943 0.24439846201807505222 1.2186011657536197639 0.012690539200482821997 -0.2995986763563631694 1.4797421602687452769 0.07165624670702402943 2.2204892385763712603 0.7525920552869265201 0.84785183891586457516 -0.79893769020196103714 0.1925445525052903728;0.14787320341675780355 -0.81410937937413396792 1.1522889859436700188 -2.6325045622407388102 -2.8244283048377401002 0.99954537981039137673 0.93162086550262901419 0.60947344270275127798 0.018031735037519439069 1.0698243734126953175 -0.28447428873753727308 -0.094313588960408201167 0.37290748791206368429 -0.30571552812567537316;-3.6771124697277346449 -0.43509835918374195618 0.71678576470971566703 0.26715653328311239623 0.023491063525634015008 0.2646489794449874422 0.49768590368535614576 -0.7841638944506651443 0.42729556799977613801 -0.028083446817218669228 -0.085334882419318358604 -1.5780386775970058899 -3.4182466828430473349 -0.0029526796176137012212;0.62022938754311096599 -0.093022559752517192111 -1.9536134652982801718 -2.4261759090145846862 5.0194166998901836863 -2.7769882174664650698 2.2733888208359203098 1.7883690765281223811 -2.144113908011161751 -0.20203757272926012312 -1.0493347128245167355 1.7493968188290762722 -0.029438976281770251608 0.18942444157071369748;-0.083399240107476957373 -0.79886891269847448704 0.58604125097298709335 -0.32110210297662317158 1.062528220011741853 -0.63463490876735428881 -1.1455762462742267171 -0.30746916116037409372 1.2217367742231954875 -0.7883861015618890411 -0.44496341900597669028 0.48278257520950312864 0.29951847701453709893 0.067704954247221324493;6.7914655798016765331 -18.389091889299756133 -6.3342293707471561959 1.9516810548917571388 1.0284087452522721051 0.37544535471572909602 0.24145770066113922403 0.41901639653401090424 0.68408411479392461363 0.42338026799362177277 0.41145288176240907285 -6.389102900325631218 7.6928906054011712001 -0.068029203678600463912;0.022192246408927876478 -0.20415099950193055234 -0.050837348617468233747 -0.4209496219432510844 0.7145904563688206812 0.23233889830876955362 -0.22331518529859889499 0.84812596509891280405 -0.96427753399035320836 -0.57914228040849391466 -1.5385984137186421439 39.659470452846903754 -0.015016860245174198582 3.0682568150256646078;-0.5221467090105068598 -8.4712894955092963301 3.5105094028209231638 -4.1207659282143360713 1.2751876682490954629 -4.6027281891736731012 4.5781725818836251918 -4.506971426030690786 1.2519036901596651834 -0.098132976481572264937 0.75945201919863214446 -16.468875197516908315 0.51198554955513464471 -4.9025618472400234182;0.40018429545551797988 -0.076857951231956975202 -0.92613306841596454433 -3.4205576062718101582 7.6402153359922939657 -0.0096912423730739372801 -0.19074363652546610925 2.3651120189953029893 -1.8660478806314142464 -0.57496427603803967887 0.4126352471455421167 -0.52899409188776147506 0.17511392565088090834 0.46545702590581483626];

% Layer 2
b2 = [4.3770508299505177519;1.465627266294103892];
LW2_1 = [-4.7670633630385763624 1.0204281034903981418 -0.94646882270585697139 1.1073986480601627491 0.73902113786083467595 -0.15943822509922658814 0.71231246312799334497 0.162794884370640075 -1.2843984849421439254 -0.21197242186315801149 -1.2075159942437665439 -0.21153975375723874097 -0.30848587971478003134 1.187204763768421989 -4.506037710508889127 0.30784414646246405223 0.57094000041901449283 0.17429026662148186522 -1.722556090930437156 5.1379262649264827445 -0.0074517341637874955074 0.3470019751408063291 0.43359618338117733582 -0.65418464466044223826 0.00023454550467066578347 0.18543553819865474241 -0.72479044335830589141 -0.21167881932148305268 0.4773793453320644975 0.86359692081767969185 -1.4618018560975074571 -1.0414636708901743312 0.51512406419167600102 1.3667483216094369336 -0.49140243552446255526 -1.3077681062525066125 -0.39696497278490339156 0.12188416884178851496 -0.35677561905868321324 0.4380950855959969692;-0.1692595848695928884 -16.562779645778398674 -0.043257344025410732202 0.024805082662853427528 0.047509164983949886407 -0.0052955072436121960328 0.018705680820191826486 0.0079190161081832220052 -0.10788307544520205072 -0.029351695565643213387 -0.11021315717595320249 -0.019661907259044250629 -0.031194678391681135432 0.10753047970183265969 -0.28309841464967266944 -0.029534644325742282628 0.0077936146991552223556 0.016161567584890675769 -0.075364554077521572761 0.233896176770513331 0.17138883459254186659 0.0014749602594213017011 0.0018727370389710342683 -0.030247322344663579025 1.144070161384797002 0.010947125414426160314 0.011498276491593401386 0.0046054323310858085241 0.030669744660439923756 0.033747624774581118368 16.040161386830583012 -0.11266183426674450385 0.042761347031790859774 0.078335767150093993383 -0.049030845127613485734 -0.04871189854760997473 -0.0042469426590920891437 -0.66843696025701093699 -0.42327079231539188608 0.036443325366241487162];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;2];
y1_step1.xoffset = [-1;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
