function [y1] = gdNetBDMix30v2(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 28-Jul-2021 22:06:07.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx14 matrix, input #1
% and returns:
%   y = Qx2 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0.03278;0.037097;0.043548;0.054841;0.075468;0.115881;0.135191;0.115127;0.100462;0.078792;0.05694;0.046205;0.03278;0.004303];
x1_step1.gain = [2.0677818903662;2.07705241337913;2.09106154830561;2.1160460832516;2.16325665309584;2.26213892021323;2.31264938269606;2.26021135236356;2.22336354884396;2.17106234422628;2.12075583738044;2.09688664755005;2.0677818903662;2.00906490083256];
x1_step1.ymin = -1;

% Layer 1
b1 = [2.2498777430110017406;0.57725303650091108754;-2.7779706532536931896;-2.1299130525972920225;-0.40834873222025858119;-1.0907181480398926432;-1.0426555470435185935;6.0995590630439968649;1.9177689197688105871;3.2936998005750317553;1.9332635814297447485;-1.4376917594614582185;2.4961275824887549923;-2.7124450076430806078;1.2551884942080764329;1.7753066455956731939;0.90354776616329579575;1.7880975681144313238;6.6006215852056460136;0.79810225560731107297;2.7305565173565877757;-0.15289721246220064343;-5.9487760636379469759;1.5148808577653023466;-0.5041002077129903558;0.85235662817475732478;0.099025485844873889496;4.4419167238799044384;-13.754564944264222603;-4.1557275194081384484];
IW1_1 = [-0.36124741247597041971 -1.1284095108821594611 0.63538462797475347976 0.45097639435017744525 0.41714312946144072036 -0.017845772487672731388 -0.14842531498272826251 0.3423228375753613606 0.5059619078294320671 2.6999750216746137843e-07 1.2014086171867910391 0.48306630642688686006 -0.21079205653954941058 -0.80447551749176360314;-1.0479516365295260538 0.37857458850466135791 -0.10325160820824773322 1.9889075790535926114 -0.34622441886568655622 -0.42984177628491554435 0.51929366308745728009 0.25638978789992605822 0.99700097732018222452 -0.95179430432609390955 1.4863919742278774994 0.041833703160999713422 -0.87671177482474638154 -0.66313666575854413043;0.91366106051285234102 -0.79974811139472523625 -0.49387711600610439966 -0.023707985761062401464 0.18393720577297598129 1.1616747588961175985 0.4732685609540631666 -0.54363711898042377246 -0.82994491811645887402 -0.83884286416645026385 -0.60416659120271931638 -1.2806609698912603257 0.19319810648350946303 1.2145617870693241613;1.1857438254104444297 7.1980974665968995296 -6.2083194092224269767 0.11581211451995429562 2.3846886547689836178 2.0467546642435632265 0.79416276020308529393 -1.4836204139963820037 1.1920975034138288073 1.3698309953792007221 -0.53901593304260309036 -4.4369673802656004469 -0.15095752621303068497 -0.49810437644171973171;-0.080085767057749307485 0.24192679629964183863 0.67732624028712118402 0.07362221335658343524 -0.15030714785805132649 -0.53283730232201698129 0.41078058979332426892 0.33375832202735022936 1.3902683160634627946 -0.25497829961314250058 0.55248486087580084281 1.560348398221431232 -1.0033247964707157074 1.0678692895208570235;-1.637001767567144439 7.1676962285524510321 1.0715716183983934329 1.1928500290042631793 3.3233648719026978036 -2.4405772521168014322 -4.2971514401528816407 1.9404240716981120407 0.28571195397612270117 -3.5503221869512304742 0.41243144144259752393 2.8824197003063116718 -2.0765730773473900506 0.084613346426011759593;-1.3120274917264616032 6.8273632912356196911 1.1003167748952618066 0.89351016015674933346 2.8189660914233898303 -1.6880419832531112778 -3.6780069597181577201 0.45725445069902515005 0.89812367683156379972 -3.2250531106828725925 0.31943648669357405101 2.5564297295844755631 -2.3530748709262541141 -0.033350795714393970115;2.1084063687003551379 -0.8961115074753249754 0.023995224729066240432 0.3392522770768827689 -4.663501700382063575 6.9145493790785721444 -0.16061957675959256941 -1.5532416174375742735 1.5950138388045889126 -1.2605854688004138886 0.62195733016292231721 1.3290578384878752871 1.6676417036497552804 0.91249315149890752874;-0.13495072928072202045 -0.84098149545944533845 0.47278438357787799795 0.55326345449317015923 0.019475628540792169763 0.17881633416402267778 -0.11467559623400425117 0.18759624704814040208 0.40625902931896240577 0.25058696431909333047 1.0755142179190564367 0.67441651642457067783 -0.34254740185828419508 -0.44808849374861597914;0.3756821702441754951 -2.0330142990217052734 0.19890448166558871712 0.097314889364713955122 1.4415022700236368447 0.56476496335418391315 -1.2254401549739215582 0.56154239828035545923 1.8770856399352902066 -0.19548446538265681904 1.4008927385239366981 0.58883026285649520126 0.89169291310894882585 0.56456793181960829298;-0.36561933972661792014 1.8060207240695584918 -0.95199670219728671494 0.019806145284896582714 0.31221903701666087194 -0.90385779697385104647 -0.60356763503899257817 -0.11545691745048526633 -0.67778686581322233895 0.16284874404442434281 -0.21286309767653438518 0.58115242744351036652 -0.20740373780756007904 0.54987846681072627408;2.1979594702699549735 -3.8670752007270703388 -3.1691343341930409139 2.7064459155113076427 -8.1901669723004584256 2.7504328534376556448 3.2186172217966997344 -1.7279560253480137355 -8.4511011780550227002 -0.48558641366174970511 -0.087767298716991209995 -4.7717881972966811333 1.7653404230004825504 2.1116663720887856037;1.901470784418856308 -2.7160099958049817026 0.75476097955666388017 0.4886014975804598981 -0.46289823377457411935 0.069825971121008814646 0.39558516493156964389 -0.080278027912397104116 0.18835948211298811361 -0.24090804415962602247 1.699281149027387805 0.57477268039146967027 1.5439462524573956959 -0.73154278113690951457;-0.53474800931661981007 2.4271240333954735569 -0.52106366754518784745 0.13176663459927728805 0.16413660681345867975 -1.7784137938452582173 0.24730703272301343687 0.48392551348717893767 -0.36881129870713524888 0.28791238079015996076 -3.3524024397090110838 0.69735108939149570428 -1.3433332809527056551 1.2659867400449389407;-1.0863721354439883626 -0.46635424883314346989 3.1747222752703692095 -0.30466815622747700498 0.29733322435074449608 -0.18173413034298616098 -1.7929877630648658471 -0.49293398166481761091 -0.22776757968082772532 0.10572082886996789219 -0.033341432725486050415 -0.021945077532348981203 0.20968263636843093023 0.046072080025948307369;1.5237718528462913525 -0.10514775912709839467 -0.96098306401510524832 -1.7703012612448543184 -0.58537918629881158239 0.71883335463222941542 1.3262610571305382123 -1.9311315213701381044 -0.10420979506256235203 -0.43637604624461978631 -1.0751236827503356519 2.2746986694792430406 1.1567431709502842274 -0.87844999548012769885;2.5411877134986911031 -4.443660354279389324 1.6538126682212033192 -1.5028085019246251175 2.6658445383505475768 0.090552603517613933226 1.1406312483526692692 -0.27036505951715383844 0.85961430691737139576 -0.32763772425010051492 1.726774273212010824 -0.79427322648677145533 2.6239724415611971331 1.3562656430006840846;-0.045433210420445145628 -0.19032207160753225605 0.15735529570516576525 0.86578697758639477922 -0.43379693923857320925 -1.7068787597293013647 -1.7217931315572501116 2.3184916153505121805 1.0054779365689552328 1.1426182761560037537 1.9901126717246286901 -1.2332368375955926609 -0.73436026168092005673 -1.473360409168401608;-1.5072967076441130541 -1.1907186782317558116 -0.75486733222589719183 0.48295532058751311499 2.2692370397897683176 -0.21735682085650623319 1.4337407737327612089 -2.7407929688543686275 2.0866579816136545666 -2.0399571884719245318 6.5464716190300036303 10.639535111195934647 -1.8354028197904521669 -2.3694144808136994307;0.04600053867154996895 -0.41232481964191131096 0.058373211473029415486 -3.8241995486345667921 1.7017669631246226114 -1.6074622875680586453 2.5388762684459216246 1.6114835128759017469 -2.0461339656606232218 -0.45978386709963037227 -1.0172122433741330738 -0.52981503611656388664 1.6632499689302355783 -0.59657096610912863088;1.8626812444663800594 -2.6337660185082918396 0.9134975081675494879 0.58707178952544236683 -0.57728366420459364949 -0.067973657943386778246 0.26257419393151537612 0.170640934977837333 0.026987891456650970473 -0.15918301860435254969 1.5561884253175302106 0.63894719546018541312 1.852276669466079273 -0.85802719229155310909;-0.066440406892097694791 1.0404196208560085868 -0.61119751743841765901 1.4360017326347467304 -1.7191464977288859473 -0.49961979474193946027 -0.44176296774474810292 -0.35703326568980259248 -0.4024511687820360728 0.46458045751883436658 -0.49371361814016795355 0.62199791846610141821 -0.42442222097042009432 0.74875575188722576225;0.68772919665020260105 -7.7733397420968399771 -7.5860090311286896281 0.72539719837748306563 0.16605813585159939771 -3.7076558473308121044 7.7795962558605031845 0.09847727684071973242 0.011013621600909958426 2.1140823233170760176 1.3799343487314579271 -0.197454593357448277 0.99182003793225581578 -1.5926994517411239283;0.77015695286754837223 0.09344512696049669942 -1.133330221099279056 -1.9952104018830536525 -0.4007037492118457056 0.49927170819391319956 1.6246032629060520591 -2.1426566189477598279 -0.26130303269864002536 -0.31852720064100953357 -0.8006092639199868799 2.0696451778722377846 1.9772243943811598221 -0.72131517459430971595;0.44945352052640774598 -3.6331317009515688987 0.36690061465949369568 1.141207293886211005 -4.4654237720263703082 1.477718530037048783 0.30875035649030435625 0.086067552778654382584 -3.5805591522436506224 -0.87242897750472347962 -1.8326685726367153428 1.1761749645517909357 0.0058816652192781359101 3.632613326258748554;0.47297733344242454123 3.2944591252259680658 -0.025349659951712302797 -1.2125389988390413709 3.3240466934333658955 -0.45736735869823919032 -0.46470820577294102982 -0.16323849801665174519 3.3818972415610604187 0.9180413124534215763 1.4983298441211250207 -1.6356178933421829935 0.27297635567601630235 -3.7529112869437217803;0.11451906778721358815 -0.3416301293177590459 0.34341948004844963238 -0.38183598790509221121 0.25534876371005610363 -0.98245501661229794887 1.4064190744013611578 0.78648658903670054521 -0.91177172674463469182 -0.57288522002401409683 -0.07504575206571140189 -0.67208458943754878501 0.0035110774653053641522 0.33987112271084130022;-0.70240197297753215189 1.8402897657546899435 4.6787926507018839928 -0.15486915129371234268 -0.19777731972031320495 -0.28575451810550811516 -2.3373490897302620084 -1.0628383204152731523 -0.23389453657261066732 0.91613239089629394662 2.4292246340582543951 -2.5441102268841437883 -1.1734212204502716403 -0.82061412484173934523;-4.3930346351265026072 -1.302115340473452898 -0.30869924251935448867 2.3747938120175562382 -3.0138923972854119171 -0.94099344820006503021 -1.0251335005687285395 2.0818362813730271199 -1.2544720458961633458 -2.3444180277947870294 -0.19383219249226663061 5.4633134868771531245 -3.9899499163566423121 7.3043984164688611216;-0.093204011600687378114 1.7157500675558869929 -2.3487244888912925944 -0.35378762687186809943 0.12908662304292586875 0.84518277349238957186 0.58331619301525206023 0.1067396253120755506 0.32918364454102616579 -0.8479604836723828587 0.16513478813245602295 -2.994925892516605348 0.57116737536687711696 -0.31444408408026958135];

% Layer 2
b2 = [0.41097336530726080728;0.56630115462462560227];
LW2_1 = [2.8302851038927321348 0.75514971624531235239 -1.4876351125277733622 -0.27276316097678965367 -0.45846737979336826818 3.1341104958918197809 -3.4720337276523189907 0.55180898807718214982 -4.2596277678126313049 0.95795503741691556687 -2.959207821181434106 0.28057609475764766493 -5.3414000605728464421 -1.0507264286839346212 -1.7612563672571561746 -2.8108847297643779761 0.5001809418302972654 -0.81832666198751358166 0.30051397913855171229 0.46468252864818532233 3.913411085911414844 0.91617131827582731773 -0.24886448255432150334 2.5828583851167183916 -0.46621109149824557782 -0.40630704913624621222 -1.7748213655684779155 0.75222009241765119825 0.2703894499037724497 -1.8162986472533040327;-1.7692871415206523622 -0.35730933037679735165 0.42374996482118776342 -0.01880740814243723677 0.48236784310385155683 0.16948324523929886309 -0.06823038330628582171 0.11403098500974828688 1.470405701563296752 0.30692317189300366564 0.73000629366464886427 0.034859272067856064692 0.9471843293827629795 0.13586168787293662064 0.30115780284670523592 -0.31072935278285129801 0.060922314475302580261 0.18780278223601837295 0.083303480125608231344 -0.25188691673825974737 -0.9978967082995869875 -0.045828044681636481705 0.018592362477751721295 0.19708200771920872385 5.1023971354063375472 5.1387355884880410173 0.69935298558483760534 -0.13772825972005103834 -0.046104789567368478775 0.58874707265661674338];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;2];
y1_step1.xoffset = [-1;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
