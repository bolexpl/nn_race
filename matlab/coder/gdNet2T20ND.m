function [y1] = gdNet2T20ND(x1)
%GDNET2T20ND neural network simulation function.
%
% Auto-generated by MATLAB, 16-Aug-2021 17:34:00.
% 
% [y1] = gdNet2T20ND(x1) takes these arguments:
%   x = 14xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0.014469;0.014929;0.016612;0.019995;0.027617;0.033129;0.040462;0.032248;0.027814;0.019981;0.016227;0.014616;0.014469;0.001797];
x1_step1.gain = [2.02936285109246;2.03031050553716;2.03378524041375;2.04080591425554;2.05680272073864;2.06852827316157;2.08433642023557;2.06664517355686;2.05721950326378;2.04077676045056;2.03298931765763;2.02966559229701;2.02936285109246;2.00496228164708];
x1_step1.ymin = -1;

% Layer 1
b1 = [1.1924002755066975823;-7.3875386060705663382;11.853745172213544734;6.2792138792772256295;1.1876169200695401162;7.0156101417895913031;-8.1867816417556635855;-4.4329453903109712343;-10.952396717315069807;7.5449473535467248553;-0.76232147699436569876;-6.9390611947465306031;-0.88677085063019700506;-8.6827347480516809952;3.5540546411438400654;19.230042188050841645;6.3966399171331618234;-9.507069938367219919;1.0674980648902561153;1.0082480946549452483];
IW1_1 = [-0.36465906924263707944 -0.59101184560495512166 -0.81735041861580459699 1.2491662375567054166 0.1618921615130053393 0.74360355165844083114 -0.097571127043209762708 1.269099550690909961 1.0302147375559580489 -0.16075251704621007498 0.080563795609051941371 -0.10355289046614854498 -0.44136165016186018617 -0.058647073816120109946;-0.71807250138543288198 -1.5826930880793348422 -1.4414195216660439236 -0.32707182350592178821 0.36622026055906448105 -0.15911575168021482862 0.14210079673723066684 -0.31053338379657208224 0.2378950850972740283 0.29962566957521635791 0.050563430694015316924 -2.1214961635998190737 -1.4296773884341529293 0.015063268628917190345;5.8351342457928785379 -0.76970299619099025179 -5.4074929450578004264 -3.7815658823661606469 3.1364172411457684753 -1.1953790127494727802 -1.8885105078311883453 -2.1562087913989671506 -0.98935387398071916731 0.50358085978709055119 18.535922850963242325 -8.1602061525039459866 6.6693872049504747679 0.19641227412199976921;-5.190210710553840201 -0.48826492564836665444 2.9533323467859924349 6.9892617102735314916 -0.46033556036587824911 1.9178803289224144457 -0.6511851701830000394 1.6945849756936528507 -2.0732761091260063502 4.2130046979323498846 3.8648848634840509142 -1.0698526441962592504 -4.9381675956948267725 -0.35465678712963244479;-0.89993922438602680369 0.99543235942221697243 1.4220571039309655159 -6.9278557417099975169 4.2306389837332805115 7.7769093841533090128 0.060292140612967608237 0.46418961503840094895 0.66294062996972114021 0.65267268232706643349 0.68466753766589127927 -2.2612859027619682806 -0.64016882490855153698 0.0076137954866496030185;0.9669045459765083228 3.293884202410671147 0.77915420430586590506 3.003978221814022298 -0.68711372065392628539 -6.728186616491013794 -0.2701667099390803739 1.2074337455027503996 13.605827366098024456 4.3596012388841556273 -8.3972979256605420062 -1.7301281931396486069 1.7349608949966259797 -0.015306705667880697239;-2.7428738365843736702 0.78698189421883457673 0.83191182314566991529 0.029630059107684951492 8.334415059957844818 -3.7339041850898517794 1.3521566757944047943 -0.0036722516868621891614 0.34847965285392340506 13.491044657193619116 -11.438407344635121987 -9.7015017851256732939 -2.5960386744706580586 0.77055872793859847558;0.43903665831843285972 -6.4476920580999337318 1.683666142339707017 2.1215321446588575327 -0.14336449942942541824 -1.5447597630818561409 0.19604873576189474349 0.43606443711830022991 -3.5158361027023423695 1.0593906144318989693 -0.15503975137950196106 -0.42708025055726883679 0.59322858772887587797 -0.26220551566452043879;0.21843149103393527666 -7.7474628203994253539 0.26393950032885582502 0.50901966021891853487 2.0726621996382648128 0.20092533754431363135 0.82417105529259149233 -7.0382802540116298218 2.0557409039493554914 1.112751135571968808 -0.13338713474415328508 -4.2264510235764261026 0.27191695754253730755 0.1129732725293639134;1.5337306701603274917 0.052311921867489841187 1.587872001353774376 0.25393885950586175815 -0.42357663638659798222 0.16114259456210056065 -0.13723797097220055696 0.24971487848955498112 -0.25282005100010573884 -0.32911033264804978593 -0.061923186933450169445 2.156406219426231452 2.3803811561550021203 -0.0051650155923550350456;0.0159121144006413133 0.032344034404500517088 0.35002704703693310329 -0.28377985853187004395 0.89593589830479047897 -0.18440896194769554328 -0.011565401512628655997 -0.82299327662357724122 -0.35272477543147046086 -0.24566909583935245265 -0.44438309436533135477 0.0069864048961656745329 0.063533211056732652455 0.13526693429981648253;-2.5051508419131574001 2.9322893527678086656 -1.4154846396422511301 4.6700408920677229929 -0.67797345774980899424 -0.89640476203599195326 -0.52044879491897821921 -1.2974725344628186274 1.4042804048925565663 -2.1774535901496019363 0.75375733217363727334 -7.0340349754743778377 -3.3745447846607654618 0.53916542320721827508;-0.25739498057827708832 -0.26704562773848911084 -0.097546855957585512642 -0.042575185885164942845 -0.22358751619457273296 -0.022139889758998578667 -0.24516751651601026429 -0.21121327954144264449 0.12911387889133649209 -0.34610993729611816416 -0.13337465530289308036 -0.33501802425183901946 0.17174051507989324117 -0.58629903290445639641;0.28761244356776127784 -6.5565565545047501672 0.36576733286579166116 0.53517143775319930832 1.8168164899169945148 0.25307257745098893364 0.51850861393027858348 -3.4539819337796662246 0.65686545363250969931 1.0458254581653134707 -0.75961861501903471527 -3.4664724224588026047 0.19410341898554903106 0.10829765583990282052;10.312644749766985086 -16.8052226837428762 -4.1242103369044365024 1.3311605139863920133 0.40281410814228391093 1.296332118236729336 -0.023001762080689606288 1.3897759780257268325 -0.90394696266218055314 4.0673483300238713056 0.75137078552112812613 0.23145702485080660304 9.7238353967786022025 0.11074454673447430009;10.802242944729474772 -31.847311369924309332 1.5057491067809505303 11.094576189740726235 8.3867911729869017989 0.60546595348144538473 -3.5369477845874559563 5.570353610454532145 1.7096264281707884702 -5.3688408068699162712 0.70806538716644451537 11.997284623265278114 10.608043321331228626 0.054647739389204544325;4.1475316116648546227 -0.53371233438719012376 -4.1219130218010313627 -0.4362894007561263221 -0.14724750268382533203 -0.12048285489385522629 -0.47156382168513405473 -1.3908025412106899132 0.110392066450182319 0.63117146120594080916 3.2984939932605992219 1.038667610416101228 4.466595296606103993 0.20266581708586978161;-0.75162431916185024061 -0.64206480983353964032 0.024325847938470059745 -0.73232097017426722729 -1.8052973942131380625 -0.24896132219722375001 0.23544462737835156196 -3.8029778707019601391 1.0295614338300369539 0.62506834019740453723 0.08326770701575615663 -4.2163948098392545205 -0.9118467176128212115 0.031672966482512970865;-0.17980830102284464656 0.24143862222979789456 0.091910430783801275179 0.038567930330293528907 0.21327113382045048695 0.019654609517809680519 0.21895628253862434165 0.17968281573368655168 -0.11199982099188779405 0.30495003804626807931 0.11583985917076677907 0.30587760054890028583 0.25241700285823837069 0.42656156344326962016;0.57782114909477066966 1.2861845420924662431 2.1205010961459507257 -2.0179578954677994673 -3.5839656171171587751 -0.13265740770070719168 0.065027061467465355205 -1.5878990104114700799 -0.12365598721554450778 -0.80882449639449383039 0.16539115542925075797 3.8090543949865023343 1.2615175893094490167 0.076142287110738046674];

% Layer 2
b2 = [-7.1002736833890045531;3.6392898752335178791];
LW2_1 = [-0.65502621034021291102 -41.605746755846723772 -0.29751840391527145657 0.31053221051166801647 -0.22156317352289628397 -0.20430153661437636115 0.13490456006821438528 -0.40565779539346663585 -1.3169297619298547808 -32.765238142495412887 -1.0492361049749516777 -0.19963917287184865246 -0.24684587599337176611 1.7604569200806829965 -0.40255266580441168012 0.34410280095067413697 0.5879676328932300633 2.1716044648743690892 -0.21750241997814187545 -0.34397259242017985681;0.020562702476148494307 -3.1877225644730939891 -0.057716836686721950667 0.0170584447905291689 0.00080653951975127174956 -0.004686461848024368014 0.013189519382788542426 -0.013678829506260588994 -0.045919474159837672667 -2.5604669489380293967 0.13301348824844874685 -0.0042686577273967725096 -13.415086203037271062 0.11598393781701751837 -0.028807680297151229409 -0.0014545025975497261582 0.074004712313943218915 0.12581352658562217073 -16.834123445894014992 0.016525039606298180112];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;2];
y1_step1.xoffset = [-1;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
