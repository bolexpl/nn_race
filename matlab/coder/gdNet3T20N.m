function [y1] = gdNet3T20N(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 14-Aug-2021 22:04:58.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx14 matrix, input #1
% and returns:
%   y = Qx2 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0.014928;0.015345;0.016987;0.020906;0.027804;0.033082;0.040625;0.032347;0.027544;0.019775;0.016141;0.014448;0.014928;0.001797];
x1_step1.gain = [2.03030844445888;2.03116827721385;2.03456108922262;2.04270478626158;2.05719834272102;2.06842772603261;2.08469055374593;2.0668566107892;2.05664832136364;2.04034787931342;2.03281161223305;2.02931960972125;2.03030844445888;2.00451617494214];
x1_step1.ymin = -1;

% Layer 1
b1 = [1.4442859620465591242;6.3960897606250552982;0.8605496341676748262;-34.728726214303456743;0.57680745371011510336;13.277863207866710482;-6.9307816920901865743;-7.8284944874046740182;2.2505667319500628487;-1.9352709454258709698;4.5773480036494387235;-0.48491007506234728996;3.2626051498818604557;-3.7844045417296605649;-2.8921835497892161015;-1.8024547394647745246;7.7972311862779228875;21.294098108781113865;-8.0324145687593269116;-10.173020657801151501];
IW1_1 = [1.3184926427315599717 -4.3837606118800414023 -2.6746076165148635617 2.3327969693471217738 -0.69870719208973641745 0.58760622405219076203 -0.14118408339879259805 -0.30833018970587694474 -0.11565267376018771583 1.2460708993932720912 -0.17062755955644517969 0.88021760702126450315 1.5803637432355250869 -0.49511214987179996694;-1.0746256974327930145 2.0979186313274102993 -2.9253363518069432914 0.83219183294226584113 -0.78784599360307450144 -0.99211838227939452839 -0.98608403785689557886 -1.0719753053524228026 19.0320569141020286 -0.72800895043896540759 -4.9596794637057728394 -0.19755546964071071803 -1.5905518074278341967 2.0065645251759480772;0.12775929899425222946 3.241418573724576202 1.3352330319442253792 -5.1714557901921320848 2.1128018987259098438 0.35870739158597081397 1.7443452883099557216 0.28172688510910032234 0.54680950721859566954 -1.5204694939561469447 -11.541117813755725763 14.42473853589161692 0.071888374862498743978 1.8468529059347167376;-2.5885164499411787986 -7.1189610123204714043 -0.058431649512604016961 -0.43635737749999337076 -3.6123491152438176321 1.3672768322917931982 -4.8671583482839233525 -2.4989449489007662386 2.3109734265894825711 -6.1229856163729179386 4.1167939805979614221 -24.378109035676214233 -2.5920570510936893349 -6.1197523530459010388;-0.021255945207345427334 3.9393681380859462138 -2.2956551359659909117 -1.908977517250538547 1.1492145318000159815 -0.06249461803953124811 0.7209251996528718287 0.78417204352028024861 -0.27066662170122185449 1.4486182387791590731 -0.10814788915849952999 -0.18147413018961622289 -0.0075216860057487604924 0.78095156088385786486;3.2595748846636651841 8.5005050441315646026 -2.8590546348169851854 -3.0987582433171354523 4.9172438695951319332 -13.006223812301687559 7.6001769842398498866 -7.9938196264308576389 5.5073910300279091956 0.80630955577477236851 0.67757876732142641174 14.535121236212980023 1.7804925594174039194 0.37722930289613104682;-6.3043827690015339371 19.698484346039805359 -11.230394559890941153 8.7945354339355770179 -0.23385634717086323242 7.0452206836634019282 -13.737828185945764048 5.7597757403034801627 0.61082449046738118703 -0.72593622266752599881 3.4421505445661275679 -4.6691393784505006437 -6.9265974070010400965 2.0257818786994699067;-0.72827842700084510774 -0.73193151922043875324 0.087596233940687356911 0.22103024084026159923 1.202538699062878802 0.60556133242045251386 -0.20981130494432115308 -4.7966392724231994293 2.1732959764670698455 -0.6720911065209637103 -0.13158532515967341636 -4.1076325462409917222 -1.8716551705836792507 0.24496797075067239247;1.4575264695666778625 -0.67833245833851152362 0.73613399965773795852 0.24401646114575756275 -0.96727399232573774146 1.5393991496164003419 1.9028382647845270004 -1.9264655450831664751 2.5464984595800208567 2.0076561441752662773 1.9346086935419688491 0.25692520362175103044 0.62876376244650544756 -0.25612109448075393026;-0.30822875601892857356 -0.4599429985882452776 -0.24542457180108714909 -0.2542319886007781693 0.033599805365586231376 -0.45415093275948453799 -0.28758589396079553557 0.030283057785227721764 -0.42840913611388864446 0.45142994679803422065 -0.55758294893676474402 -0.076227794582925473277 0.33375932274717523551 2.7388785562230459902;0.11254087815010319074 0.50900371366640673187 -8.0635591073470589407 10.516563106064523936 -2.5899868672971502193 1.0743263560853366645 0.37657096139945778202 2.1961472354601059287 2.0434371991973656613 -0.42642313005478399424 -0.030851251527545617975 -0.80014231412210390371 0.73563793017152512288 -1.2570704390282845253;-0.62733536315893723145 -2.3077557372276937819 -0.25691755111308428594 2.5266730054520700754 0.45983978406656722537 -0.089256095503714716344 -0.3250464691610087109 1.5048281619697336797 -1.162317510085792982 -0.074509385000069955352 0.420398151921820451 -2.604400356854060572 -0.039999113400890143333 -0.77575800315207876778;0.10721328661164702956 1.18569746673982368 -0.79889532445729694032 -0.9758388149623588026 -0.86357385794556362768 -3.1785828761992389602 0.5548475050717149859 0.49652817852955044575 -8.3503533286028623905 2.0478594586024456703 -2.3850301152192829868 12.757968694308921442 0.3891159649366416895 0.15878663976995585627;-0.73127410702705697432 -1.3696518161158590665 0.32880875442683948906 0.83552889396707696879 0.79412586678297270026 -0.0361653449354279663 -0.95343944228871546631 -1.1919373177583629797 0.030388459948810408323 -0.25966601572684738786 -2.5948859972357585235 -0.70475840750251661504 0.60539454302168604904 0.23393474433635869092;-1.1021072642401743558 4.7887569250407384658 -6.4308971005824959732 2.0731742567216002726 0.41295498977752265191 1.5821266186563687217 -3.3030796744312365121 -0.19456483712734223834 1.5352514968008927898 2.7970732306018466495 -4.6551097757076354 -0.059602377455126115402 -0.65404870817420468487 -0.93777181387112606981;-0.19801214701292782494 -8.5781745965250486563 3.9338806850877827692 1.2404908506529153112 1.8894001312354027355 1.1365138468341502431 0.59885512656074280091 -0.49652920499796465714 0.76787964813840559053 0.25531542701861653644 1.1948020915911801154 -3.7023456163411907482 1.0149992655759294546 -0.73886980122204970467;1.4621533675589282186 0.71678089736401817689 -0.087093889525114029371 -0.22256611620879968028 -1.200306501927134839 -0.54885975321953539563 0.2912680078121477889 4.4329051584165251043 -1.9916985677788807685 0.59899375260151643818 0.073093979957795443547 4.2519822516065755025 1.2117039858570823885 -0.27696020095632306601;3.4511253731059743366 12.647166216119961391 -15.01489675724843309 10.010348443116399153 -1.8510828939583465758 -1.0733541261357975038 2.7809792645736766126 3.7318134338277255679 -2.8255776499115481393 -1.1729413115241635879 1.0579667628192801487 12.302054472306968691 3.3885718467966410294 -0.20046574332370362126;12.213921000869950362 -30.056408395972997738 -1.6216900599164336683 0.67064700341867566902 0.075052947573560263583 -0.42295348808328142587 -0.17343090455026871632 -0.56987468543841890423 -0.38169053186435886182 -1.3375817727386196676 0.55894646327392061291 -2.4005054456038932287 13.25805655975860553 0.86312897411935030068;-1.1270260024380389652 -0.82373975887088968229 -0.24180551839055258734 1.498816644776671092 1.7876014306616967442 1.5771051364966879316 -13.269821245231993245 -1.5000557040258910568 0.53441320685002513535 0.2515553037174152462 -0.37382714251277876505 0.96251359019517190863 -0.62712701759468303386 -0.34857936348005175153];

% Layer 2
b2 = [-0.80215134997174764031;0.97632799876916265269];
LW2_1 = [0.57580971220401488964 -0.16894383482541572294 0.27759771361818963431 -0.084613760791784800586 -0.50450492935359303459 0.15619363992646001504 -0.14658303362405361581 -6.4741957753311982771 0.38872059725124363805 0.18620001199305460937 -0.33208577156701130084 0.69701790952867836992 -0.18079664978835766065 -0.69457265114740873724 0.3052098755455832646 -0.45103179289216732695 -6.788876277408675719 0.18655253802313831457 -0.31161256114555607732 -0.17652508766511035287;-0.03435855109040501093 0.014237949280538512303 0.025393487122233628778 0.88220111503077525139 -0.01235108964267416648 0.0081849655576379399397 0.014870972240455167593 0.11932044751198972454 0.012333081625943308549 0.97031982185914178451 0.014411856963149959759 0.0037191424331845836238 -0.014018071691991179639 0.0027509035647368456842 -0.0094555466209843060804 0.010729813608970052707 0.12829681176879229043 -0.0061916218039667503953 0.003217003148308131364 -0.007587608056388649852];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;2];
y1_step1.xoffset = [-1;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
