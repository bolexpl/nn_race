function [y1] = gdNet3T20ND(x1)
%GDNET3T20ND neural network simulation function.
%
% Auto-generated by MATLAB, 16-Aug-2021 18:02:24.
% 
% [y1] = gdNet3T20ND(x1) takes these arguments:
%   x = 14xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0.014469;0.014929;0.016612;0.019995;0.027617;0.033082;0.040462;0.032248;0.027544;0.019775;0.016141;0.014448;0.014469;0.001797];
x1_step1.gain = [2.02936285109246;2.03031050553716;2.03378524041375;2.04080591425554;2.05680272073864;2.06842772603261;2.08433642023557;2.06664517355686;2.05664832136364;2.04034787931342;2.03281161223305;2.02931960972125;2.02936285109246;2.00451617494214];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.29617032982104590788;-4.1853588594551123236;0.99717838384388990391;-11.260209398568118644;7.7338602326081167249;3.9235516569889048455;-2.7518025745247580716;1.1466225650699350957;6.7526895989244559715;1.8557903295573052738;3.8835130327527562777;-4.9104445603744641957;-4.9070055086406210165;0.7955264709373963683;26.779711429988545035;-0.20284262888067994268;3.4008765043958155694;2.6186304153536070771;-10.233632820143611752;-3.2813762087231004294];
IW1_1 = [4.6809559525309749617 7.4652238444855507637 -13.386318013280034123 0.578084826911800298 -0.49123456072253895988 -0.13519472600676030183 -0.3623630069377595242 -0.70943396218698018263 -0.43242494052973012852 0.19183953397754327508 -0.99225187968301820085 -1.1675174387367828199 4.2613594231954250446 0.007980935486048829422;-1.6243665059228586944 2.6534390873912720998 0.15676786062137951228 -0.44229764568729185159 2.5030713241159343596 -0.98815117435775001731 0.56412635735765870315 0.87714877633998478146 0.32206719341059375505 0.32372531712275198768 0.9599074633430746406 -4.2140022343529039972 -1.8753030853415681989 0.26143933731454693792;-7.7157189945958677413 10.044055346780783822 5.8865286675053312138 -0.30828674026157942833 0.0059553098007372930883 -0.13565920673536821517 -0.4407023684425174781 0.044575799447031425049 -0.27317790472370118149 -0.15178471370894752734 0.72073602205411602117 1.2896071126404919927 -8.1312605629264567142 0.17413235631174792117;-5.8059921690760534219 5.650268249197277548 -0.7579001510099515615 0.3594956388531523328 1.6772656972727302271 0.084244189589271670227 -1.1445480721827840931 1.2789040833080977944 -7.8523399814722676382 3.016311143702499642 -1.9586602477395076427 -0.60917802250321306801 -6.5296479028440952419 -0.015003778378131943025;-1.7883986453829030516 9.4135231857625623064 3.0660382113503259482 -2.8381371212023704942 0.60812400634672991728 0.9522867772668567321 0.22578649540322875966 -0.79519704208386488009 1.0453254365152326866 1.0737403689075160074 0.46225735104970022693 0.1504095001401940801 -1.2662058082445810658 -0.3165301480777256149;2.6666266992547642545 0.079083658358625574802 -0.63032248028367832138 0.24360846109934200521 -4.6592545391234105878 1.1120126735680742058 -0.73643281278987837712 0.7491515579027995253 -2.4795487658044321755 6.150028825899244822 -2.4153624632640955383 -1.0672979691349386844 2.5591115820488359311 0.18812089715495081133;-0.14218687715587732812 0.49549288413267633668 0.21717059064968635695 -0.14490543645726328137 1.7961910520547388348 -3.5896969541601695397 0.34330668184318297032 0.15643174660854114455 2.4580339975879637038 2.7454758679313253644 -5.0579145718711506774 -0.58349918324621874444 -0.30483928269279947365 -0.0056334594719758285947;-1.7038717894760724292 0.89149750443117514731 2.0865500744505820485 -0.45297876000417142128 1.8286015236697501507 -1.9777598161886982275 4.4922458539728591376 -7.0176692225357717447 4.4745930995717282386 -2.6216178056436363342 -1.9814409980176710402 0.63210109156829297206 -1.1398336691427757295 -0.081930382047449915039;2.4347879512336829677 7.741897160332425365 -8.1218564225980536264 -0.98414284415372321746 -0.20297984888618564314 3.6818796154765629502 -5.0409781108367104352 8.761434229118561845 -5.2593188538872563953 13.396690701589475836 -1.1340472907095793254 0.51491716310876600726 1.3028903265023918934 0.43251330051052111481;2.9033536185587154321 6.4154349213726247214 -8.1487328456471566085 -2.4016114990254875394 0.12479914209718637186 0.1644614025898437637 1.1770810133982891887 -4.0776711505208025343 2.8785755433985191765 2.07543982059505705 1.254146527577812309 -2.314582167153302894 2.8754086739261932593 0.21252607603980860906;-0.037978902071054913836 -2.9416933624609615805 0.18653024520952091181 -1.1002042110328611457 -1.5348193941721663958 8.283173761853648287 -0.32464014427244530792 -0.38030438765566088044 0.79389390900004253027 1.5136903262482663823 0.3667138220771624102 0.20537348166626989698 -0.073321389135033859796 -0.1023526377238828805;3.5477164697764047574 -5.9676796035143517827 -10.146409071035225935 10.57628658621626272 -3.1707484519134654377 -3.293001996024030209 2.7444957187024341394 7.4305151108910427737 -19.157259910385288748 10.735456200210002464 -6.1285801652259532801 -2.8108302751051650326 2.5695495676232886773 -0.87776295376282476024;-3.2113908594467495128 0.19814263426622008568 1.3607722784990232689 2.8216710496286712129 0.33032445145923300389 -0.15689959892181301604 -0.551632009757801689 1.9513596950558278476 -1.6177614954987353801 0.81444135656661043043 -2.914156027806290794 -1.4725343815981080109 -3.0301465636187345787 0.030312174277333334138;0.13797702000560954638 0.119601225939769365 0.066483316947853782208 -0.0081493204213017311766 0.11747667323550181617 0.00016529391511935687033 -0.019768944348202567574 0.036596094421247997441 -0.0092266172512550370666 -0.060482295565217503164 0.086396633850014697975 0.062929549548555396843 -0.23788145044700462205 -1.4535521216184443816;0.28545126989866415057 6.7022717545017718166 -0.1106652280278355438 1.2664491342056818368 3.3426388851056301199 -0.46344282274340492522 4.4781594594932565556 2.9408811610187921559 -1.416155993880820585 3.4665637687877959294 0.81331954822137797478 15.701224521991566263 0.81378258546760429137 4.6852244551713830845;0.30633509468431180389 0.21282173215894650831 0.49966288498845090604 0.25666773654700292262 -2.3528603891652082325 -1.375613585577669884 -0.64685001916068862737 2.3881346247705588226 -4.3847951185932831919 -0.64428940059909911575 -0.18236122962377535051 0.36080698286592199908 -0.14497031886595387884 0.40265765065308650739;1.6313656935014351212 -1.1987732381008033844 0.035659471857284102958 -0.23329901361317118003 -0.88959461809547701883 0.055713143191595176917 -0.28946988912981275188 -0.44861254002262018759 -0.016450525542981726118 0.088413981848602204994 1.7378516912604085043 0.36655614543052406074 1.8066582611839694383 -0.061371418292419793739;2.4405246551808987832 -1.143386014788108751 -0.90082824704732034071 1.7305636874725618402 -2.7678636320860308118 1.6816390809059778011 0.80736497374875160205 0.30891097608612327896 0.67900597120237060622 2.2276916244242981335 -3.5208210377849868955 0.29743921879913626238 1.1409836466889560214 -0.33953863391256466908;-3.7248449009948179089 3.3401391749995021918 0.12879860489881311825 -0.89431949465455906623 1.984172913899497237 -1.6780733738862776416 3.7676859832085920488 -4.076258908321933383 1.2401442789856997884 0.76495043067484413957 0.51360054279830402724 -5.25441797027705082 -2.9765335651598516797 -4.3228600505028698109;-3.5693126227545204365 2.8918970795138778662 5.8240781931608873734 -5.369901605385970278 4.9066365673450897944 0.012400605235894666956 0.16738176514356004065 -0.81739174715807305649 1.2582188951591550818 -1.043619475199210278 -2.9847258365697233451 -0.44383356647400684647 -3.7379633540591687968 0.21496876557451702339];

% Layer 2
b2 = [-0.60041772546045302228;0.44933172781502361826];
LW2_1 = [0.35164690149855987178 -0.89698461114277183714 0.57579188176436713054 -0.4105270760733882307 0.29288807448794351718 0.36930572475565465185 0.41662440295864211492 -0.23556520121627241848 -0.17944873738875244396 -0.3114591622379546676 0.27716084260807166695 0.15824690820025333338 -0.63106358378055604774 0.015314842413708944224 -0.059773073477997769321 -0.30542969763994382015 -1.7324464723055517101 -0.45478121939651861005 -0.46271303832722021632 -0.412091959076309855;0.030158774236431287047 0.021264263640610910067 0.034538989718954533903 -0.015375666527391709804 0.0079127640788491070134 -0.0080784683079155074348 0.0083948115254085641651 -0.014991249174298467914 -0.0073297413758366611325 -0.017482526464295364277 -0.013663351911098754396 -0.0016788051528913486808 -0.022944327987531484142 -1.0562602506493738996 -0.77080421620842254349 0.0091326921288190851533 -0.073477438030867883723 -0.023244308870774568754 -0.68903652953387239943 -0.010662723601911209062];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1;2];
y1_step1.xoffset = [-1;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
